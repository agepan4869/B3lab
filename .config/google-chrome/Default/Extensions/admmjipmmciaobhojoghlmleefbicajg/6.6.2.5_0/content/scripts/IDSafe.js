var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(e){var a=0;return function(){return a<e.length?{done:!1,value:e[a++]}:{done:!0}}};$jscomp.arrayIterator=function(e){return{next:$jscomp.arrayIteratorImpl(e)}};$jscomp.makeIterator=function(e){var a="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return a?a.call(e):$jscomp.arrayIterator(e)};$jscomp.arrayFromIterator=function(e){for(var a,k=[];!(a=e.next()).done;)k.push(a.value);return k};
$jscomp.arrayFromIterable=function(e){return e instanceof Array?e:$jscomp.arrayFromIterator($jscomp.makeIterator(e))};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.objectCreate=$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(e){var a=function(){};a.prototype=e;return new a};$jscomp.underscoreProtoCanBeSet=function(){var e={a:!0},a={};try{return a.__proto__=e,a.a}catch(k){}return!1};
$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(e,a){e.__proto__=a;if(e.__proto__!==a)throw new TypeError(e+" is not extensible");return e}:null;
$jscomp.inherits=function(e,a){e.prototype=$jscomp.objectCreate(a.prototype);e.prototype.constructor=e;if($jscomp.setPrototypeOf){var k=$jscomp.setPrototypeOf;k(e,a)}else for(k in a)if("prototype"!=k)if(Object.defineProperties){var f=Object.getOwnPropertyDescriptor(a,k);f&&Object.defineProperty(e,k,f)}else e[k]=a[k];e.superClass_=a.prototype};$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:"undefined"!=typeof global&&null!=global?global:e};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,a,k){e!=Array.prototype&&e!=Object.prototype&&(e[a]=k.value)};$jscomp.polyfill=function(e,a,k,f){if(a){k=$jscomp.global;e=e.split(".");for(f=0;f<e.length-1;f++){var c=e[f];c in k||(k[c]={});k=k[c]}e=e[e.length-1];f=k[e];a=a(f);a!=f&&null!=a&&$jscomp.defineProperty(k,e,{configurable:!0,writable:!0,value:a})}};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(e){function a(){this.batch_=null}function k(a){return a instanceof c?a:new c(function(b,c){b(a)})}if(e&&!$jscomp.FORCE_POLYFILL_PROMISE)return e;a.prototype.asyncExecute=function(a){if(null==this.batch_){this.batch_=[];var b=this;this.asyncExecuteFunction(function(){b.executeBatch_()})}this.batch_.push(a)};var f=$jscomp.global.setTimeout;a.prototype.asyncExecuteFunction=function(a){f(a,0)};a.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var a=
this.batch_;this.batch_=[];for(var b=0;b<a.length;++b){var c=a[b];a[b]=null;try{c()}catch(l){this.asyncThrow_(l)}}}this.batch_=null};a.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a;})};var c=function(a){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var b=this.createResolveAndReject_();try{a(b.resolve,b.reject)}catch(p){b.reject(p)}};c.prototype.createResolveAndReject_=function(){function a(a){return function(f){c||(c=!0,a.call(b,f))}}var b=this,c=!1;
return{resolve:a(this.resolveTo_),reject:a(this.reject_)}};c.prototype.resolveTo_=function(a){if(a===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof c)this.settleSameAsPromise_(a);else{a:switch(typeof a){case "object":var b=null!=a;break a;case "function":b=!0;break a;default:b=!1}b?this.resolveToNonPromiseObj_(a):this.fulfill_(a)}};c.prototype.resolveToNonPromiseObj_=function(a){var b=void 0;try{b=a.then}catch(p){this.reject_(p);return}"function"==typeof b?
this.settleSameAsThenable_(b,a):this.fulfill_(a)};c.prototype.reject_=function(a){this.settle_(2,a)};c.prototype.fulfill_=function(a){this.settle_(1,a)};c.prototype.settle_=function(a,b){if(0!=this.state_)throw Error("Cannot settle("+a+", "+b+"): Promise already settled in state"+this.state_);this.state_=a;this.result_=b;this.executeOnSettledCallbacks_()};c.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var a=0;a<this.onSettledCallbacks_.length;++a)b.asyncExecute(this.onSettledCallbacks_[a]);
this.onSettledCallbacks_=null}};var b=new a;c.prototype.settleSameAsPromise_=function(a){var b=this.createResolveAndReject_();a.callWhenSettled_(b.resolve,b.reject)};c.prototype.settleSameAsThenable_=function(a,b){var c=this.createResolveAndReject_();try{a.call(b,c.resolve,c.reject)}catch(l){c.reject(l)}};c.prototype.then=function(a,b){function f(a,d){return"function"==typeof a?function(d){try{g(a(d))}catch(t){m(t)}}:d}var g,m,d=new c(function(a,d){g=a;m=d});this.callWhenSettled_(f(a,g),f(b,m));return d};
c.prototype.catch=function(a){return this.then(void 0,a)};c.prototype.callWhenSettled_=function(a,c){function f(){switch(g.state_){case 1:a(g.result_);break;case 2:c(g.result_);break;default:throw Error("Unexpected state: "+g.state_);}}var g=this;null==this.onSettledCallbacks_?b.asyncExecute(f):this.onSettledCallbacks_.push(f)};c.resolve=k;c.reject=function(a){return new c(function(b,c){c(a)})};c.race=function(a){return new c(function(b,c){for(var f=$jscomp.makeIterator(a),m=f.next();!m.done;m=f.next())k(m.value).callWhenSettled_(b,
c)})};c.all=function(a){var b=$jscomp.makeIterator(a),f=b.next();return f.done?k([]):new c(function(a,c){function d(d){return function(b){h[d]=b;q--;0==q&&a(h)}}var h=[],q=0;do h.push(void 0),q++,k(f.value).callWhenSettled_(d(h.length-1),c),f=b.next();while(!f.done)})};return c},"es6","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.SymbolClass=function(e,a){this.$jscomp$symbol$id_=e;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:a})};$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};$jscomp.Symbol=function(){function e(k){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(k||"")+"_"+a++,k)}var a=0;return e}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var e=$jscomp.global.Symbol.iterator;e||(e=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[e]&&$jscomp.defineProperty(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var e=$jscomp.global.Symbol.asyncIterator;e||(e=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(e){$jscomp.initSymbolIterator();e={next:e};e[$jscomp.global.Symbol.iterator]=function(){return this};return e};$jscomp.generator={};
$jscomp.generator.ensureIteratorResultIsObject_=function(e){if(!(e instanceof Object))throw new TypeError("Iterator result "+e+" is not an object");};$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};
$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(e){this.yieldResult=e};
$jscomp.generator.Context.prototype.throw_=function(e){this.abruptCompletion_={exception:e,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(e){this.abruptCompletion_={return:e};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(e){this.abruptCompletion_={jumpTo:e};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(e,a){this.nextAddress=a;return{value:e}};
$jscomp.generator.Context.prototype.yieldAll=function(e,a){e=$jscomp.makeIterator(e);var k=e.next();$jscomp.generator.ensureIteratorResultIsObject_(k);if(k.done)this.yieldResult=k.value,this.nextAddress=a;else return this.yieldAllIterator_=e,this.yield(k.value,a)};$jscomp.generator.Context.prototype.jumpTo=function(e){this.nextAddress=e};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};
$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(e,a){this.catchAddress_=e;void 0!=a&&(this.finallyAddress_=a)};$jscomp.generator.Context.prototype.setFinallyBlock=function(e){this.catchAddress_=0;this.finallyAddress_=e||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(e,a){this.nextAddress=e;this.catchAddress_=a||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(e){this.catchAddress_=e||0;e=this.abruptCompletion_.exception;this.abruptCompletion_=null;return e};$jscomp.generator.Context.prototype.enterFinallyBlock=function(e,a,k){k?this.finallyContexts_[k]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=e||0;this.finallyAddress_=a||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(e,a){a=this.finallyContexts_.splice(a||0)[0];if(a=this.abruptCompletion_=this.abruptCompletion_||a){if(a.isException)return this.jumpToErrorHandler_();void 0!=a.jumpTo&&this.finallyAddress_<a.jumpTo?(this.nextAddress=a.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=e};$jscomp.generator.Context.prototype.forIn=function(e){return new $jscomp.generator.Context.PropertyIterator(e)};
$jscomp.generator.Context.PropertyIterator=function(e){this.object_=e;this.properties_=[];for(var a in e)this.properties_.push(a);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var e=this.properties_.pop();if(e in this.object_)return e}return null};$jscomp.generator.Engine_=function(e){this.context_=new $jscomp.generator.Context;this.program_=e};
$jscomp.generator.Engine_.prototype.next_=function(e){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,e,this.context_.next_);this.context_.next_(e);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(e){this.context_.start_();var a=this.context_.yieldAllIterator_;if(a)return this.yieldAllStep_("return"in a?a["return"]:function(a){return{value:a,done:!0}},e,this.context_.return);this.context_.return(e);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(e){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],e,this.context_.next_);this.context_.throw_(e);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(e,a,k){try{var f=e.call(this.context_.yieldAllIterator_,a);$jscomp.generator.ensureIteratorResultIsObject_(f);if(!f.done)return this.context_.stop_(),f;var c=f.value}catch(b){return this.context_.yieldAllIterator_=null,this.context_.throw_(b),this.nextStep_()}this.context_.yieldAllIterator_=null;k.call(this.context_,c);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var e=this.program_(this.context_);if(e)return this.context_.stop_(),{value:e.value,done:!1}}catch(a){this.context_.yieldResult=void 0,this.context_.throw_(a)}this.context_.stop_();if(this.context_.abruptCompletion_){e=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(e.isException)throw e.exception;return{value:e.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(e){this.next=function(a){return e.next_(a)};this.throw=function(a){return e.throw_(a)};this.return=function(a){return e.return_(a)};$jscomp.initSymbolIterator();this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(e,a){a=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(a));$jscomp.setPrototypeOf&&$jscomp.setPrototypeOf(a,e.prototype);return a};
$jscomp.asyncExecutePromiseGenerator=function(e){function a(a){return e.next(a)}function k(a){return e.throw(a)}return new Promise(function(f,c){function b(g){g.done?f(g.value):Promise.resolve(g.value).then(a,k).then(b,c)}b(e.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(e){return $jscomp.asyncExecutePromiseGenerator(e())};$jscomp.asyncExecutePromiseGeneratorProgram=function(e){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(e)))};
$jscomp.polyfill("Object.is",function(e){return e?e:function(a,k){return a===k?0!==a||1/a===1/k:a!==a&&k!==k}},"es6","es3");$jscomp.polyfill("Array.prototype.includes",function(e){return e?e:function(a,k){var f=this;f instanceof String&&(f=String(f));var c=f.length;k=k||0;for(0>k&&(k=Math.max(k+c,0));k<c;k++){var b=f[k];if(b===a||Object.is(b,a))return!0}return!1}},"es7","es3");
$jscomp.checkStringArgs=function(e,a,k){if(null==e)throw new TypeError("The 'this' value for String.prototype."+k+" must not be null or undefined");if(a instanceof RegExp)throw new TypeError("First argument to String.prototype."+k+" must not be a regular expression");return e+""};$jscomp.polyfill("String.prototype.includes",function(e){return e?e:function(a,k){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,k||0)}},"es6","es3");
$jscomp.findInternal=function(e,a,k){e instanceof String&&(e=String(e));for(var f=e.length,c=0;c<f;c++){var b=e[c];if(a.call(k,b,c,e))return{i:c,v:b}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(e){return e?e:function(a,k){return $jscomp.findInternal(this,a,k).v}},"es6","es3");$jscomp.checkEs6ConformanceViaProxy=function(){try{var e={},a=Object.create(new $jscomp.global.Proxy(e,{get:function(k,f,c){return k==e&&"q"==f&&c==a}}));return!0===a.q}catch(k){return!1}};
$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();$jscomp.owns=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)};
$jscomp.polyfill("WeakMap",function(e){function a(){if(!e||!Object.seal)return!1;try{var a=Object.seal({}),b=Object.seal({}),c=new e([[a,2],[b,3]]);if(2!=c.get(a)||3!=c.get(b))return!1;c.delete(a);c.set(b,4);return!c.has(a)&&4==c.get(b)}catch(d){return!1}}function k(){}function f(a){if(!$jscomp.owns(a,b)){var c=new k;$jscomp.defineProperty(a,b,{value:c})}}function c(a){var b=Object[a];b&&(Object[a]=function(a){if(a instanceof k)return a;f(a);return b(a)})}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(e&&
$jscomp.ES6_CONFORMANCE)return e}else if(a())return e;var b="$jscomp_hidden_"+Math.random();c("freeze");c("preventExtensions");c("seal");var g=0,B=function(a){this.id_=(g+=Math.random()+1).toString();if(a){a=$jscomp.makeIterator(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}};B.prototype.set=function(a,c){f(a);if(!$jscomp.owns(a,b))throw Error("WeakMap key fail: "+a);a[b][this.id_]=c;return this};B.prototype.get=function(a){return $jscomp.owns(a,b)?a[b][this.id_]:void 0};B.prototype.has=
function(a){return $jscomp.owns(a,b)&&$jscomp.owns(a[b],this.id_)};B.prototype.delete=function(a){return $jscomp.owns(a,b)&&$jscomp.owns(a[b],this.id_)?delete a[b][this.id_]:!1};return B},"es6","es3");$jscomp.MapEntry=function(){};
$jscomp.polyfill("Map",function(e){function a(){if($jscomp.ASSUME_NO_NATIVE_MAP||!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var a=Object.seal({x:4}),b=new e($jscomp.makeIterator([[a,"s"]]));if("s"!=b.get(a)||1!=b.size||b.get({x:4})||b.set({x:4},"t")!=b||2!=b.size)return!1;var c=b.entries(),d=c.next();if(d.done||d.value[0]!=a||"s"!=d.value[1])return!1;d=c.next();return d.done||4!=d.value[0].x||"t"!=d.value[1]||!c.next().done?!1:!0}catch(h){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(e&&$jscomp.ES6_CONFORMANCE)return e}else if(a())return e;$jscomp.initSymbolIterator();var k=new WeakMap,f=function(a){this.data_={};this.head_=g();this.size=0;if(a){a=$jscomp.makeIterator(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}};f.prototype.set=function(a,b){a=0===a?0:a;var f=c(this,a);f.list||(f.list=this.data_[f.id]=[]);f.entry?f.entry.value=b:(f.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:a,
value:b},f.list.push(f.entry),this.head_.previous.next=f.entry,this.head_.previous=f.entry,this.size++);return this};f.prototype.delete=function(a){a=c(this,a);return a.entry&&a.list?(a.list.splice(a.index,1),a.list.length||delete this.data_[a.id],a.entry.previous.next=a.entry.next,a.entry.next.previous=a.entry.previous,a.entry.head=null,this.size--,!0):!1};f.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=g();this.size=0};f.prototype.has=function(a){return!!c(this,a).entry};
f.prototype.get=function(a){return(a=c(this,a).entry)&&a.value};f.prototype.entries=function(){return b(this,function(a){return[a.key,a.value]})};f.prototype.keys=function(){return b(this,function(a){return a.key})};f.prototype.values=function(){return b(this,function(a){return a.value})};f.prototype.forEach=function(a,b){for(var c=this.entries(),d;!(d=c.next()).done;)d=d.value,a.call(b,d[1],d[0],this)};f.prototype[Symbol.iterator]=f.prototype.entries;var c=function(a,b){var c=b&&typeof b;"object"==
c||"function"==c?k.has(b)?c=k.get(b):(c=""+ ++B,k.set(b,c)):c="p_"+b;var d=a.data_[c];if(d&&$jscomp.owns(a.data_,c))for(a=0;a<d.length;a++){var h=d[a];if(b!==b&&h.key!==h.key||b===h.key)return{id:c,list:d,index:a,entry:h}}return{id:c,list:d,index:-1,entry:void 0}},b=function(a,b){var c=a.head_;return $jscomp.iteratorPrototype(function(){if(c){for(;c.head!=a.head_;)c=c.previous;for(;c.next!=c.head;)return c=c.next,{done:!1,value:b(c)};c=null}return{done:!0,value:void 0}})},g=function(){var a={};return a.previous=
a.next=a.head=a},B=0;return f},"es6","es3");
$jscomp.polyfill("Set",function(e){function a(){if($jscomp.ASSUME_NO_NATIVE_SET||!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var a=Object.seal({x:4}),c=new e($jscomp.makeIterator([a]));if(!c.has(a)||1!=c.size||c.add(a)!=c||1!=c.size||c.add({x:4})!=c||2!=c.size)return!1;var b=c.entries(),g=b.next();if(g.done||g.value[0]!=a||g.value[1]!=a)return!1;g=b.next();return g.done||g.value[0]==a||4!=g.value[0].x||g.value[1]!=g.value[0]?!1:b.next().done}catch(B){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(e&&$jscomp.ES6_CONFORMANCE)return e}else if(a())return e;$jscomp.initSymbolIterator();var k=function(a){this.map_=new Map;if(a){a=$jscomp.makeIterator(a);for(var c;!(c=a.next()).done;)this.add(c.value)}this.size=this.map_.size};k.prototype.add=function(a){a=0===a?0:a;this.map_.set(a,a);this.size=this.map_.size;return this};k.prototype.delete=function(a){a=this.map_.delete(a);this.size=this.map_.size;return a};k.prototype.clear=function(){this.map_.clear();
this.size=0};k.prototype.has=function(a){return this.map_.has(a)};k.prototype.entries=function(){return this.map_.entries()};k.prototype.values=function(){return this.map_.values()};k.prototype.keys=k.prototype.values;k.prototype[Symbol.iterator]=k.prototype.values;k.prototype.forEach=function(a,c){var b=this;this.map_.forEach(function(f){return a.call(c,f,f,b)})};return k},"es6","es3");
$jscomp.iteratorFromArray=function(e,a){$jscomp.initSymbolIterator();e instanceof String&&(e+="");var k=0,f={next:function(){if(k<e.length){var c=k++;return{value:a(c,e[c]),done:!1}}f.next=function(){return{done:!0,value:void 0}};return f.next()}};f[Symbol.iterator]=function(){return f};return f};$jscomp.polyfill("Array.prototype.values",function(e){return e?e:function(){return $jscomp.iteratorFromArray(this,function(a,k){return k})}},"es8","es3");
$jscomp.polyfill("Array.prototype.keys",function(e){return e?e:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");$jscomp.polyfill("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991},"es6","es3");$jscomp.assign="function"==typeof Object.assign?Object.assign:function(e,a){for(var k=1;k<arguments.length;k++){var f=arguments[k];if(f)for(var c in f)$jscomp.owns(f,c)&&(e[c]=f[c])}return e};
$jscomp.polyfill("Object.assign",function(e){return e||$jscomp.assign},"es6","es3");$jscomp.polyfill("String.prototype.startsWith",function(e){return e?e:function(a,k){var f=$jscomp.checkStringArgs(this,a,"startsWith");a+="";var c=f.length,b=a.length;k=Math.max(0,Math.min(k|0,f.length));for(var g=0;g<b&&k<c;)if(f[k++]!=a[g++])return!1;return g>=b}},"es6","es3");
$jscomp.polyfill("Object.values",function(e){return e?e:function(a){var k=[],f;for(f in a)$jscomp.owns(a,f)&&k.push(a[f]);return k}},"es8","es3");$jscomp.polyfill("Array.prototype.findIndex",function(e){return e?e:function(a,k){return $jscomp.findInternal(this,a,k).i}},"es6","es3");
$jscomp.polyfill("Array.from",function(e){return e?e:function(a,k,f){k=null!=k?k:function(a){return a};var c=[],b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];if("function"==typeof b){a=b.call(a);for(var g=0;!(b=a.next()).done;)c.push(k.call(f,b.value,g++))}else for(b=a.length,g=0;g<b;g++)c.push(k.call(f,a[g],g));return c}},"es6","es3");
(function(e){e=e.IDSafe=e.IDSafe||{};var a={autochange:{AUTOCHANGE_LABEL:"autochange",AUTOCHANGE_FAILED:"failed"},performanceReporter:{COMPONENT:{IDSAFE:"IDSafe"},TYPE:{FORCE_SYNC_VAULT:"forceSyncVault",OPEN_VAULT:"openVault",VAULT_TAB_UI:"checkIfTabExistElseCreate",POPUP_HTML:"getLoginsInOrder"}},SERIALIZE_DATA_TYPE:{BINARY:0,BOOL:1,UINT32:2,STRING:3,LONG:4},STARTING_CHECKSUM:1130461520,DEFAULT_USERNAME:"100",DEFAULT_PASSWORD:"101",DEFAULT_LOGIN_NOTES:"102",DEFAULT_LOGIN_URL:"2000",DEFAULT_SECURE:"2001",
DEFAULT_FAV_ICON_URL:"2002",DEFAULT_SITE_NAME:"2003",DEFAULT_SIGN_ON_DESTINATION:"2004",DEFAULT_CRED_0:"3000",DEFAULT_CRED_1:"3001",DEFAULT_CRED_2:"3002",DEFAULT_FOLDER:"4000",DEFAULT_AUTO_FILL:"4001",DEFAULT_AUTO_SUBMIT:"4002",DEFAULT_PROMINENT_COLOR:"4003",DEFAULT_NODE_ID:"0",DEFAULT_LASTUPDATE:"1",DEFAULT_FAVORITE:"3",DEFAULT_AES_INIT_VECTORY_SIZE:16,DEFAULT_CHALLENGE_ITERATION_COUNT:2E4,DEFAULT_VAULT_SCHEMA_ITERATION_COUNT:1E5,LOCAL_VERIFY_VAULT_PASSWORD_ITERATION_COUNT:5E3,DEFAULT_DERIVED_AES_KEY_SIZE:32,
DEFAULT_CHALLENGE_SALT_SIZE:256,LEARN_MORE_URL:"https://sitedirector.symantec.com/932743328?ssdcat=135&env=prod&origin=nortontoolbar&lang=ISO3_LAN_CODE&service=logins",DEFAULT_OBFUSCATION_KEY_SIZE:128,DEFAULT_HMAC_SIZE:23,DEFAULT_SHA_DIGEST:20,DEFAULT_APPID_NODE:"/11"};a.DEFAULT_APPID_IDSC_NODE=a.DEFAULT_APPID_NODE+"/IDSC";a.DEFAULT_IDSC_PATH_CRC="/SPS/User";a.DEFAULT_LOGIN_NODE=a.DEFAULT_APPID_IDSC_NODE+"/1";a.DEFAULT_IDENTITY_NODE=a.DEFAULT_APPID_IDSC_NODE+"/2";a.DEFAULT_ADDRESS_NODE=a.DEFAULT_APPID_IDSC_NODE+
"/3";a.DEFAULT_CREDIT_CARD_NODE=a.DEFAULT_APPID_IDSC_NODE+"/4";a.DEFAULT_BANK_ACCOUNT_NODE=a.DEFAULT_APPID_IDSC_NODE+"/13";a.DEFAULT_NOTE_NODE=a.DEFAULT_APPID_IDSC_NODE+"/6";a.DEFAULT_PASSWORD_HINT="{8CFB92F1-A13C-41b6-95D3-8C08390160C9}";a.DEFAULT_CHALLENGE_IV="challengeIV";a.DEFAULT_LOGIN_ID="1";a.DEFAULT_PROFILE_ID="0";a.NCO_CHROMETOOLBAR="#coFrameDiv";a.LOGINS={DEFAULT_SORT_KEY:a.DEFAULT_SITE_NAME};a.CREDIT_CARDS={CARD_TYPE:"100",CARD_NUMBER:"101",NAME_ON_CARD:"102",EXPIRATION_MONTH:"104",EXPIRATION_YEAR:"105",
START_DAY:"106",START_MONTH:"107",START_YEAR:"108",ISSUE_NUMBER:"109",SECURE:"2000",CARD_NAME:"2001",COUNTRY_REGION:"4000",IDENTITY_CARD:"4001",CARD_COMMENTS:"110"};a.CREDIT_CARDS.DEFAULT_SORT_KEY=a.CREDIT_CARDS.CARD_NAME;a.BANK_ACCOUNTS={OWNERNAME:"100",ROUTINGNUMBER:"101",ACCOUNTNUMBER:"102",ACCOUNTNAME:"2000",SECURE:"2001",BANKNAME:"2002"};a.BANK_ACCOUNTS.DEFAULT_SORT_KEY=a.BANK_ACCOUNTS.ACCOUNTNAME;a.ADDRESS={ADDR_CITY:"100",ADDR_POSTAL:"101",ADDR_STATE:"102",ADDR_STREET:"103",ADDR_STREET2:"104",
ADDR_STREET3:"105",APTSTREETHOUSENUM:"106",ADDR_CITY_ALPHABET:"107",ADDR_STREET_ALPHABET:"108",ADDR_STREET2_ALPHABET:"109",ADDRESSNAME:"2000",SECURE:"2001",COUNTRY_REGION:"4000"};a.IDENTITY={FIRSTNAME:"100",MIDDLENAME:"101",LASTNAME:"102",LASTNAME2:"103",FIRSTNAME_ALPHABET:"104",LASTNAME_ALPHABET:"105",FIRSTNAME_ROMAN:"106",LASTNAME_ROMAN:"107",DOB_DAY:"108",DOB_MONTH:"109",DOB_YEAR:"110",EMAIL:"111",PHONE_WORK:"112",PHONE_HOME:"113",PHONE_MOBILE:"114",SALUTATION:"118",PHONE_EXTENSION:"120",CARDNAME:"2000",
SECURE:"2001",GENDER:"2002",CREDITCARD_GUID:"4000",ADDRESS_GUID:"4001",COUNTRY_REGION:"4002"};a.NOTE={TITLE:"100",INFORMATION:"101",SECURE:"2000"};a.NOTE.DEFAULT_SORT_KEY=a.NOTE.TITLE;a.IDENTITY.DEFAULT_SORT_KEY=a.IDENTITY.CARDNAME;a.DEFAULT_CHALLENGE_SALT="challengeSalt";a.DEFAULT_VAULT_VERSION="Version";a.CURRENT_IDSAFE_VAULT_VERSION=327680;a.DEFAULT_VAULT_ENCRYPTION_KEY="{204DC88E-7D86-4565-AE26-889634D5DC34}";a.DEFAULT_VAULT_OBFUSCATION_KEY="{D835F5EF-C3E4-4e46-90D2-32BF15B925F0}";a.DEFAULT_VAULT_PBDK_SALT=
"{E2DDC45B-1125-498d-9D8A-A16EF91E6BA2}";a.DEFAULT_CRC_SIZE=4;a.IDSAFE_CONTAINER="idsafe";a.SIGNIN_SESSION_CONTAINER="signin_session";a.BROWSER_PASSWORD_IMPORT_CONTAINER="E22F91D0-E60E-49E6-AA60-11E2686F4C5F";a.IDSAFE_GLOBAL_SETTINGS_CONTAINER="A67898F3-323E-4B75-D80E-117C4DC28279";a.VAULT_UNLOCK_CONTAINER="41A00FCC-EB7E-42E2-B96D-798664F72AE8";a.IDSAFE_SECURITY_DASHBOARD_NOTIFICATION_CONTAINER="A67898F3-323E-4B75-D80E-117C4DC28210";a.IDSAFE_SECURITY_DASHBOARD_CONTAINER="A67898F3-323E-4B75-D80E-117C4DC28257";
a.DONT_ASK_SIGN_IN_AGAIN="25528BD9-3DD0-4261-B39B-C2BF8E65D986";a.STORED_VERSION="storedVersion";a.WELCOME_NOTIFICATION_CLICKED="notificationClicked";a.OPEN_VAULT_UI="openVaultUI";a.FINGERPRINT="fingerPrint";a.SPLASH_SCREEN_SHOWN="splashScreenShown";a.UNLOCK_NOTIFICATION_COUNT="unlockNotificationCount";a.IMPORT_MGR_DECRYPT_KEY="importMgrDecKey";a.IMPORT_MGR_DECRYPT_IV="importMgrDecIV";a.IMPORT_MGR_HASH_KEY="importMgrHashKey";a.SECURITY_DASHBOARD_FEATURE_POPUP_SHOWN="SecurityDashboardFeaturePopupShown";
a.SECURITY_DASHBOARD_HEALTH_STATUS_POPUP_NEXT_OCCURANCE="securityDashboardHealthStatusPopupNextOccurance";a.SECURITY_DASHBOARD_VISITED="SecurityDashboardVisited";a.VAULT_HEALTH_STATUS_NEXT_PING="vaultHealthStatusNextPing";a.IMPORT_MGR_TAG="importMgrTag";a.NUDGE_SCREEN_OPEN="nudgeScreenOpen";a.NPW_NUDGE="npw_nudge";a.AES_ALGORITHM={GCM:"AES-GCM",CBC:"AES-CBC"};a.CCT={ACTION:"LicenseCheck",REQUESTERIDS:"https://accesstoken.idsafe.norton.com/",PARTNER_UNITID:"5039",LAYOUTMEDIA_SKU:"21378613"};
a.passwordRuleRootCA="-----BEGIN CERTIFICATE----- MIIElDCCA3ygAwIBAgIQAf2j627KdciIQ4tyS8+8kTANBgkqhkiG9w0BAQsFADBh MQswCQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3 d3cuZGlnaWNlcnQuY29tMSAwHgYDVQQDExdEaWdpQ2VydCBHbG9iYWwgUm9vdCBD QTAeFw0xMzAzMDgxMjAwMDBaFw0yMzAzMDgxMjAwMDBaME0xCzAJBgNVBAYTAlVT MRUwEwYDVQQKEwxEaWdpQ2VydCBJbmMxJzAlBgNVBAMTHkRpZ2lDZXJ0IFNIQTIg U2VjdXJlIFNlcnZlciBDQTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEB ANyuWJBNwcQwFZA1W248ghX1LFy949v/cUP6ZCWA1O4Yok3wZtAKc24RmDYXZK83 nf36QYSvx6+M/hpzTc8zl5CilodTgyu5pnVILR1WN3vaMTIa16yrBvSqXUu3R0bd KpPDkC55gIDvEwRqFDu1m5K+wgdlTvza/P96rtxcflUxDOg5B6TXvi/TC2rSsd9f /ld0Uzs1gN2ujkSYs58O09rg1/RrKatEp0tYhG2SS4HD2nOLEpdIkARFdRrdNzGX kujNVA075ME/OV4uuPNcfhCOhkEAjUVmR7ChZc6gqikJTvOX6+guqw9ypzAO+sf0 /RR3w6RbKFfCs/mC/bdFWJsCAwEAAaOCAVowggFWMBIGA1UdEwEB/wQIMAYBAf8C AQAwDgYDVR0PAQH/BAQDAgGGMDQGCCsGAQUFBwEBBCgwJjAkBggrBgEFBQcwAYYY aHR0cDovL29jc3AuZGlnaWNlcnQuY29tMHsGA1UdHwR0MHIwN6A1oDOGMWh0dHA6 Ly9jcmwzLmRpZ2ljZXJ0LmNvbS9EaWdpQ2VydEdsb2JhbFJvb3RDQS5jcmwwN6A1 oDOGMWh0dHA6Ly9jcmw0LmRpZ2ljZXJ0LmNvbS9EaWdpQ2VydEdsb2JhbFJvb3RD QS5jcmwwPQYDVR0gBDYwNDAyBgRVHSAAMCowKAYIKwYBBQUHAgEWHGh0dHBzOi8v d3d3LmRpZ2ljZXJ0LmNvbS9DUFMwHQYDVR0OBBYEFA+AYRyCMWHVLyjnjUY4tCzh xtniMB8GA1UdIwQYMBaAFAPeUDVW0Uy7ZvCj4hsbw5eyPdFVMA0GCSqGSIb3DQEB CwUAA4IBAQAjPt9L0jFCpbZ+QlwaRMxp0Wi0XUvgBCFsS+JtzLHgl4+mUwnNqipl 5TlPHoOlblyYoiQm5vuh7ZPHLgLGTUq/sELfeNqzqPlt/yGFUzZgTHbO7Djc1lGA 8MXW5dRNJ2Srm8c+cftIl7gzbckTB+6WohsYFfZcTEDts8Ls/3HB40f/1LkAtDdC 2iDJ6m6K7hQGrn2iWZiIqBtvLfTyyRRfJs8sjX7tN8Cp1Tm5gr8ZDOo0rwAhaPit c+LJMto4JQtV05od8GiG7S5BNO98pVAdvzr508EIDObtHopYJeS4d60tbvVS3bR0 j6tJLp07kzQoH3jOlOrHvdPJbRzeXDLz -----END CERTIFICATE-----";a.CERT_INFO={CERT_ISSUER_NAME:"DigiCert SHA2 Secure Server CA",CERT_ISSUED:"static.nortoncdn.com"};a.passwordJSONURL="https://static.nortoncdn.com/idsafe/passwordchangerrule/v2/password_changer_rules.json";a.passwordChangerState={READY:"Ready",INPROGRESS:"inprogress",COMPLETED:"completed",SUSPENT:"suspented",FAILED:"failed",LOGOUT_INITIATED:"logoutInitiated",LOGOUT_COMPLETED:"logoutCompleted",INTERACTIVE:"interactive"};a.passwordChangerAction={CLICK:"click",
FILL:"text",OPENURL:"open",VERIFY:"verify"};a.JSONRule="JSONRule";a.cloudRule="cloudRule";a.CCT_URL_PARAMKEY={USER_AGENT:"X-Symc-User-Agent",NEW_SESSION:"newSession",ACCESS_TOKEN:"x-symc-access-token"};a.VERSION="6.6.2.5";a.PB_VERSION="1.0";a.WINDOW_ID="windowId";a.TAB_ID="tabId";a.IDSAFE_PORTAL_INTERSTITIAL_LANDING_PAGE="xidsafe-login.html";a.IDSAFE_PORTAL_XBP_TOUR_PAGE="xbp-tour";a.vaultManager={};a.vaultManager.stateInfo={};a.vaultManager.stateInfo.UNAUTHORIZED="User is unauthorized";
a.vaultManager.stateInfo.NETWORK_ERROR="Server returned an error";a.vaultManager.stateInfo.READING_NODES="Reading your vault";a.vaultManager.stateInfo.DECRYPTING_NODES="Decrypting your vault";a.vaultManager.stateInfo.VAULT_SYNCED="Successfully synced your vault";a.vaultManager.stateInfo.VAULT_SYNCED_DECRYPTED="Successfully synced and decrypted your vault";a.vaultManager.stateInfo.LOAD_FROM_CLOUD="Downloading your vault";a.vaultManager.stateInfo.VAULT_CREATED="Vault Successfully created";a.vaultManager.stateInfo.VAULT_PASSWORD_CHANGED=
"Vault Password Changed Successfully";a.vaultManager.stateInfo.HANDLE_CHALLENGE_FAILED="Unable to handle challenge";a.vaultManager.stateInfo.VAULT_NOT_FOUND="Vault does not exists for this user";a.vaultManager.stateInfo.VAULT_FOUND="Vault exists for this user";a.vaultManager.stateInfo.LOADED="Successfully downloaded your vault";a.vaultManager.stateInfo.GENERATE_DECRYPT_KEY_ERROR="Unable to generate decryption key.";a.vaultManager.stateInfo.INCORRECT_DECRYPT_KEY_ERROR="decryption key is incorrect.";
a.vaultManager.stateInfo.DECRYPT_VAULT_KEY_ERROR="Unable to decrypt the vault key. Very likely that vault has been corrupted";a.vaultManager.stateInfo.DECRYPT_OBFUSCATION_KEY_ERROR="Unable to decrypt the obfuscation key. Very likely that vault has been corrupted";a.vaultManager.stateInfo.SSO_UNAUTHORIZED="Unable to setup an sso connection";a.vaultManager.stateInfo.O2_RATE_LIMITED_ERROR="Too many failure attempts to answer the challenge";a.GET_DERIVED_KEY="985fe59f-a8ba-459d-a01b-c9c1889338cc";a.GET_DERIVED_KEY_RESPONSE=
"2d4e43f1-40a2-4387-8806-03ccaf277fc4";a.signIn={MESSAGES:{LANDING_PAGE_FOUND_MESSAGE:"A297C67C-21F3-459B-8764-6F8401CDE9C9"}};a.settings={};a.settings.CONTAINER="com.symantec.idsafe-settings";a.settings.AUTO_FILL="autoFill";a.settings.SHOULD_SET_AUTO_FILL_TO_FALSE="shouldSetAutoFillToFalse";a.settings.AUTO_SAVE="autoSave";a.settings.LOGIN_SAVING="loginSaving";a.settings.SHARE_DATA_WITH_NORTON="shareDataWithNorton";a.settings.HIDE_FAVICON="hideFavicon";a.settings.DO_NOT_ASK_AGAIN="doNotAskAgain";
a.settings.REQUIRE_VAULT_PASSWORD="requireVaultPassword";a.FEEDBACK_URL="https://security.symantec.com/pfb/pFeedback_form.aspx?pfb=go&products=idsafe&lnk=go&";a.MOBILE_UNLOCK_KB_URL="https://support.norton.com/sp/landing?&entsrc=help&helpid=mobile_unlock&";a.PRIVACY_POLICY_SSDCAT=150;a.HELP_SSDCAT=411;a.EULA_SSDCAT=151;a.WELCOME_LEARNMORE_SSDCAT=136;a.SITE_DIRECTOR_URL="https://sitedirector.symantec.com/932743328?ssdcat=SSDCAT_VALUE&env=prod&origin=idsafe&displang=iso3:ISO3_LAN_CODE&displocale=iso3:ISO3_COUNTRY_CODE";
a.VAULT_LOGIN_ITEM_ICON_URL="https://static.nortoncdn.com/idscp/images/v1/xidsafe/";a.VAULT_LOGIN_ITEM_FAVICON_URL="https://static.nortoncdn.com/idsafe/images/v1/favicons/";a.ISO2_ISO3_LANGUAGE={AB:"ABK",AA:"AAR",AF:"AFR",AK:"AKA",SQ:"SQI",AM:"AMH",AR:"ARA",AN:"ARG",HY:"HYE",AS:"ASM",AV:"AVA",AE:"AVE",AY:"AYM",AZ:"AZE",BM:"BAM",BA:"BAK",EU:"EUS",BE:"BEL",BN:"BEN",BH:"BIH",BI:"BIS",BS:"BOS",BR:"BRE",BG:"BUL",MY:"MYA",CA:"CAT",CH:"CHA",CE:"CHE",NY:"NYA",ZH:"ZHO",CV:"CHV",KW:"COR",
CO:"COS",CR:"CRE",HR:"HRV",CS:"CES",DA:"DAN",DV:"DIV",NL:"NLD",DZ:"DZO",EN:"ENG",EO:"EPO",ET:"EST",EE:"EWE",FO:"FAO",FJ:"FIJ",FI:"FIN",FR:"FRA",FF:"FUL",GL:"GLG",KA:"KAT",DE:"DEU",EL:"ELL",GN:"GRN",GU:"GUJ",HT:"HAT",HA:"HAU",HE:"HEB",HZ:"HER",HI:"HIN",HO:"HMO",HU:"HUN",IA:"INA",ID:"IND",IE:"ILE",GA:"GLE",IG:"IBO",IK:"IPK",IO:"IDO",IS:"ISL",IT:"ITA",IU:"IKU",JA:"JPN",JV:"JAV",KL:"KAL",KN:"KAN",KR:"KAU",KS:"KAS",KK:"KAZ",KM:"KHM",KI:"KIK",RW:"KIN",KY:"KIR",KV:"KOM",KG:"KON",KO:"KOR",KU:"KUR",KJ:"KUA",
LA:"LAT",LB:"LTZ",LG:"LUG",LI:"LIM",LN:"LIN",LO:"LAO",LT:"LIT",LU:"LUB",LV:"LAV",GV:"GLV",MK:"MKD",MG:"MLG",MS:"MSA",ML:"MAL",MT:"MLT",MI:"MRI",MR:"MAR",MH:"MAH",MN:"MON",NA:"NAU",NV:"NAV",ND:"NDE",NE:"NEP",NG:"NDO",NB:"NOB",NN:"NNO",NO:"NOR",II:"III",NR:"NBL",OC:"OCI",OJ:"OJI",CU:"CHU",OM:"ORM",OR:"ORI",OS:"OSS",PA:"PAN",PI:"PLI",FA:"FAS",PL:"POL",PS:"PUS",PT:"POR",QU:"QUE",RM:"ROH",RN:"RUN",RO:"RON",RU:"RUS",SA:"SAN",SC:"SRD",SD:"SND",SE:"SME",SM:"SMO",SG:"SAG",SR:"SRP",GD:"GLA",SN:"SNA",SI:"SIN",
SK:"SLK",SL:"SLV",SO:"SOM",ST:"SOT",ES:"SPA",SU:"SUN",SW:"SWA",SS:"SSW",SV:"SWE",TA:"TAM",TE:"TEL",TG:"TGK",TH:"THA",TI:"TIR",BO:"BOD",TK:"TUK",TL:"TGL",TN:"TSN",TO:"TON",TR:"TUR",TS:"TSO",TT:"TAT",TW:"TWI",TY:"TAH",UG:"UIG",UK:"UKR",UR:"URD",UZ:"UZB",VE:"VEN",VI:"VIE",VO:"VOL",WA:"WLN",CY:"CYM",WO:"WOL",FY:"FRY",XH:"XHO",YI:"YID",YO:"YOR",ZA:"ZHA",ZU:"ZUL"};a.idsSettings={MESSAGES:{GET_IDS_SETTING:"676be991-3e3f-40bd-878b-d3d54929d2dc",GET_ALL_IDS_SETTINGS:"93ee65ef-ec76-4a9d-aec7-6054f5e92529"}};
a.TELEMETRY_TRACKING_ID="UA-80690213-1";a.CCT_HOST="cloudconnect2.norton.com";a.MACHINE_GUID="machineGuid";a.CCT_DOMAIN="https://cloudconnect2.norton.com";a.CCT_URL=a.CCT_DOMAIN+"/cloudconnect/home";a.ONBOARDING_URL_IDENTITY="https://identitysafe.norton.com/";a.ONBOARDING_URL_SEARCHSAFE="https://searchsafe.norton.com/";a.ONBOARDING_URL_SEARCH="https://search.norton.com/";a.ONBOARDING_URL_DOMAIN="norton.com";a.ONBOARDING_PORTAL_SUBDOMAIN=
["identitysafe","search","searchsafe"];a.CGUID="guid";a.HTTP_PROTOCOL="http";a.HTTPS_PROTOCOL="https";a.IDENTITY_JOB="IDENTITY";a.telemetryOptOut={TIMEOUT:6E4,REOFFER_TIME_WINDOW:7776E6,NOTIFICATION_LEEWAY:3E5,MESSAGES:{CONTENT_SCRIPT_INJECTED:"40F903C6-D437-4BD9-95CF-8727B41713D1",USER_RESPONDED:"1F819F92-2460-4E54-9E43-C01BD0AF4C01"}};a.EVENTS={SPOC_CALLBACK:"C3D73D73-75C4-4675-BFDD-AAB5D9C0A903",VAULT_CLOSED:"0B8B5EA5-59EF-4E56-B6C8-B53244716241",SIGN_OUT:"2544944C-6754-47BD-BD41-6713431D10CA",
VAULT_SYNC:"AF7B63E0-F40E-4B5A-B59B-2B2B5CC371DB"};a.IMPORT_MANAGER={BROWSER:1,LASTPASS:2,DASHLANE:3,ONEPASS:4,RESPONSE_CODE:{SUCCESS:1,MASTER_PWD_USED:2,UPLOAD_ERROR:3,NO_DATA:4,VAULT_SYNCH_FAILED:5,VAULT_SYNCH_SUCCESS:6},JSON_DATA_CONTENT:{DATA:"data",CODE:"code",SUCCESS:"SUCCESS",ERROR_MASTER_PWD:"MASTER PASSWORD PROTECTED ERROR",STATUS:"status",LOGINDATA:"loginData",FAILURE:"FAILURE",BROWSERS:{CHROME:"CHROME",FIREFOX:"FIREFOX"}},BROWSER_IMPORT_JSON_SCHEMA:{SITE_URL:"siteUrl",SITE_NAME:"siteName",
USERNAME:"login",PASSWORD:"password"},COMPETITOR_IMPORT_JSON_SCHEMA:{SITE_URL:"siteUrl",SITE_NAME:"siteName",USERNAME:"username",PASSWORD:"password"},SHA_256_HASH:"sha256",PORTAL_BASE_URL:"https://identitysafe.norton.com/xidsafe-login.html",PORTAL_PROCESSING_URL:"https://identitysafe.norton.com/xidsafe-login.html?*",MESSAGE_HANDLE_TIMEOUT:1,LASTPASS_NOTES_URL:"http://sn",DECRYPT_RESPONSE_CONTENT:{STATUS:"status",LOGIN_DATA:"loginData"},VAULT_FORMAT_DATA:{LOGINS:"Logins",CARDS:"Cards"}};a.CREDITCARD=
{type:{Visa:"Visa",MasterCard:"MasterCard",Discover:"Discover",AmEx:"American Express",JCB:"JCB"}};a.SECURITY_DASHBOARD={PASSWORD_CATEGORY_LIST:[{strength:3,category:"VERY_WEAK"},{strength:5,category:"WEAK"},{strength:7,category:"MEDIUM"},{strength:8,category:"STRONG"},{strength:10,category:"VERY_STRONG"}],LIST_VIEW_FILTERS:{None:0,Strength:1,Duplicate:2,Age:3,Archived:4},LIST_VIEW_SORTING_COLUMN:{None:0,Strength:1,Duplicate:2,SiteName:3,Age:4,Action:5,Common:6,Compromised:7,Archived:8},SORT_ORDER:{None:0,
ASCENDING_ORDER:1,DESCENDING_ORDER:2},NOTIFICATIONS:{NEW_FEATURE_NOTIFICATION:"NewfeatureNotification",STRONG_MSG_NOTIFICATION:"StrongMsgNotification",MEDIUM_MSG_NOTIFICATION:"MediumMsgNotification",WEAK_MSG_NOTIFICATION:"WeakMsgNotification"},NOTIFICATION_ACTION_RESPONSE:{CLOSE:"closeClicked",VIEW_DASHBOARD:"viewDashboardClicked"}};a.SECURITY_DASHBOARD.LEARN_MORE_URL="https://sitedirector.symantec.com/932743328?ssdcat=164&env=prod&origin=idsafe&lang=SITE_DIRECTOR_LAN_CODE&service=safetydb";a.SECURITY_DASHBOARD.PASSWORD_CHANGE_SUCCESS_TEXT=
"AutoChange Backup";a.SECURITY_DASHBOARD.PASSWORD_CHANGE_FAILLURE_TEXT="AutoChange Fail";a.VAULT_VALIDATION={LOGIN_DATA:{SITE_NAME_MIN_SIZE:1,SITE_NAME_MAX_SIZE:256,SITE_URL_MIN_SIZE:5,SITE_URL_MAX_SIZE:1963,USERNAME_MIN_SIZE:1,USERNAME_MAX_SIZE:50,PASSWORD_MIN_SIZE:1,PASSWORD_MAX_SIZE:100}};a.KEY_VALUE={ENTER:13,ESC:27};a.NORTON_IDENTITY_SAFE="Norton Identity Safe";a.VAULT_UNLOCK={AWS_ERROR_TYPE:"x-amzn-errortype",AWS_REGION:"us-east-1",PROVIDER_URL:"login.norton.com/sso/oidc1/token",POOL_ID:"us-east-1:bf6139ac-7ae1-4a8f-8ef5-1e4aeeca8d06",
SETTINGS_KEY:{REGISTERED_DEVICE:"E76FD9F5-93FC-4A98-89D8-F6FC9597E785",ENCODED_PASSWORD:"91D61DDF-81AD-4713-BD1E-3C84AC9DA5FF",DERIVED_KEYS:"3DEF239E-5A28-49D2-ABA6-EBAC8CB7C070",ENCRYPTED_AES:"85844F1D-791D-4F03-B0C7-71BF25375DAB",REGISTERED_TIME:"registeredTime",DEVICE_DETAILS:"deviceDetails",ENCRYPTED_AES_KEYS:"encryptedAESKeys",UNLOCK_DERIVED_KEYS:"unlockDerivedKeys",PASSWORD_SALT:"passwordSalt",AUTO_MOBILE_UNLOCK_REQUEST:"autoMobileUnlockRequest"},RESPONSE_STATUS:{INVALID_SIGNATURE_EXCEPTION:"invalidsignatureexception",
UNLOCK_REQUEST_SENT:"sent",UNLOCK_REQUEST_COMPLETE:"complete",UNLOCK_REQUEST_TIMED_OUT:"timedOut",UNLOCK_REQUEST_CANCELED:"cancel",UNLOCK_REQUEST_FAILED:"fail",SOMETING_WENT_WRONG:"somethingWentWrong",UNLOCK_WELCOME:"welcome"},ANDROID:"Android",IOS:"ios",UNLOCK_REQUEST_TIMEOUT:6E4,MIGRATE_IDS_SETTINGS:"D6B5C09F-F74F-4321-81F0-6AF34BB6AD80",RESPONSE_STATUS_CODE:{INVALID_PUBLIC_KEY:1E3,KEY_PAIR_NOT_EXSISTS:1001}};a.SPOC_CHANNELS={VAULT_MOBILE_REGISTRATION:35,VAULT_MOBILE_UNLOCK:36};a.ONBOARDING_PORTAL_DOMAIN=
"norton.com";a.CHROME_STORE_URL="https://chrome.google.com/webstore/detail/";a.COMMONLY_USED_PASSWORD="https://support.norton.com/sp/landing?entsrc=help&helpid=common_password&";a.GUESSABLE_PASSWORD="https://support.norton.com/sp/landing?entsrc=help&helpid=guessable_password&";a.COMMON="common";a.GUESSABLE="guessable";a.EN_US="en_us";a.WRONG="wrong";a.RIGHT="right";a.TOP_1="top-1";a.STORE_URL_NAME="norton-identity-safe";a.HEARTBEAT={HEARTBEAT_PING_INTERVAL_TIME:864E5,BROWSER_EXTENSION:"extension",
ACTIVE_VAULT_USERS_PING_INTERVAL:864E5,ACTIVE_VAULT_USERS:"active_vault_users",ACTIVE_USERS:"active_users",VAULT_OPEN:"vault_open"};a.FG_ISOLATION_URL_DOMAIN="isolate.norton.com";a.NPW_ISOLATION="npw_isolation";a.CSP_UI_FLOW_URL="https://identitysafe.norton.com/csp_vaultaccess.html";a.COMPROMISED_PASSWORD_CONFIG={POLL_FREQUENCY_IN_MINS:0,FEATURE_ENABLED:!1};a.ON_LOGIN_SAVED="87DCBAA8-1F01-4C95-A663-D6C6864C36B1";a.AUTOCHANGE_STARTED="37B5D82A-17DA-4FDB-A2D1-DC50B8F1BF62";a.AUTOCHANGE_FINISHED=
"A8CA0068-B196-4C49-952A-6E947A3CE186";a.NORTON_SIGN_IN_SESSION="5FF6EAE3-9DD4-4E0B-99F6-4D7CE64C52AF";a.IDSAFE_CREATED_TAB="09C1599C-0FEC-4006-A30E-0A9328F71EE3";a.IDSAFE_CLOSED_TAB="63A8883A-B614-428E-AC89-5ECBA18A3717";a.SANDBOX="sandbox";a.ALLOWED_SANDBOX_VALUES=["allow-forms","allow-same-origin"];e.constants=a})(executionContext);
(function(e){e.IDSafe.telemetryWrapper=function(a){var k=a.utils.isNil,f=a.utils.isntNil,c=a.utils.isString,b=a.utils.isInteger,g=a.utils.isObject,e=a.telemetryConstants,p=a.logger,l=IDSafe.constants.autochange,m=l.AUTOCHANGE_LABEL,d=l.AUTOCHANGE_FAILED,h={LOGIN_TYPE_SPOC:"SPOC",LOGIN_TYPE_LOCAL:"LOCAL",TELEMETRY_CATEGORY:{IDSCRYPTO:"IDSCrypto",BROWSER:"Browser",IDSAFE:"IDSafe",LOGIN:"Login",WAX:"Wax",OPENID:"OpenID",CCT:"cct",IDSVAULT:"IDSVault",PASSWORDCHANGER:"PasswordChanger",WELCOME_NOTIFICATION:"Welcome_Notification",
MOBILE_UNLOCK:"mobile_unlock",COMPROMISED_PASSWORDS:"Compromised_Passwords"},IDS_CRYPTO_ERROR_CONSTANTS:{DIGEST_COMPARISON_FAILURE:"Digest Comparison failure",TYPE_COMPARISON_FAILURE:"Type comparison failure",CHECKSUM_COMPARISON_FAILURE:"Checksum comparison failure",UNABLE_TO_ANSWER_CHALLENGE:"Unable to answer challenge",UNABLE_TO_CALCULATE_CHECKSUM:"Unable to calculate checksum",UNABLE_TO_DECRYPT_ITEM:"Unable to decrypt item",UNABLE_TO_ENCRYPT_ITEM:"Unable to encrypt item",UNABLE_TO_OBFUSCATE_ITEM:"Unable to obfuscate item"},
actionType:{BROWSER:{LAUNCH:"launch",UPDATE:"update"},CCT:{LAUNCH:"launch",SUCCESS:"success"},IDSAFE:{UPDATE:"update"},WELCOME_NOTIFICATION:{LEARN_MORE:"Learn_More",CLOSE:"Close"},LOGIN:{ADD:"add",MODIFY:"modify",DELETE:"delete",SEARCH:"search",SIGNIN:"signin"},WAX:{FORMSUBMIT:"formsubmit",FILLFAILURE:"fillfailure",HTTPSNOTFOUND:"httpsnotfound"},OPENID:{LAUNCH:"launch",LOGINSUCCESS:"loginsuccess",PAGECLOSED:"pageclosed"},PASSWORDCHANGER:{AUTOCHANGEPASSWORD:"autochangepassword"},IDSVAULT:{MERGE:"merge",
VAULTSTATISTICS:"vaultstatistics",LOGINURLCOUNT:"loginurlcount",UPDATE:"update",CREATEVAULT:"createvault",DELETEVAULT:"deletevault",CHANGEVAULTPASSWORD:"changevaultpassword",OPENVAULT:"openvault"},MOBILE_UNLOCK:{MOBILERESPONSE:"mobileresponse",MOBILEUNLOCKSUCCESS:"mobileunlocksuccess"},COMPROMISED_PASSWORDS:{REPLACEPASSWORDSINMOT:"replacepasswordsinmot",NOTIFICATIONDISMISSED:"notificationdismissed",LEARNMORECLICKED:"learnmoreclicked",SITENOTSUPPORTED:"sitenotsupported",OPENVAULTFROMCP:"openvaultfromcp",
CPEVENTS:"cpevents"}},COMPROMISED_PASSWORD_PAYLOAD_CONSTANTS:{AUTOCHANGE_LAUNCHED:"autochangelaunched",VAULT_CREATED_SUCCESS:"vaultcreatedsuccess",VAULT_OPEN_SUCCCESS:"vaultopensuccess",PASSWORD_REPLACED_SUCCESS:"passwordreplacesuccesss",LERAN_MORE_CLICKED:"learnmoreclicked",NOTIFICATION_DISMISSED:"notificadtiondismissed",NOTIFICATION_SHOWN:"notificationshown",COMPROMISED_PASSWORD_DETECTED:"compromisedpassworddetected",AUTOCHANGE_SUCCESS:"autochangesuccess",NOTIFICATION_CLICKED:"notificationclicked"},
OPENID_LABEL:{DELETEVAULT:"deletevault"},CCT_LABEL:{CCTLAUNCH:"cctLaunch",CCTSUCCESS:"cctSuccess"},IDSVAULT_LABEL:{SIZE:"size",AVAILABILITY:"availability",PASSWORD:"password",PASSWORDHINT:"passwordhint",CREATEVAULTSUCCESS:"createvaultsuccess",FAILEDTOCREATE:"failedtocreate",DELETEVAULTSUCCESS:"deletevaultsuccess",FAILEDTODELETE:"failedtodelete",CHANGEVAULTPASSWORDFAILED:"changevaultpasswordfailed",CHANGEVAULTPASSWORDSUCCESS:"changevaultpasswordsuccess"},WAX_FORMSUBMIT_VALUE:{MANUAL:2,AUTOSUBMIT:1},
WAX_FILLFAILURE_VALUE:{LOGINFORM:1},sendVaultMobileUnlockResponselTime:function(a){try{var d=h.TELEMETRY_CATEGORY.MOBILE_UNLOCK,b=h.actionType.MOBILE_UNLOCK.MOBILERESPONSE;this.checkStringIsValid(a);h.send(d,b,a)}catch(u){p.debug(u)}},sendVaultMobileUnlockSuccessTime:function(a){try{var d=h.TELEMETRY_CATEGORY.MOBILE_UNLOCK,b=h.actionType.MOBILE_UNLOCK.MOBILEUNLOCKSUCCESS;this.checkStringIsValid(a);h.send(d,b,a)}catch(u){p.debug(u)}},sendIDSCryptoError:function(a,d){var b=h.TELEMETRY_CATEGORY.IDSCRYPTO;
this.checkStringIsValid(a);this.checkStringIsValid(d);h.send(b,d,a)},sendVaultHealthStatus:function(a){var d=h.TELEMETRY_CATEGORY.IDSVAULT,b=h.actionType.IDSVAULT.OPENVAULT;a=JSON.stringify(a);h.send(d,b,a)},createVaultFailure:function(a,d){h.send(h.TELEMETRY_CATEGORY.IDSVAULT,h.actionType.IDSVAULT.CREATEVAULT,h.IDSVAULT_LABEL.FAILEDTOCREATE+"(additionalInfo-"+d+",state-"+a+")")},createVaultSuccess:function(a){a=void 0===a?null:a;var d=h.TELEMETRY_CATEGORY.IDSVAULT,b=h.actionType.IDSVAULT.CREATEVAULT,
q=h.IDSVAULT_LABEL.CREATEVAULTSUCCESS;g(a)&&f(a.key)&&f(a.value)?h.send(d,b,q,a):h.sendTelemetry(d,b,q)},deleteVaultSuccess:function(){h.send(h.TELEMETRY_CATEGORY.IDSVAULT,h.actionType.IDSVAULT.DELETEVAULT,h.IDSVAULT_LABEL.DELETEVAULTSUCCESS)},deleteVaultSSOLoginSuccess:function(){h.send(h.TELEMETRY_CATEGORY.OPENID,h.actionType.OPENID.LOGINSUCCESS,h.OPENID_LABEL.DELETEVAULT)},deleteVaultSSOPageClosed:function(){h.send(h.TELEMETRY_CATEGORY.OPENID,h.actionType.OPENID.PAGECLOSED,h.OPENID_LABEL.DELETEVAULT)},
deleteVaultFailure:function(a,d){h.send(h.TELEMETRY_CATEGORY.IDSVAULT,h.actionType.IDSVAULT.DELETEVAULT,h.IDSVAULT_LABEL.FAILEDTODELETE+"(additionalInfo-"+d+",state-"+a+")")},autoPasswordChanger:function(a,d){d=void 0===d?null:d;var b=h.TELEMETRY_CATEGORY.PASSWORDCHANGER,q=h.actionType.PASSWORDCHANGER.AUTOCHANGEPASSWORD;g(d)&&f(d.key)&&f(d.value)?h.send(b,q,a,d):h.send(b,q,a)},changeVaultPasswordFailure:function(a,d){h.send(h.TELEMETRY_CATEGORY.IDSVAULT,h.actionType.IDSVAULT.CHANGEVAULTPASSWORD,h.IDSVAULT_LABEL.CHANGEVAULTPASSWORDFAILED+
"(additionalInfo-"+d+",state-"+a+")")},changeVaultPasswordSuccess:function(){h.send(h.TELEMETRY_CATEGORY.IDSVAULT,h.actionType.IDSVAULT.CHANGEVAULTPASSWORD,h.IDSVAULT_LABEL.CHANGEVAULTPASSWORDSUCCESS)},sendBrowserSignin:function(a){var d=h.TELEMETRY_CATEGORY.LOGIN,b=h.actionType.LOGIN.SIGNIN;this.checkStringIsValid(a);h.sendTelemetry(d,b,a)},sendBrowserUpdate:function(a){var d=h.TELEMETRY_CATEGORY.BROWSER,b=h.actionType.BROWSER.UPDATE;this.checkStringIsValid(a);h.send(d,b,a)},sendExtensionInstall:function(){var d=
e.TELEMETRY_CATEGORY.EXTENSION,b=e.actionType.EXTENSION.INSTALL,c=a.extensionAdapter.getExtensionId()+"-"+IDSafe.extension.getVersion();h.send(d,b,c)},sendExtensionUpdate:function(){var d=e.TELEMETRY_CATEGORY.EXTENSION,b=e.actionType.EXTENSION.UPDATE,c=a.extensionAdapter.getExtensionId()+"-"+IDSafe.extension.getVersion();h.send(d,b,c)},sendLearnMoreClicked:function(){var d=h.TELEMETRY_CATEGORY.WELCOME_NOTIFICATION,b=h.actionType.WELCOME_NOTIFICATION.LEARN_MORE,c=a.extensionAdapter.getExtensionId()+
"-"+IDSafe.extension.getVersion();h.send(d,b,c)},sendCloseClicked:function(){var d=h.TELEMETRY_CATEGORY.WELCOME_NOTIFICATION,b=h.actionType.WELCOME_NOTIFICATION.CLOSE,c=a.extensionAdapter.getExtensionId()+"-"+IDSafe.extension.getVersion();h.send(d,b,c)},sendCCTLaunched:function(){h.sendTelemetry(h.TELEMETRY_CATEGORY.CCT,h.actionType.CCT.LAUNCH,h.CCT_LABEL.CCTLAUNCH)},sendCCTSuccess:function(){h.send(h.TELEMETRY_CATEGORY.CCT,h.actionType.CCT.SUCCESS,h.CCT_LABEL.CCTSUCCESS)},sendLoginAdd:function(a,
d){var c=h.TELEMETRY_CATEGORY.LOGIN;if(a!==this.LOGIN_TYPE_SPOC&&a!==this.LOGIN_TYPE_LOCAL)throw Error("type must be either SPOC or LOCAL");a=h.actionType.LOGIN.ADD+"-"+a;!1===b(d)&&(d=1);h.send(c,a,d+"")},sendLoginModify:function(a,d){var c=h.TELEMETRY_CATEGORY.LOGIN;if(a!==this.LOGIN_TYPE_SPOC&&a!==this.LOGIN_TYPE_LOCAL)throw Error("type must be either SPOC or LOCAL");a=h.actionType.LOGIN.MODIFY+"-"+a;!1===b(d)&&(d=1);h.send(c,a,d+"")},sendLoginDelete:function(a,d){var c=h.TELEMETRY_CATEGORY.LOGIN;
if(a!==this.LOGIN_TYPE_SPOC&&a!==this.LOGIN_TYPE_LOCAL)throw Error("type must be either SPOC or LOCAL");a=h.actionType.LOGIN.DELETE+"-"+a;!1===b(d)&&(d=1);h.send(c,a,d+"")},sendWaxFormSubmit:function(d,b,c){var q=h.TELEMETRY_CATEGORY.WAX;this.checkStringIsValid(d);this.checkValueInRange(b,1,2);d=h.actionType.WAX.FORMSUBMIT+"-"+d;a.utils.isBoolean(c)&&c&&(d=d+"-"+IDSafe.constants.NPW_ISOLATION);h.send(q,d,b+"")},sendWaxFillFailure:function(a){var d=h.TELEMETRY_CATEGORY.WAX,b=h.actionType.WAX.FILLFAILURE;
this.checkStringIsValid(a);h.send(d,b,a)},sendWaxFillHttpsNotFoundFailure:function(a){var d=h.TELEMETRY_CATEGORY.WAX,b=h.actionType.WAX.HTTPSNOTFOUND;this.checkStringIsValid(a);h.send(d,b,a)},sendIDSVaultMerge:function(a){var d=h.TELEMETRY_CATEGORY.IDSVAULT,b=h.actionType.IDSVAULT.MERGE;this.checkStringIsValid(a);h.send(d,b,a)},sendIDSVaultStatistics:function(a,d){var b=h.TELEMETRY_CATEGORY.IDSVAULT;switch(a){case h.IDSVAULT_LABEL.SIZE:this.checkValueInRange(d);break;case h.IDSVAULT_LABEL.AVAILABILITY:this.checkValueInRange(d,
0,1);break;default:throw Error("label must be either 'size' or 'availability'");}h.sendTelemetry(b,h.actionType.IDSVAULT.VAULTSTATISTICS+"-"+a,d+"")},sendIDSVaultLoginURLCount:function(a,d){var b=h.TELEMETRY_CATEGORY.IDSVAULT;this.checkStringIsValid(a);this.checkValueInRange(d);h.send(b,h.actionType.IDSVAULT.LOGINURLCOUNT+"-"+a,d+"")},sendIDSVaultUpdate:function(a){var d=h.TELEMETRY_CATEGORY.IDSVAULT,b=h.actionType.IDSVAULT.UPDATE,c=h.IDSVAULT_LABEL.PASSWORDHINT;if(a!==h.IDSVAULT_LABEL.PASSWORD&&
a!==c)throw Error("label must be either 'password' or 'passwordhint'");h.send(d,b,a)},sendTelemetry:function(d,b,h){var c=this,q=IDSafe.globalSettings.getValue(IDSafe.constants.NUDGE_SCREEN_OPEN)?{key:e.parameters.CUSTOM_DIMENSION5,value:IDSafe.constants.NPW_NUDGE}:null;b===this.actionType.LOGIN.SIGNIN?a.extensionAdapter.getActiveTab(function(f){f.url===a.extensionAdapter.getExtensionURL(IDSafe.uiConstants.NUDGE_SCREEN.CONTENT_PAGE_URL)?c.send(d,b,h,q):c.send(d,b,h)}):this.send(d,b,h,q)},send:function(d,
b,h,g){g=void 0===g?null:g;this.checkStringIsValid(d);this.checkStringIsValid(b);this.checkStringIsValid(h);if(!this.actionExists(d,b))throw Error(d+" does not have action "+b+".");if(f(g)&&(!1===c(g.key)||0===g.length&&!1===c(g.value)||0===g.length))throw Error("customDimension.value or customDimension.key should be a string");var q={};q[e.parameters.HIT_TYPE]=e.HIT_TYPE.EVENT;q[e.parameters.CATEGORY]=d;q[e.parameters.ACTION]=b;q[e.parameters.LABEL]=h;f(g)&&(q[g.key]=g.value);(a.telemetry||a.telemetryProxy).send(q)},
sendAutochangeErrorTelemetry:function(a){p.debug("Autochange telemetry data is: "+a.length+" bytes long.");h.sendSocialTelemetry(m,d,a)},sendSocialTelemetry:function(d,b,h){var c=e.parameters,q={};d=(q[c.HIT_TYPE]=e.HIT_TYPE.SOCIAL,q[c.SOCIAL_NETWORK]=d,q[c.SOCIAL_ACTION]=b,q[c.SOCIAL_TARGET]=h,q);(a.telemetry||a.telemetryProxy).send(d)},checkValueInRange:function(d,b,h){b=b||0;if(!a.utils.isInteger(d))throw Error("value must be an integer");if(d<b)throw Error("value must be greater than or equal to "+
b);if(f(h)&&d>h)throw Error("value must be less than or equal to "+h);},checkStringIsValid:function(a){if(!c(a))throw Error(a+" must be of type string");},actionExists:function(a,d){if(a===h.TELEMETRY_CATEGORY.IDSCRYPTO){a=h.IDS_CRYPTO_ERROR_CONSTANTS;for(var b in a)if(a[b]===d)return!0;return!1}if(k(h.actionType[a.toUpperCase()])&&k(e.actionType[a.toUpperCase()]))return!1;b=d.indexOf("-");var c=d;-1<b&&(c=d.substring(0,b),console.log(c));return f(h.actionType[a.toUpperCase()])&&f(h.actionType[a.toUpperCase()][c.toUpperCase()])||
f(e.actionType[a.toUpperCase()])&&f(e.actionType[a.toUpperCase()][c.toUpperCase()])?!0:!1},sendLoginTelemetryFromSPOC:function(a){if(k(a))throw Error("nodeStatusList is nil");if("object"!==typeof a)throw Error("nodeStatusList must be of type object");var d=a.added,c=a.updated;a=a.deleted;if(!b(d)||!b(c)||!b(a))throw Error("nodeStatusList addedNodes/updatedNodes/deleteNodes must be integers");0<d&&h.sendLoginAdd(h.LOGIN_TYPE_SPOC,d);0<c&&h.sendLoginModify(h.LOGIN_TYPE_SPOC,c);0<a&&h.sendLoginDelete(h.LOGIN_TYPE_SPOC,
a)},getDefaultParametersForWaxTelemetry:function(){var d=a.telemetryConstants;return{APPLICATION_NAME:IDSafe.constants.NORTON_IDENTITY_SAFE+"_"+a.extensionAdapter.getExtensionId(),APPLICATION_VERSION:IDSafe.extension.getVersion(),DATA_SOURCE:d.dataSource.BROWSER_EXTENSION,USER_LANGUAGE:navigator.language,ANONYMIZE_IP:1,GOOGLE_ANALYTICS_PROTOCOL_VERSION:1}},sendAutochangeNotSupportedCP:function(a){try{this.checkStringIsValid(a),h.send(h.TELEMETRY_CATEGORY.COMPROMISED_PASSWORDS,h.actionType.COMPROMISED_PASSWORDS.SITENOTSUPPORTED,
a)}catch(r){p.debug(r)}},sendCompromisedPasswordNotificationClicked:function(){h.send(h.TELEMETRY_CATEGORY.COMPROMISED_PASSWORDS,h.actionType.COMPROMISED_PASSWORDS.CPEVENTS,h.COMPROMISED_PASSWORD_PAYLOAD_CONSTANTS.NOTIFICATION_CLICKED)},sendCompromisedPasswordNotificationShown:function(){h.send(h.TELEMETRY_CATEGORY.COMPROMISED_PASSWORDS,h.actionType.COMPROMISED_PASSWORDS.CPEVENTS,h.COMPROMISED_PASSWORD_PAYLOAD_CONSTANTS.NOTIFICATION_SHOWN)},sendCompromisedPasswordDetected:function(){h.send(h.TELEMETRY_CATEGORY.COMPROMISED_PASSWORDS,
h.actionType.COMPROMISED_PASSWORDS.CPEVENTS,h.COMPROMISED_PASSWORD_PAYLOAD_CONSTANTS.COMPROMISED_PASSWORD_DETECTED)},sendVaultOpenFromCP:function(){h.send(h.TELEMETRY_CATEGORY.COMPROMISED_PASSWORDS,h.actionType.COMPROMISED_PASSWORDS.OPENVAULTFROMCP,h.COMPROMISED_PASSWORD_PAYLOAD_CONSTANTS.VAULT_OPEN_SUCCCESS)},sendPasswordReplacedMOT:function(){h.send(h.TELEMETRY_CATEGORY.COMPROMISED_PASSWORDS,h.actionType.COMPROMISED_PASSWORDS.REPLACEPASSWORDSINMOT,h.COMPROMISED_PASSWORD_PAYLOAD_CONSTANTS.PASSWORD_REPLACED_SUCCESS)},
sendLearnMoreClickedCP:function(){h.send(h.TELEMETRY_CATEGORY.COMPROMISED_PASSWORDS,h.actionType.COMPROMISED_PASSWORDS.LEARNMORECLICKED,h.COMPROMISED_PASSWORD_PAYLOAD_CONSTANTS.LERAN_MORE_CLICKED)},sendNotificationDismissedCp:function(){h.send(h.TELEMETRY_CATEGORY.COMPROMISED_PASSWORDS,h.actionType.COMPROMISED_PASSWORDS.NOTIFICATIONDISMISSED,h.COMPROMISED_PASSWORD_PAYLOAD_CONSTANTS.NOTIFICATION_DISMISSED)}};return h}(e.SymBfw)})(executionContext);
(function(e){(e.IDSafe=e.IDSafe||{}).eventUITelemetryWrapper=function(a){var k=a.utils.isntNil,f=a.utils.isString,c=a.utils.isInteger,b=a.utils.isBoolean,g={},e=a.extensionAdapter,p=a.telemetryConstants;g.constants={};g.constants.UI_CATEGORY="UITelemetry";g.constants.action={CLICK:"click",FOCUS_LOST:"focuslost",SEARCH:"search",COPY:"copy",SHOW:"show",HIDE:"hide",IMPORT_SUCCESS:"importsuccess",IMPORT_FAILURE:"importfailure",IMPORT_LOGINS:"importlogins",SELECT:"select"};g.constants.hostTypes={VAULT_UNLOCK:"vault-unlock",
MISC_SETTINGS:"misc-settings",MAIN_UI_SIGNIN:"mainui-sign-in",MAIN_UI_OPEN_VAULT:"mainui-open-vault",CLOSE_VAULT_CONFIRMATION:"close-vault-confirmation",SIGNIN_POPUP:"signin-popup",SINGLE_LOGIN_FILL_POPUP:"single-login-fill-popup",MULTI_LOGIN_FILL_POPUP:"multi-login-fill-popup",CARD_FIELD_BADGE:"card-field-badge",CARD_FILL_POPUP:"card-fill-popup",UNLOCK_LOGIN:"unlock-login",NO_VAULT_DETECTED:"no-vault-detected",SAVE_LOGIN_NOTIFICATION:"save-login-notification",UPDATE_LOGIN_NOTIFICATION:"update-login-notification",
SETTINGS_PAGE:"settings-page",LOGIN_LIST_VIEW:"login-list-view",LOGIN_DETAILS_VIEW:"login-details-view",CREATE_VAULT:"create-vault-triggered",CREATE_VAULT_BUTTON:"create-vault-button-clicked",DELETE_VAULT_SUCCESS:"delete-vault-success",DELETE_VAULT_BUTTON:"delete-vault-button-clicked",DELETE_VAULT_TRIGGER:"delete-vault-triggered",DELETE_VAULT_CLICK:"delete-vault-button-clicked",DELETE_VAULT_CANCEL:"delete-vault-cancel-button-clicked",CHANGE_PASSWORD_TRIGGER:"change-password-triggered",CHANGE_PASSWORD_SAVE_CLICK:"change-password-save-clicked",
CHANGE_PASSWORD_CANCEL_CLICK:"change-password-cancel-clicked",VAULT_TAB_UI:"vault-tab-ui",VTU_LOGIN_GRID:"vtu-login-grid",VTU_LOGIN_LIST:"vtu-login-list",VTU_WALLET_LIST:"vtu-wallet-list",VTU_ADDRESS_LIST:"vtu-address-list",VTU_NOTES_LIST:"vtu-notes-list",VTU_PASSWORD_PROTECTED:"vtu-password-protected",VTU_DELETE_ITEM:"vtu-delete-item",VTU_ADD_LOGIN:"vtu-add-login",VTU_ADD_WALLET:"vtu-add-wallet",VTU_ADD_ADDRESS:"vtu-add-address",VTU_ADD_NOTES:"vtu-add-notes",VTU_EDIT_LOGIN:"vtu-edit-login",VTU_EDIT_WALLET:"vtu-edit-wallet",
VTU_EDIT_ADDRESS:"vtu-edit-address",VTU_EDIT_NOTES:"vtu-edit-notes",IMPORT_DOWNLOAD_BUTTON_CLICK:"import-download-button-clicked",IMPORT_SELECT_BUTTON_CLICK:"import-select-button-clicked",IMPORT_LASTPASS_BUTTON_CLICK:"import-lastpass-button-clicked",IMPORT_LASTPASS_ERROR_CLICK:"import-lastpass-error-clicked",IMPORT_UPLOAD_DRAG_DROP:"import-upload-drag-drop-chosen",IMPORT_SUCCESS_CHROME:"import-success-chrome",IMPORT_SUCCESS_FIREFOX:"import-success-firefox",IMPORT_FAILURE_CHROME:"import-failure-chrome",
IMPORT_FAILURE_FIREFOX:"import-failure-firefox",IMPORT_LOGINS_CHROME:"import-logins-chrome",IMPORT_LOGINS_FIREFOX:"import-logins-firefox",IMPORT_CLOSE_GUIDED_UI:"import-guided-ui-close-clicked",IMPORT_BACK_BUTTON_CLICK:"import-back-button-clicked",IMPORT_LOGIN_NOTIFICATION:"import-login-notification",IMPORT_VALID_CSV:"import-valid-file-uploaded",IMPORT_INVALID_CSV:"import-invalid-file-uploaded",IMPORT_LOGINS_COMPETITOR:"import-logins-competitor",IMPORT_SUCCESS_COMPETITOR:"import-success-competitor",
IMPORT_FAILURE_COMPETITOR:"import-failure-competitor",IMPORT_PASSWORDS_SOURCE_NAME:{"Chrome and Firefox passwords":"browser",Dashlane:"dashlane",LastPass:"lastpass","LastPass (binary version)":"lastpass_binary","1Password":"1password"},IMPORT_PASSWORDS_SOURCE_ID:{0:"Chrome and Firefox passwords",1:"Dashlane",2:"LastPass",3:"LastPass (binary version)",4:"1Password"},CHANGE_PASSWORD_FIELD_BADGE:"change-password-field-badge",GENERATE_PASSWORD_FILL_POPUP:"generate-password-fill-popup",SECURITY_DASHBOARD_INTRODUCTORY_SCREEN:"security-dashboard-introductory-screen",
SPLASH_GET_STARTED:"splash-get-started",SPLASH_CLOSE:"splash-close",SPLASH_WILL_DO_LATER:"splash-will-do-later",VU_SUPPORTED_DEVICES:"vu-supported-devices",VU_REGISTRATION_CONTINUE:"vu-registration-continue",VU_REGISTRATION_CLOSE:"vu-registration-close",VU_REGISTRATION_CANCEL:"vu-registration-cancel",VU_REGISTRATION_CONTINUE_SETUP:"vu-registration-continue-setup",VU_REGISTRATION_CANCEL_SETUP:"vu-registration-cancel-setup",VU_ANDROID_DEVICE_SETUP:"vu-android-device-added",VU_IOS_DEVICE_SETUP:"vu-ios-device-added",
VU_SETTINGS_REMOVE_DEVICE:"vu-settings-remove-device",VU_SETTINGS_SETUP:"vu-settings-setup",VU_ENTER_YOUR_VAULT_PASSWORD:"vu-enter-your-vault-password",VU_UNLOCK_REQUEST_SENT:"vu-unlock-request-sent-notification-displayed",VU_UNLOCK_REQUEST_NOT_SENT:"vu-unlock-request-not-sent-notification-displayed",VU_UNLOCK_REQUEST_TIMEOUT:"vu-unlock-request-timeout-notification-displayed",VU_UNLOCK_REQUEST_CANCELED:"vu-unlock-request-canceled-notification-displayed",VU_UNLOCK_SUCCESS_UI:"vu-unlock-success-through-ui",
VU_NOTIFICATION_RESEND:"vu-notification-resend",VU_NOTIFICATION_ENTER_VAULT_PASSWORD:"vu-notification-enter-vault-password",VU_UI_RESEND:"vu-ui-resend",VU_WELCOME_NOTIFICATION_OK:"vu-welcome-notification-ok",VU_WELCOME_NOTIFICATION_REMIND_ME_LATER:"vu-welcome-notification-remind-me-later",VU_WELCOME_NOTIFICATION_CLOSE:"vu-welcome-notification-close"};g.constants.elementId={ANCHOR_SIGN_IN:"anchor-signin",ANCHOR_SIGN_IN_DONT_ASK_ME_AGAIN:"anchor-signin-dont-ask-me-again",SINGLE_LOGIN_FILL_POPUP:"single-login-fill-popup",
LOGIN_FILL_FROM_AUTOCHANGED_ITEM:"login-filled-from-autoChanged-item",MULTI_LOGIN_FILL_POPUP:"multi-login-fill-popup",CARD_FIELD_BADGE:"card-field-badge",CLOSE_VAULT_CONFIRMATION:"close-vault-confirm-close-vault-btn",MISC_OPTIONS_EULA:"misc-settings-eula-option",MISC_OPTIONS_HELP:"misc-settings-help-option",MISC_OPTIONS_CLOSE_VAULT:"misc-settings-close-vault-option",MISC_OPTIONS_GENERATE_PASSWORD:"misc-generate-password",MISC_OPTIONS_ONLINE_VAULT:"misc-settings-online-vault-option",MISC_OPTIONS_SETTINGS:"misc-settings-settings-option",
MISC_OPTIONS_FEEDBACK:"misc-settings-feedback-option",MISC_OPTIONS_SYNC_VAULT:"misc-settings-sync-vault-option",MISC_OPTIONS_EXPORT:"misc-settings-export-option",MISC_OPTIONS_IMPORT:"misc-settings-import-option",MISC_OPTIONS_DASHBOARD:"misc-settings-dashboard-option",MAINUI_OPEN_VAULT:"main-ui-vault-sign-in-openvault-btn",MAINUI_NA_SIGNOUT:"main-ui-vault-sign-in-na-signout-btn",MAINUI_SIGNIN:"main-ui-na-sign-in-signin-btn",NORTON_LICENSE_AGREMENT:"main-ui-na-license-agrement-in-signin-btn",MAINUI_HELP:"main-ui-help-in-signin-btn",
UNLOCK_LOGIN_UNLOCK_BTN:"unlock-login-unlock-btn",NO_VAULT_LEARN_MORE:"no-vault-learn-more-link",SINGLE_LOGIN_ITEM:"single-login-fill-popup-item",MULTI_LOGIN_ITEM:"multi-login-fill-popup-item",CARD_ITEM:"card-item",CARD_ITEM_AFTER_SCROLL:"card-item-after-scroll",ANCHOR_POPUP_SIGN_IN:"anchor-signin",ANCHOR_POPUP_DONT_ASK_ME_AGAIN:"anchor-signin-dont-ask-me-again",VAULT_UNLOCK_SIGNOUT_OF_NA:"vault-unlock-signout-of-na",NO_UNLOCK_SIGNOUT_OF_NA:"novault-signout-of-na",VAULT_UNLOCK_UNLOCK:"vault-unlock-button",
LOGIN_UNLOCK_UNLOCK:"login-unlock-button",SETTINGS_SIGN_OUT_NA:"settings-signout-of-na",SETTINGS_REQUIRE_VAULT_PASSWORD:"require-vault-password",SETTINGS_AUTO_SAVE:"auto-save",SETTINGS_AUTO_FILL:"auto-fill",SETTINGS_AUTO_FILL_PARENT:"auto-fill-parent",SETTINGS_RESTORE_DEFAULT:"restore-default",SETTINGS_SHARE_DATA:"share-data",SETTINGS_CHANGE_PASSWORD:"change-vault-password",SETTINGS_CLOSE:"settings-modal-close",SETTINGS_SAVE:"settings-save",SAVE_NEW_LOGIN:"save-new-login",SAVE_NEW_LOGIN_NO_THANKS:"save-new-login-no-thanks",
UPDATE_LOGIN:"update-login",UPDATE_LOGIN_NO_THANKS:"update-login-no-thanks",LOGIN_ITEM_SEARCH:"login-item-search",LOGIN_DETAILS_SEARCH:"login-details-search",LOGIN_ITEM:"login-item",LOGIN_DETAILS:"login-details",LOGIN_SEARCH:"login-search",LOGIN_SEARCH_ATTEMPT:"login-search-data",LOGIN_SEARCH_CLOSE:"login-search-close",FAVORITE_TOGGLED:"login-fav-toggled",CLIPBOARD_USERNAME:"clipboard-username",CLIPBOARD_PASSWORD:"clipboard-password",MISC_SETTINGS:"misc-settings",LOGIN_DETAILS_BACK:"login-details-back",
CLICK_BTN_ON_NO_VAULT:"no-vault-click-btn",CREATE_VAULT_BUTTON:"create-vault-button",DELETE_VAULT_BUTTON:"delete-vault-button",YES_DELETE_VAULT_BUTTON:"yes-delete-my-vault-button",CANCEL_DELETE_BUTTON:"delete-vault-cancel-button",DELETE_VAULT_LINK:"delete-vault-link",CHANGE_VAULT_PASSWORD_LINK:"change-vault-password-link",CHANGE_PASSWORD_SAVE_BUTTON:"change-password-save-button",CHANGE_PASSWORD_CANCEL_BUTTON:"change-password-cancel-button",VTU_HELP:"vtu-help",VTU_SETTINGS:"vtu-settings",VTU_SYNC_VAULT:"vtu-sync-vault",
VTU_FEEDBACK:"vtu-feedback",VTU_CLOSE_VAULT:"vtu-close-vault",VTU_EXPORT_VAULT:"vtu-export-vault",VTU_IMPORT:"vtu-import-option",VTU_NEW_LOGIN:"vtu-new-login",VTU_NEW_WALLET:"vtu-new-wallet",VTU_NEW_ADDRESS:"vtu-new-address",VTU_NEW_NOTES:"vtu-new-notes",VTU_LOGIN_WIDGET:"vtu-login-widget",VTU_WALLET_WIDGET:"vtu-wallet-widget",VTU_ADDRESS_WIDGET:"vtu-address-widget",VTU_NOTES_WIDGET:"vtu-notes-widget",VTU_OTHER_WIDGET:"vtu-other-widget",VTU_SIGN_OUT:"vtu-sign-out",VTU_GRID_VIEW:"vtu-grid-view",VTU_LIST_VIEW:"vtu-list-view",
VTU_SEARCH_ENTERED:"vtu-search-entered",VTU_SEARCH_CLEARED:"vtu-search-cleared",VTU_PASSWORD_FIELD:"vtu-password-field",VTU_USERNAME_FIELD:"vtu-username-field",VTU_CARDNUMBER_FIELD:"vtu-cardnumber-field",VTU_GO_TO_SITE:"vtu-go-to-site",VTU_GO_TO_SITE_ALL:"vtu-go-to-site-all",VTU_EDIT_LOGIN:"vtu-edit-login",VTU_DELETE_LOGIN:"vtu-delete-login",VTU_EDIT_WALLET:"vtu-edit-wallet",VTU_DELETE_WALLET:"vtu-delete-wallet",VTU_EDIT_ADDRESS:"vtu-edit-address",VTU_DELETE_ADDRESS:"vtu-delete-address",VTU_EDIT_NOTES:"vtu-edit-notes",
VTU_DELETE_NOTES:"vtu-delete-notes",VTU_INCORRECT_PASSWORD:"vtu-incorrect-password",VTU_INCORRECT_PASSWORD_RATE_LIMITED:"vtu-incorrect-password-rate-limited",VTU_PASSWORD_VALIDATED:"vtu-password-validated",VTU_OK_BUTTON:"vtu-ok-btn",VTU_DELETE_ITEM_BUTTON:"vtu-delete-item-btn",VTU_CANCEL_BUTTON:"vtu-cancel-btn",VTU_SAVE_BUTTON:"vtu-save-btn",VTU_DELETE_BUTTON:"vtu-delete-btn",DASHBOARD_VTU_RIBBON_FIX_NOW_CLICKED:"fix-now-btn-clicked",DASHBOARD_VTU_RIBBON_VIEW_CLICKED:"view-btn-clicked",DASHBOARD_VTU_RIBBON_COLOR_RED:"fix-now-ribbon-color-red",
DASHBOARD_VTU_RIBBON_COLOR_ORANGE:"fix-now-ribbon-color-orange",DASHBOARD_VTU_RIBBON_COLOR_GREEN:"fix-now-ribbon-color-green",DASHBOARD_CHANGE_NOW:"dash-board-change-now",DASHBOARD_AUTO_CHANGE:"dash-board-auto-change",DASHBOARD_AUTO_CHANGE_INTERACTIVE_STEP:"dash-board-auto-change-interactive-step",IMPORT_DOWNLOAD_BUTTON:"import-download-button",IMPORT_SELECT_BUTTON:"import-select-button",IMPORT_SELECT_BUTTON_LASTPASS:"import-select-button-lastpass",IMPORT_SUCCESS_LASTPASS:"import-success-lastpass",
IMPORT_ERROR_LASTPASS:"import-error-lastpass",IMPORT_UPLOAD_DRAG_DROP:"import-upload-drag-drop",IMPORT_LOGIN_NO_THANKS:"import-login-no-thanks",IMPORT_NOTIFICATION_BUTTON:"import-button",IMPORT_NOTIFICATION_CLOSE:"import-close",SECURITY_ALERT_POPUP_CLOSE:"security-alert-popup-close",SECURITY_ALERT_POPUP_VIEW_DASHBOARD:"security-alert-popup-view-dasboard",IMPORT_PASSWORDS_SOURCE:"import-source",IMPORT_VALID_CSV_FILE:"import-valid-csv-file",IMPORT_INVALID_CSV_FILE:"import-invalid-csv-file",IMPORT_BACK_BUTTON:"import-back-button",
IMPORT_CLOSE_GUIDED_UI:"import-guided-ui-close-button",CHANGE_PASSWORD_FIELD_BADGE:"change-password-field-badge",GENERATE_PASSWORD_ITEM:"generate-password-item",SECURITY_DASHBOARD_INTRODUCTORY_HANDLED:"security-dashboard-introductory-handled",SPLASH_GET_STARTED_BUTTON:"unlock-splash-start",SPLASH_CLOSE_ICON:"unlock-splash-close",SPLASH_WILL_DO_LATER_LINK:"unlock-splash-later",VU_SUPPORTED_DEVICES:"vu-supported-devices-link",VU_REGISTRATION_CONTINUE:"vu-registration-continue-button",VU_REGISTRATION_CLOSE:"vu-registration-close-icon",
VU_REGISTRATION_CANCEL:"vu-registration-cancel-button",VU_REGISTRATION_CONTINUE_SETUP:"vu-cancel-registration-continue-setup-button",VU_REGISTRATION_CANCEL_SETUP:"vu-cancel-registration-cancel-setup-link",VU_ANDROID_DEVICE_SETUP:"vu-android-device-setup",VU_IOS_DEVICE_SETUP:"vu-ios-device-setup",VU_SETTINGS_REMOVE_DEVICE:"vu-settings-remove-device-link",VU_SETTINGS_SETUP:"vu-settings-setup-button",VU_ENTER_YOUR_VAULT_PASSWORD:"vu-enter-your-vault-password-link",VU_UNLOCK_REQUEST_SENT:"vu-unlock-request-sent-notification",
VU_UNLOCK_REQUEST_NOT_SENT:"vu-unlock-request-not-sent-notification",VU_UNLOCK_REQUEST_TIMEOUT:"vu-unlock-request-timeout-notification",VU_UNLOCK_REQUEST_CANCELED:"vu-unlock-request-canceled-notification",VU_UNLOCK_SUCCESS_UI:"vu-unlock-success-through-ui",VU_NOTIFICATION_RESEND:"vu-notification-resend-button",VU_NOTIFICATION_ENTER_VAULT_PASSWORD:"vu-notification-enter-vault-password-link",VU_UI_RESEND:"vu-ui-resend-button",VU_WELCOME_NOTIFICATION_OK:"vu-welcome-notification-ok-button",VU_WELCOME_NOTIFICATION_REMIND_ME_LATER:"vu-welcome-notification-remind-me-later-link",
VU_WELCOME_NOTIFICATION_CLOSE:"vu-welcome-notification-close-icon",ISOLATION_MODE_LOGIN_FILL:"isolation-mode-login-fill"};var l={};l[p.parameters.CATEGORY]=g.constants.UI_CATEGORY;l[p.parameters.HIT_TYPE]=p.HIT_TYPE.EVENT;g.getDocumentPath=function(a){if(!f(a))throw Error("arguments for getDocumentPath is not valid");var d=e.getExtensionURL("");return-1<a.indexOf(d)?a.substring(d.length,a.length):a};g.sendTelemetry=function(b,d,h){var c=this;[this.constants.elementId.MAINUI_SIGNIN,this.constants.elementId.CLICK_BTN_ON_NO_VAULT,
this.constants.elementId.CREATE_VAULT_BUTTON,this.constants.elementId.VAULT_UNLOCK_UNLOCK].includes(d)?a.extensionAdapter.sendMessage({id:IDSafe.uiConstants.NUDGE_SCREEN.MESSAGES.GET_NUDGE_SCREEN_STATUS},function(f){f?c.send(b,d,h,null,{key:a.telemetryConstants.parameters.CUSTOM_DIMENSION5,value:IDSafe.constants.NPW_NUDGE}):c.send(b,d,h)}):this.send(b,d,h)};g.send=function(b,d,h,c,r){r=void 0===r?null:r;if(!f(b)||!f(d)||!f(h))throw Error("arguments for eventUITelemetryWrapper send are not valid");
if(0===b.length||0===d.length||0===h.length)throw Error("arguments for eventUITelemetryWrapper send are not valid");if(k(r)&&(!1===f(r.key)||0===r.length&&!1===f(r.value)||0===r.length))throw Error("customDimension.value or customDimension.key should be a string");l[p.parameters.ACTION]=b;l[p.parameters.LABEL]=d;k(c)&&f(c)&&0<c.length?l[p.parameters.DOCUMENT_PATH]=c:l[p.parameters.DOCUMENT_PATH]=this.getDocumentPath(document.URL);l[p.parameters.DOCUMENT_TITLE]=h;k(r)&&(l[r.key]=r.value);(a.telemetry||
a.telemetryProxy).send(l)};g.getSelectedSourceName=function(a,d){var b=null;switch(a){case d["Chrome and Firefox passwords"]:b="Chrome and Firefox passwords";break;case d.Dashlane:b="Dashlane";break;case d.LastPass:b="LastPass";break;case d["LastPass (binary version)"]:b="LastPass (binary version)";break;case d["1Password"]:b="1Password"}return b};g.sendClickBtnOnNoVaultPageEventTelemetry=function(a,d){this.sendTelemetry(a,d,this.constants.hostTypes.CREATE_VAULT_BUTTON)};g.sendVaultUnlockUIEventTelemetry=
function(a,d){this.sendTelemetry(a,d,this.constants.hostTypes.VAULT_UNLOCK)};g.sendMiscSettingsEventTelemetry=function(a,d){this.send(a,d,this.constants.hostTypes.MISC_SETTINGS)};g.sendCloseVaultConfirmationUIEventTelemetry=function(a,d){this.send(a,d,this.constants.hostTypes.CLOSE_VAULT_CONFIRMATION)};g.sendMainUISignInUIEventTelemetry=function(a,d){this.sendTelemetry(a,d,this.constants.hostTypes.MAIN_UI_SIGNIN)};g.sendMainUIOpenVaultUIEventTelemetry=function(a,d){this.send(a,d,this.constants.hostTypes.MAIN_UI_OPEN_VAULT)};
g.sendSigninPopupUIEventTelemetry=function(a,d,b){this.send(a,d,this.constants.hostTypes.SIGNIN_POPUP,b)};g.sendSingleLoginFillPopupUIEventTelemetry=function(a,d,b){this.send(a,d,this.constants.hostTypes.SINGLE_LOGIN_FILL_POPUP,b)};g.sendLoginFillFromAutoChangedItemUIEventTelemetry=function(a,d,b){this.send(a,this.constants.elementId.LOGIN_FILL_FROM_AUTOCHANGED_ITEM,d,b)};g.sendCardFieldDecoratorEventTelemetry=function(a,d,b){this.send(a,d,this.constants.hostTypes.CARD_FIELD_BADGE,b)};g.sendChangePasswordFieldDecoratorEventTelemetry=
function(a,d,b){this.send(a,d,this.constants.hostTypes.CHANGE_PASSWORD_FIELD_BADGE,b)};g.sendMultiLoginFillPopupUIEventTelemetry=function(a,d,b){this.send(a,d,this.constants.hostTypes.MULTI_LOGIN_FILL_POPUP,b)};g.sendCardItemClickedPopupEventTelemetry=function(a,d,b){this.send(a,d,this.constants.hostTypes.CARD_FILL_POPUP,b)};g.sendGeneratePasswordItemClickedPopupEventTelemetry=function(a,d,b){this.send(a,d,this.constants.hostTypes.GENERATE_PASSWORD_FILL_POPUP,b)};g.sendUnlockLoginUIEventTelemetry=
function(a,d){this.send(a,d,this.constants.hostTypes.UNLOCK_LOGIN)};g.sendNoVaultDetectedUIEventTelemetry=function(a,d){this.send(a,d,this.constants.hostTypes.NO_VAULT_DETECTED)};g.sendSaveLoginUIEventTelemetry=function(a,d,b){this.send(a,d,this.constants.hostTypes.SAVE_LOGIN_NOTIFICATION,b)};g.sendUpdateLoginUIEventTelemetry=function(a,d,b){this.send(a,d,this.constants.hostTypes.UPDATE_LOGIN_NOTIFICATION,b)};g.sendLoginListUIEventTelemetry=function(a,d,b){this.send(a,d,this.constants.hostTypes.LOGIN_LIST_VIEW)};
g.sendCreateVaultEventTelemetry=function(a,d){this.sendTelemetry(a,d,this.constants.hostTypes.CREATE_VAULT)};g.sendDeleteVaultSuccessTelemetry=function(a,d){this.send(a,d,this.constants.hostTypes.DELETE_VAULT_SUCCESS)};g.sendDeleteVaultTriggeredEventTelemetry=function(a,d){this.send(a,d,this.constants.hostTypes.DELETE_VAULT_TRIGGER)};g.sendDeleteVaultClickEventTelemetry=function(a,d){this.send(a,d,this.constants.hostTypes.DELETE_VAULT_CLICK)};g.sendDeleteVaultCancelledEventTelemetry=function(a,d){this.send(a,
d,this.constants.hostTypes.DELETE_VAULT_CANCEL)};g.sendChangePasswordTriggeredEventTelemetry=function(a,d){this.send(a,d,this.constants.hostTypes.CHANGE_PASSWORD_TRIGGER)};g.sendChangePasswordSaveButtonEventTelemetry=function(a,d){this.send(a,d,this.constants.hostTypes.CHANGE_PASSWORD_SAVE_CLICK)};g.sendChangePasswordCancelEventTelemetry=function(a,d){this.send(a,d,this.constants.hostTypes.CHANGE_PASSWORD_CANCEL_CLICK)};g.sendLoginDetailsUIEventTelemetry=function(a,d,h){b(h)&&(a=!0===h?a+"-checked":
a+"-unchecked");this.send(a,d,this.constants.hostTypes.LOGIN_DETAILS_VIEW)};g.sendSettingsPageUIEventTelemetry=function(a,d,b){c(b)&&(a=1===b?a+"-checked":a+"-unchecked");this.send(a,d,this.constants.hostTypes.SETTINGS_PAGE)};g.sendVaultTabPageUIEventTelemetry=function(a,d){this.send(a,d,this.constants.hostTypes.VAULT_TAB_UI)};g.sendVTULoginGridUIEventTelemetry=function(a,d){this.send(a,d,this.constants.hostTypes.VTU_LOGIN_GRID)};g.sendDashBoardChangePasswordUIEventTelemetry=function(a,d,b){this.send(a,
d,b,window.location.hostname+window.location.pathname)};g.sendVTULoginListUIEventTelemetry=function(a,d){this.send(a,d,this.constants.hostTypes.VTU_LOGIN_LIST)};g.sendVTUWalletListUIEventTelemetry=function(a,d){this.send(a,d,this.constants.hostTypes.VTU_WALLET_LIST)};g.sendVTUAddressListUIEventTelemetry=function(a,d){this.send(a,d,this.constants.hostTypes.VTU_ADDRESS_LIST)};g.sendVTUNotesListUIEventTelemetry=function(a,d){this.send(a,d,this.constants.hostTypes.VTU_NOTES_LIST)};g.sendVTUPasswordProtectedUIEventTelemetry=
function(a,d){this.send(a,d,this.constants.hostTypes.VTU_PASSWORD_PROTECTED)};g.sendVTUDeleteItemUIEventTelemetry=function(a,d){this.send(a,d,this.constants.hostTypes.VTU_DELETE_ITEM)};g.sendVTUAddLoginUIEventTelemetry=function(a,d){this.send(a,d,this.constants.hostTypes.VTU_ADD_LOGIN)};g.sendVTUEditLoginUIEventTelemetry=function(a,d){this.send(a,d,this.constants.hostTypes.VTU_EDIT_LOGIN)};g.sendVTUAddWalletUIEventTelemetry=function(a,d){this.send(a,d,this.constants.hostTypes.VTU_ADD_WALLET)};g.sendVTUEditWalletUIEventTelemetry=
function(a,d){this.send(a,d,this.constants.hostTypes.VTU_EDIT_WALLET)};g.sendVTUAddAddressUIEventTelemetry=function(a,d){this.send(a,d,this.constants.hostTypes.VTU_ADD_ADDRESS)};g.sendVTUEditAddressUIEventTelemetry=function(a,d){this.send(a,d,this.constants.hostTypes.VTU_EDIT_ADDRESS)};g.sendVTUAddNotesUIEventTelemetry=function(a,d){this.send(a,d,this.constants.hostTypes.VTU_ADD_NOTES)};g.sendVTUEditNotesUIEventTelemetry=function(a,d){this.send(a,d,this.constants.hostTypes.VTU_EDIT_NOTES)};g.sendImportDownloadButtonEventTelemetry=
function(a,d){this.send(a,d,this.constants.hostTypes.IMPORT_DOWNLOAD_BUTTON_CLICK)};g.sendImportSelectButtonEventTelemetry=function(a,d,b,c){b?this.send(a,d,g.getSelectedSourceName(b,c)):this.send(a,d,this.constants.hostTypes.IMPORT_PASSWORDS_SOURCE_NAME["Chrome and Firefox passwords"])};g.sendClickImportButtonEventTelemetry=function(a,d){this.send(a,d,this.constants.hostTypes.IMPORT_LASTPASS_BUTTON_CLICK)};g.sendClickImportButtonErrorEventTelemetry=function(a,d){this.send(a,d,this.constants.hostTypes.IMPORT_LASTPASS_ERROR_CLICK)};
g.sendImportDragdropEventTelemetry=function(a,d,b,c){b?this.send(a,d,g.getSelectedSourceName(b,c)):this.send(a,d,this.constants.hostTypes.IMPORT_PASSWORDS_SOURCE_NAME["Chrome and Firefox passwords"])};g.sendImportSuccessChromeEventTelemetry=function(a,d){this.send(a,d,this.constants.hostTypes.IMPORT_SUCCESS_CHROME)};g.sendImportSuccessFirefoxEventTelemetry=function(a,d){this.send(a,d,this.constants.hostTypes.IMPORT_SUCCESS_FIREFOX)};g.sendImportFailureChromeEventTelemetry=function(a,d){this.send(a,
d,this.constants.hostTypes.IMPORT_FAILURE_CHROME)};g.sendImportFailureFirefoxEventTelemetry=function(a,d){this.send(a,d,this.constants.hostTypes.IMPORT_FAILURE_FIREFOX)};g.sendImportLoginsChromeEventTelemetry=function(a,d){this.send(a,d,this.constants.hostTypes.IMPORT_LOGINS_CHROME)};g.sendImportLoginsFirefoxEventTelemetry=function(a,d){this.send(a,d,this.constants.hostTypes.IMPORT_LOGINS_FIREFOX)};g.sendImportLoginNotificationEventTelemetry=function(a,d,b){this.send(a,d,this.constants.hostTypes.IMPORT_LOGIN_NOTIFICATION,
b)};g.sendSecurityAlertPopupEventTelemetry=function(a,d,b){this.send(a,d,b)};g.sendImportSourceTypeEventTelemetry=function(a,d){this.send(a,this.constants.elementId.IMPORT_PASSWORDS_SOURCE,this.constants.hostTypes.IMPORT_PASSWORDS_SOURCE_ID[d])};g.sendValidImportCsvFileEventTelemetry=function(a,d,b,c){b?this.send(a,d,g.getSelectedSourceName(b,c)):this.send(a,d,this.constants.hostTypes.IMPORT_PASSWORDS_SOURCE_NAME["Chrome and Firefox passwords"])};g.sendInvalidImportCsvFileEventTelemetry=function(a,
d,b,c){b?this.send(a,d,g.getSelectedSourceName(b,c)):this.send(a,d,this.constants.hostTypes.IMPORT_PASSWORDS_SOURCE_NAME["Chrome and Firefox passwords"])};g.sendImportLoginsCompetitorEventTelemetry=function(a,d,b,c){b=g.getSelectedSourceName(b,c);this.send(a,d,b)};g.sendImportSuccessCompetitorEventTelemetry=function(a,d,b,c){b=g.getSelectedSourceName(b,c);this.send(a,d,b)};g.sendImportFailureCompetitorEventTelemetry=function(a,d,b,c){b=g.getSelectedSourceName(b,c);this.send(a,d,b)};g.sendImportBackCLickedEventTelemetry=
function(a,d,b,c){b?this.send(a,d,g.getSelectedSourceName(b,c)):this.send(a,d,this.constants.hostTypes.IMPORT_PASSWORDS_SOURCE_NAME["Chrome and Firefox passwords"])};g.sendImportGuidedUiCloseClickedEventTelemetry=function(a,d){this.send(a,d,this.constants.hostTypes.IMPORT_CLOSE_GUIDED_UI)};g.sendSecurityDashboardIntroductoryTelemetry=function(a,d){this.send(a,d,this.constants.hostTypes.SECURITY_DASHBOARD_INTRODUCTORY_SCREEN)};g.sendSplashScreenGetStartedButtonTelemetry=function(a,d){this.send(a,d,
this.constants.hostTypes.SPLASH_GET_STARTED)};g.sendSplashScreenCloseButtonTelemetry=function(a,d){this.send(a,d,this.constants.hostTypes.SPLASH_CLOSE)};g.sendSplashScreenWillDoLaterButtonTelemetry=function(a,d){this.send(a,d,this.constants.hostTypes.SPLASH_WILL_DO_LATER)};g.sendSupportedDevicesTelemetry=function(a,d){this.send(a,d,this.constants.hostTypes.VU_SUPPORTED_DEVICES)};g.sendRegistrationContinueTelemetry=function(a,d){this.send(a,d,this.constants.hostTypes.VU_REGISTRATION_CONTINUE)};g.sendRegistrationCloseTelemetry=
function(a,d){this.send(a,d,this.constants.hostTypes.VU_REGISTRATION_CLOSE)};g.sendRegistrationCancelTelemetry=function(a,d){this.send(a,d,this.constants.hostTypes.VU_REGISTRATION_CANCEL)};g.sendRegistrationCancelSetupTelemetry=function(a,d){this.send(a,d,this.constants.hostTypes.VU_REGISTRATION_CANCEL_SETUP)};g.sendRegistrationContinueSetupTelemetry=function(a,d){this.send(a,d,this.constants.hostTypes.VU_REGISTRATION_CONTINUE_SETUP)};g.sendAndroidDeviceSetupTelemetry=function(a,d){this.send(a,d,
this.constants.hostTypes.VU_ANDROID_DEVICE_SETUP)};g.sendIOSDeviceSetupTelemetry=function(a,d){this.send(a,d,this.constants.hostTypes.VU_IOS_DEVICE_SETUP)};g.sendSettingsRemoveDeviceTelemetry=function(a,d){this.send(a,d,this.constants.hostTypes.VU_SETTINGS_REMOVE_DEVICE)};g.sendSettingsSetupTelemetry=function(a,d){this.send(a,d,this.constants.hostTypes.VU_SETTINGS_SETUP)};g.sendEnterYourVaultPasswordTelemetry=function(a,d){this.send(a,d,this.constants.hostTypes.VU_ENTER_YOUR_VAULT_PASSWORD)};g.sendRequestSentNotificationTelemetry=
function(a,d){this.send(a,d,this.constants.hostTypes.VU_UNLOCK_REQUEST_SENT)};g.sendRequestNotSentNotificationTelemetry=function(a,d){this.send(a,d,this.constants.hostTypes.VU_UNLOCK_REQUEST_NOT_SENT)};g.sendRequestTimeoutNotificationTelemetry=function(a,d){this.send(a,d,this.constants.hostTypes.VU_UNLOCK_REQUEST_TIMEOUT)};g.sendRequestCanceledNotificationTelemetry=function(a,d){this.send(a,d,this.constants.hostTypes.VU_UNLOCK_REQUEST_CANCELED)};g.sendUnlockSuccessFromUITelemetry=function(a,d){this.send(a,
d,this.constants.hostTypes.VU_UNLOCK_SUCCESS_UI)};g.sendUnlockRequestNotificationResendTelemetry=function(a,d){this.send(a,d,this.constants.hostTypes.VU_NOTIFICATION_RESEND)};g.sendUnlockRequestNotificationEnterVaultPasswordTelemetry=function(a,d){this.send(a,d,this.constants.hostTypes.VU_NOTIFICATION_ENTER_VAULT_PASSWORD)};g.sendUnlockRequestResendTelemetry=function(a,d){this.send(a,d,this.constants.hostTypes.VU_UI_RESEND)};g.sendVuWelcomenotificationOkTelemetry=function(a,d){this.send(a,d,this.constants.hostTypes.VU_WELCOME_NOTIFICATION_OK)};
g.sendVuWelcomenotificationRemindMeLaterTelemetry=function(a,d){this.send(a,d,this.constants.hostTypes.VU_WELCOME_NOTIFICATION_REMIND_ME_LATER)};g.sendVuWelcomenotificationCloseTelemetry=function(a,d){this.send(a,d,this.constants.hostTypes.VU_WELCOME_NOTIFICATION_CLOSE)};return g}(e.SymBfw,e.IDSafe)})(executionContext);
(function(e){var a={FILL:1,SIGNIN:2},k={formatStrings:{"Sign in to your {0} vault to fill now.":["__LONG_PRODUCT_NAME__"]}};k[a.SIGNIN]=["Sign In","Don't ask me again","Norton License Agreement"];k[a.FILL]=["Generate secure password"];var f={SIGNIN:1,OPEN_VAULT:2,CLOSE_VAULT:3,MAIN_UI:4,SPINNER:5},c={};c[f.SIGNIN]=["Norton","__SHORT_PRODUCT_NAME__","Sign In","Help","Norton License Agreement"];c[f.OPEN_VAULT]=["Norton","__SHORT_PRODUCT_NAME__","Your vault is locked","Open vault","Sign out"];c[f.CLOSE_VAULT]=
"Norton;__SHORT_PRODUCT_NAME__;Are you sure?;Are you sure you want to close your vault?;Export vault;Close vault;Cancel;Don't ask me again".split(";");c[f.MAIN_UI]="Vault;Settings;Sync vault;Import;Help;Feedback;User License Agreement;logins found;Search your vault;Title;Login URL;Username;Password;Copied;Safety Dashboard;Password Generator".split(";").concat(c[f.CLOSE_VAULT]);k={IFRAME_ID:"symc-in-page-popup",HTML:"content/ui/popup-in-page.html",STYLE:"content/ui/content-page.css",WIDTH:320,HEIGHT:400,
TYPE:a,MESSAGES:{POPUP_INIT:"E1C30113-C51E-40FA-93B3-92E71125CC22",POPUP_SIGNIN_CLICKED:"00DC4B99-15B7-456D-BDAF-55E90DFEF8EA",POPUP_DONT_ASK_ME_AGAIN_CLICKED:"8D868F38-5C5E-4DB6-8126-CA48238E5CBD",POPUP_LOGIN_ITEM_SELECTED:"9CD42A97-0993-4794-ECF3-C0653C6236A9",POPUP_CARD_ITEM_SELECTED:"27273605-5BBD-461B-9C48-BDF56AA4C40E",POPUP_CLOSE:"6D5E5205-F308-43B6-AACC-E3C77778CE1D",POPUP_EVENT_CLOSE:"7df5eb04-faec-44da-b266-be844a76eafc",POPUP_MISC_OPTIONS_EULA_CLICKED:"E38D013D-0EE0-4856-9AA5-89EA62C4E301",
SHOW_INPAGE_POPUP_ON_TOP_FRAME:"9f8e3991-02a6-5324-a7a1-cde2b9317a46",SHOW_INPAGE_POPUP_ON_TOP_FRAME_BG:"e4fec119-62aa-5923-8fa5-cd51fd20e169",ITEM_SELECTED_INPAGE_POPUP_ON_TOP_FRAME:"e591b28a-0705-5f3c-a0b0-94292eb8ddc3",ITEM_SELECTED_INPAGE_POPUP_ON_TOP_FRAME_BG:"fac37ee8-90ec-5ab9-8f3d-a0aa9cb0c6d0",POPUP_GENERATE_PASSWORD_CLICKED:"5c9666d4-8058-4168-b842-634ae1622f9f"},STRINGS:k,frameSize:{}};k.frameSize[a.FILL]={WIDTH:320,HEIGHT:40,HEIGHT_PER_LOGIN:54};k.frameSize[a.SIGNIN]={WIDTH:320,HEIGHT:290};
a={TYPE:f,MESSAGES:{INIT:"30C7D3F8-FECA-44AA-BAB6-6CF92644970F",SIGNIN_CLICKED:"234F1844-4991-444D-E383-E0B11DB8C5CE",OPEN_VAULT_CLICKED:"197050C0-3D60-4439-C342-524FC32D385A",SIGNOUT_CLICKED:"370D02D6-7A7A-4829-E0B3-35D9EB52CA26",CANCEL_CLICKED:"E9959AE1-C42D-450F-C44E-27109BE9AE2F",CLOSE_VAULT_CLICKED:"2AB1F432-9A5E-42F1-9242-AF1E20D48337",LOGINS_VIEW_MESSAGES:"EC56A5BF-1A5D-42EF-D3D5-46BC7A167E5C",LOGINS_VIEW_RESPONSE_MESSAGES:"B65A4737-15E5-471E-AAE2-AF8D2177E142",MISC_OPTIONS_CLICKED:"AB458FB7-D17E-4EF3-E589-3397072DA993",
MISC_OPTIONS_ONLINE_VAULT_CLICKED:"E0E84332-58DE-40D2-AE0E-8762482D72F8",MISC_OPTIONS_SETTINGS_CLICKED:"1116EC9D-5356-419C-D590-ED46172E39F6",MISC_OPTIONS_IMPORT_CLICKED:"656FB868-AA38-4711-9BC3-8F86CA01FF3F",MISC_OPTIONS_DASHBOARD_CLICKED:"FB08584C-5BF1-4FC0-8A46-08A88835B53F",MISC_OPTIONS_SYNC_VAULT:"D5AF2C7B-B384-48BB-D19C-8B3568312FBA",MISC_OPTIONS_HELP_CLICKED:"98B52A50-5DB9-4BA1-81E4-760D2C93A389",MISC_OPTIONS_FEEDBACK_CLICKED:"8231F726-BFB9-4DA5-CC1D-9E0B0E8FF5ED",MISC_OPTIONS_EXPORT_CLICKED:"734A4B23-0DC0-49E4-B781-75FBE803085F",
MISC_OPTIONS_CLOSE_VAULT_CLICKED:"B5931EF7-6972-4E81-900B-8642C12B43A0",MISC_OPTIONS_GENERATE_PASSWORD_CLICKED:"04E02A9C-5614-4A01-A056-3C20138F5335",MISC_OPTIONS_EULA_CLICKED:"C4EEC33C-FB3B-44A9-E4F9-4CFF29866287",MISC_OPTIONS_PRIVACY_POLICY_CLICKED:"4D9C550C-DBB9-4793-8987-2219AE89BB54",MISC_OPTIONS_MOBILE_UNLOCK_KB_CLICKED:"4EE9C46E-5084-47D4-AFC1-FEF7342BC459",LOGINS_VIEW_LOGIN_CLICKED:"2D7E110E-E640-413F-841B-040EFC299B8F",LOGINS_VIEW_LOGIN_SAVE_CLICKED:"FB364AC9-88EE-406A-E584-72F418152BAC",
POPUP_SELECTED_LOGIN_VIEW:"4f584ab9-e130-4879-ba76-22aa3c92d8eb",POPUP_SET_LOGIN_FAVORITE:"012316fc-eb43-4b74-b851-2362a17ef630"},STRINGS:c,ICON_ON_PATH:{16:"content/images/ic-extension-on.png",38:"content/images/ic-extension-on@2x.png",54:"content/images/ic-extension-on@3x.png"},ICON_OFF_PATH:{16:"content/images/ic-extension-off.png",38:"content/images/ic-extension-off@2x.png",54:"content/images/ic-extension-off@3x.png"},formatStrings:{"Sign in to your Norton account to use {0}.":["__LONG_PRODUCT_NAME__"],
"Sign in to your {0} vault to unlock it.":["__LONG_PRODUCT_NAME__"]}};var b="Use at least 1 number;Use at least 1 CAPITAL LETTER;Use at least 1 symbol;Use at least 8 characters;Not your Norton account username;Strong password;Strength;Choose a stronger password;Strong;This is a commonly used password.;This password can be guessed easily.;Please try again with a different phrase.;Please try again with something more complex.;No special rules or characters are required for this password, and you may use up to 256 characters.;Learn more".split(";");
f={HTML:"content/ui/change-vault-password.html",MESSAGES:{UI_INIT:"0F490395-583C-4393-BB71-A5FAD7720085",VALIDATE_PREVIOUS_VAULT_PASSWORD:"E4D403A1-75DD-495D-BDAC-37170D3830A5",UPDATE_SETTINGS_URL:"aa9c497f-362f-46d1-afb6-1cd7e7c53207",CALL_CHANGE_VAULT_PASSWORD_API:"FC70B312-742C-4AEE-8C4A-864C0B4ED36E",CHANGE_VAULT_PASSWORD_API_SUCCESS:"CC380D06-CAC5-4CA4-AD1C-B445D93B05AE",PASSWORD_METER_LEARN_MORE_COMMON:"CB978F29-3472-4B23-A277-0865D73DD5E0",PASSWORD_METER_LEARN_MORE_GUESSABLE:"3902C8B4-B619-46B2-9903-AAA0447CF000"},
STRINGS:"Sign out;__SHORT_PRODUCT_NAME__;Change vault Password;Current vault password;New password;Confirm new password;Password hint;Save;Cancel;Not your previous vault password;Incorrect vault password.;Your password must follow all the rules.;That does not match your vault password.;Your hint cannot be your vault password or contain your vault password.;Changing vault password...;Password Changed;Changing your password will close your vault on your devices. You will need to use your new vault password. You will also need to refresh your biometric and mobile vault unlock settings.".split(";")};
f.STRINGS=f.STRINGS.concat(b);c={messages:{CREATE_VAULT_FLOW_INIT:"3c7dccaf-253c-43dd-8df2-a4cdab29257e",CALL_CREATE_VAULT_API:"g38e9facf-39be-41be-a8c6-e7e259e605ed"},SETUP_COMPLETE_PAGE_HTML:"content/ui/vault-setup-complete.html",STRINGS:"Sign out;__SHORT_PRODUCT_NAME__;Create your vault;Create your vault password;Confirm password;Enter hint here;The vault requires its own password, providing you with greater level of security. We do not store it, which means we cannot recover it for you. ;For this reason, it is very important that you remember your vault password.;Re-enter your vault password to confirm it.;Now, create a password hint. The hint should be something that helps you remember your password. It cannot be the same as, or contain, your vault password.;Creating vault...;Setup complete!;You\u2019re ready to start using Norton Identity Safe. You can visit your vault or close this tab.;Go to vault;Next;Back;Creating vault...;That does not match your vault password. Please try again, or click \u201cBack\u201d to change it.;Your password must follow the rules.;You must have a password hint, it cannot be left blank.;Your hint cannot be your vault password or contain your vault password.;Create vault".split(";")};
c.STRINGS=c.STRINGS.concat(b);b={formatStrings:{"You must download and run the {0} import":["__LONG_PRODUCT_NAME__"],"{0} is changing a password. You must wait until it finishes before autochanging another password.":["__LONG_PRODUCT_NAME__"],"Store your passwords and more in {0}.":["__LONG_PRODUCT_NAME__"],"When you reach your computer\u2019s vault unlock screen, check your mobile device for a {0} notification that will let you unlock it.":["__LONG_PRODUCT_NAME__"],"Install the {0} app.":["__LONG_PRODUCT_NAME__"],
"Mobile Unlock helps you access your secure information fast with a notification from our {0} app.":["__LONG_PRODUCT_NAME__"]},strings:"powered by;1995-2017 Symantec Corporation;Terms and Conditions;Privacy Policy;Symantec & Norton Global Privacy Statement;End User Agreement;and;.;Tour;Sync vault;Import;Feedback;Export vault;Close vault;NORTON ;__UPPERCASE_PRODUCT_NAME__;LOGINS;WALLET;ADDRESSES;NOTES;FAVORITES;Sign out;Copy username;Copy password;Username copied;Password copied;Card Number copied;Edit;Go to this site;Delete;Are you sure?;Deleting vault item\u2026;Do you want to delete this item? This cannot be undone.;Delete Item;Cancel;Title;Login URL;Username;Password;Security;Require vault password;Autofill;Autosubmit;Save;Cancel;New Login;New Wallet item;New Address;New Note;Enter your vault password;Password Protected Item;Protected vault Action;OK;Incorrect vault password;Login;Logins;Addresses;Notes;Create Login;Wallet;Create Wallet Item;Settings;Signed in as:;Sign out;Vault Access;Always require vault password before filling a login or form;Show third party icons for each login. The third party icon update actions will be visible to Symantec, but governed by our {0};Change vault Password;Share Data with Norton;Other Settings;Share usage and error data with Norton and help us make our products even better;Save;Restore default settings;Delete vault;You haven't saved any Wallet items yet;You haven't saved any Logins yet;You haven't saved any Addresses yet;You haven't saved any Notes yet;You haven't added any Favorites yet;Add Login;Add Wallet Item;Add Address;Add Note;Search vault;Payment Type;Payment Title;Name on Card;Card;Card Number;Expiration Date;Card Comments;Look for these vault features soon. Your Addresses, Notes, and Favorites have not been removed.;Always require vault password before filling a login or form;Login Saving;Save my credentials when I log in to a website;Always;No;Ask;Payment title cannot be empty. Please enter a valid payment title.;Please enter a valid card number. Card number should be between 14-16 digits.;Please enter values for month and/or year.;Login title cannot be empty. Please enter a valid login title.;Username cannot be empty. Please enter a valid username.;We didn't find anything;Norton account password verification required before deletion.;Credit Card;Bank Account;Bank Name;Account Owner Name;Routing Number;Bank Account Number;Note;Create Note;Text;Enter text here;Please fix the errors below.;Note title cannot be empty. Please enter a valid note title.;Region;Personal Data;First;MI;Date of Birth;Mr;Mrs;Ms;Last;First Name (Roman);First Name (phonetic);Last Name (phonetic);Last Name (Roman);Gender;Select;Male;Female;Address and Contact;Email;Email Address is not valid. Please enter a valid email address.;Apt/Suite;Home Phone;City;City (phonetic);Prefecture;Work Phone;Postal Code;Mobile Phone;State;Create Address;Address;Address 2;Address (phonetic);Address 2 (phonetic);Province;County;Address title cannot be empty. Please enter a valid address title.;Aland Islands;Albania;Algeria;American Samoa;Andorra;Angola;Anguilla;Antarctica;Antigua And Barbuda;Argentina;Armenia;Aruba;Australia;Austria;Azerbaijan;Bahamas;Bahrain;Bangladesh;Barbados;Belarus;Belgium;Belize;Benin;Bermuda;Bhutan;Bolivia;Bosnia And Herzegovina;Botswana;Bouvet Island;Brazil;British Indian Ocean Territory;Brunei Darussalam;Bulgaria;Burkina Faso;Burundi;Cambodia;Cameroon;Canada;Cape Verde;Cayman Islands;Central African Republic;Chad;Chile;China;Christmas Island;Cocos (Keeling) Islands;Colombia;Comoros;Congo;Congo, The Democratic Republic Of The;Cook Islands;Costa Rica;Cote D'ivoire;Croatia;Cyprus;Czech Republic;Denmark;Djibouti;Dominica;Dominican Republic;Ecuador;Egypt;EI Salvador;Equatorial Guinea;Eritrea;Estonia;Ethiopia;Falkland Islands (Malvinas);Faroe Islands;Fiji;Finland;France;French Guiana;French Polynesia;French Southern Territories;Gabon;Gambia;Georgia;Germany;Ghana;Gibraltar;Greece;Greenland;Grenada;Guadeloupe;Guam;Guatemala;Guinea;Guinea-Bissau;Guyana;Haiti;Heard Island And Mcdonald Islands;Holy See (Vatican City State);Honduras;Hong Kong;Hungary;Iceland;India;Indonesia;Ireland;Israel;Italy;Jamaica;Japan;Jordan;Kazakhstan;Kenya;Kiribati;Korea, Republic Of;Kuwait;Kyrgyzstan;Lao People's Democratic Republic;Latvia;Lebanon;Lesotho;Libya;Liechtenstein;Lithuania;Luxembourg;Macao;Macedonia, The Former Yugoslav Republic;Madagascar;Malawi;Malaysia;Maldives;Mali;Malta;Marshall Islands;Martinique;Mauritania;Mauritius;Mayotte;Mexico;Micronesia, Federated States Of;Moldova, Republic Of;Monaco;Mongolia;Montserrat;Morocco;Mozambique;Myanmar;Namibia;Nauru;Nepal;Netherlands;Netherlands Antilles;New Caledonia;New Zealand;Nicaragua;Niger;Nigeria;Niue;Norfolk Island;Northern Mariana Islands;Norway;Oman;Pakistan;Palau;Palestinian Territory;Panama;Papua New Guinea;Paraguay;Peru;Philippines;Pitcairn;Poland;Portugal;Puerto Rico;Qatar;Reunion;Romania;Russian Federation;Rwanda;Saint Helena;Saint Kitts And Nevis;Saint Lucia;Saint Pierre And Miquelon;Saint Vincent And The Grenadines;Samoa;San Marino;Sao Tome And Principe;Saudi Arabia;Senegal;Serbia And Montenegro;Seychelles;Sierra Leone;Singapore;Slovakia;Slovenia;Solomon Islands;Somalia;South Africa;South Georgia/SGSSI;Spain;Sri Lanka;Suriname;Svalbard And Jan Mayen;Swaziland;Sweden;Switzerland;Taiwan;Tajikistan;Tanzania, United Republic Of;Thailand;Timor-Leste;Togo;Tokelau;Tonga;Trinidad And Tobago;Tunisia;Turkey;Turkmenistan;Turks And Caicos Islands;Tuvalu;Uganda;Ukraine;United Arab Emirates;United Kingdom;United States of America;United States Minor Outlying Islands;Uruguay;Uzbekistan;Vanuatu;Venezuela;Vietnam;Virgin Islands, British;Virgin Islands, U.S.;Wallis And Futuna;Western Sahara;Yemen;Zambia;Visa;American Express;JCB;MasterCard;Discover;Other;The provided Login name already exists, Please use a different Login name and try again.;The provided Address already exists, Please use a different Address name and try again.;The provided payment title already exists. Please use a different payment title and try again.;Look for this vault feature soon. Your Favorites have not been removed.;Import Passwords;Source;Chrome and Firefox (32 bit) passwords;Chrome and Firefox passwords;Dashlane;LastPass;1Password;LastPass (binary version);To export LastPass logins in the browser extension, go to More Options > Advanced > Export > LastPass CSV file, and then upload the file below.;To export LastPass logins in the browser extension, go to More Options > Advanced > Export > LastPass CSV file, copy the information in the browser tab, and then paste it below.;To export Dashlane logins in the application, choose File > Export > Unsecured archive (readable) in .csv format, and then upload the file below.;To export 1password logins in the application, select the vault you want to export and select the login items. Right-click > Export > \u201cComma Delimited Text (.csv)\u201d file and then upload it below.;To export 1password logins from the application, select the vault containing them, then choose File > Export > All Items. In File Format, select Comma Delimited Text (.csv). Then select All Fields and Include Column Labels and upload the file below.;LastPass (binary version);To export LastPass logins in the browser extension, go to More Options > Advanced > Export > LastPass CSV file, and then upload the file below.;application to import Logins from Chrome and Firefox (32 bit only).;application to import Logins from Chrome and Firefox.;Do not close your browser after downloading and opening the app.;Download;1.;2.;Run The App;Upload Your File;Drop a file here to upload;or;Select File;Allowed file type(s): .json;Allowed file type(s): .csv;A) At the bottom of your browser, click;the .zip file. Do not close your browser.;B) In the .zip file, extract and run the;file.;file on your desktop and;upload it below.;The .json file will terminate in;minutes;Learn more;A) Click OK to open the .zip file or go to;the downloads folder at the top of;your browser. Do not close your browser.;A) On the Windows prompt at the bottom;of your browser, click Open. Do not close;your browser.;B) In the install folder, extract and run;the .exe file.;A) Open your downloads list and double-;the Install folder. Do NOT close your;browser.;passwords have been found;Select the Logins you want to securely store in your vault and then click Import to add them.*;*Logins with incomplete information may not appear above.;Website;Chrome;Firefox;Back;Import;Would you like to continue importing your Logins into your vault?;Uploading...;Please wait...;Importing...;Finish;passwords have been added. Please try again.;Upload complete!;Continuing import...;An error occurred while uploading;An error occurred;. Please try again.;Master password protected browser logins are not supported.;Processing...;Your passwords are being added;Import Complete;Norton recommends deleting the;file to help protect your personal data.;To export;logins, log in to;and export your logins;as a {0}. Open the file, copy the information, and then paste;it below.;Enter information here;B) In the Norton_Import folder, double-click;to set up and run the;import app.;C) After running the app, find the;Click OK to open the .zip file or go to;On the Windows prompt at the bottom;Open your downloads list and double-;click the .zip file. Do not close your;Duplicate;passwords have been added;passwords were already in your vault;Delete File;password was ignored;Import Error;Please try again;Retry;Please provide a valid account number.;Bank Account;Please provide a valid csv.;Safety Dashboard;Password Overview;Total;Compromised;Weak;Old;Archived;Password Strength;Last Changed;Duplicated;Action;{0} times;1 minute ago;{0} minutes ago;1 hour ago;{0} hours ago;1 day ago;{0} days ago;1 month ago;{0} months ago;1 year ago;{0} years ago;Autochange now;Change now;Beta;View;Fix Now;Common;Very Strong;Strong;Not Very Strong;Unsafe;Very Unsafe;Score;{0} issues found.;New Safety Dashboard Available;Visit your vault to see how secure your passwords are.;Your vault safety score needs improvement. {0};Your vault safety score is strong. {0}.;Your vault safety score is at risk. {0}.;Don\u2019t show me again;Safety Dashboard Health;View Dashboard;Password Generator;Copy;Regenerate;Strong Password;Weak Password;Bad Password;Password Length (4-64);Letters;Mixed Case;Symbols;Numbers;Use the Password Generator to create highly secure passwords that are difficult to crack or guess. Just select the criteria for the password you need, slide to the password length, and a new password will generate automatically. Remember, the more options you choose, the more secure the password will be.;Do you use any of these weak passwords?;password;123456;qwerty;Your kid\u2019s name;Always the same one;Why are those passwords weak?;They are easy to guess or crack\u2013really easy. If one site is compromised, a hacker has access to all your services.;What\u2019s the solution?;Save time. Access from anywhere. Get more secure passwords.;Close;Generate secure password;Changing...;Waiting...;Successfully Changed;Recently changed;Failed to auto change the password;Autochange will open the {0} page to automatically change your password and create another Login in your vault.;Please go to the {0} page that opened and enter the information required to change your password.;Continue;Error;Your new {0} Login has been saved successfully.;An error occured. Your {0} password was not changed.;OK;No results found;Learn more;Welcome to your new Safety Dashboard;Welcome to the new Safety Dashboard;Use the Safety Dashboard to conveniently monitor and update your passwords for better security.;Passwords that may have been exposed;Passwords that are used often and easy to guess;Passwords that are easy to detect;Passwords that are used more than once;Passwords that have not been changed recently;Original passwords that were autochanged;Norton Identity Safe is changing a password. You must wait until it finishes before autochanging another password.;Trial;Your new Login has been saved. You can autochange it again in a few minutes.;Norton Identity Safe;Get faster access to your vault with Mobile Unlock;Use your mobile app for easier access without entering your vault password.;I\u2019ll do this later;Get Started;No devices signed in;Enable notifications on your device and follow the instructions below to set up your Mobile Unlock. Do be sure that you have the latest version of the app installed.;Enable passcode and Touch ID/Face ID (iOS) or screen lock with fingerprint (Android) in your device settings.;Go to the App Store (iOS) or Google Play Store (Android).;Open the app, sign in to your Norton account, and then unlock your vault.;Click Continue below.;Supported devices;Still don\u2019t see your device?;Continue;Your push notifications must be enabled on your mobile device before setting up this feature.;Mobile Unlock;Setup;Turn On;Fingerprint is enabled on your device;Touch ID is enabled on your device;Click Refresh once completed.;Refresh;This device does not support Mobile Unlock. Please use a device that is Fingerprint, Touch ID or Face ID-enabled;Are you sure you want to cancel Mobile Unlock?;Mobile Unlock makes accessing your vault faster. You can set it up later by going to your Settings.;Continue Setup;Cancel Setup;My Devices;Activate Touch ID;Activate Fingerprint;PASSWORD MANAGER;Biometric;Setup Complete;You can now use {0} to unlock your vault.;Mobile Unlock settings;Mobile Unlock Settings;Mobile Unlock:;OFF;ON;Set Up;Added on;Password Manager;Device;Remove;Trial;Your new Login has been saved. You can autochange it again in a few minutes.;Vault;__LONG_PRODUCT_NAME__;__UPPERCASE_PRODUCT_NAME__;__SHORT_PRODUCT_NAME__;Always perform mobile unlock on browser startup".split(";")};
var g={PASSWORD_CATEGORY_RANGE:{VERY_WEAK:30,WEAK:50,MEDIUM:80,STRONG:90,VERY_STRONG:100}};b.DASHBOARD_HEALTH_CATEGORIES=[{score:g.PASSWORD_CATEGORY_RANGE.WEAK,category:"WEAK"},{score:g.PASSWORD_CATEGORY_RANGE.MEDIUM,category:"MEDIUM"},{score:g.PASSWORD_CATEGORY_RANGE.VERY_STRONG,category:"STRONG"}];b.colorVariants={WEAK:"danger",MEDIUM:"warning",STRONG:"success"};b.MESSAGES={UI_INIT:"ccd99bc2-0173-4f2f-84a4-d7301b145e7c",SEARCH_EVENT:"15064B5E-E6FD-4B13-9D24-C273B038784A",NEXT_ITEMSET:"2E089485-A24D-4541-BB93-6751A001B071",
SWITCH_ITEM:"9C3278CD-9A3A-4631-A79D-9C52F5F45F65",GET_FIELD_VALUE:"6D8CB1C9-4EE5-46AF-84F2-6E193E2BD089",COPY_FIELD_VALUE:"C645860B-AB01-4858-90B9-64598DE3FA3B",REFRESH_VIEW:"E71A56E9-CC0D-4715-BFDF-2F521C8C30EC",DELETE_ITEM:"292F1892-D6B8-4438-AD26-3091F4A4AD8A",ADD_ITEM:"DDE36BEE-EA65-4A54-936E-7CE3E74613F7",UPDATE_ITEM:"36E6481A-F105-4CB9-84B4-ACF93E3365E6",GET_ITEM:"36E6481A-F105-4CB9-84B4-ACF93E3365F4",VERIFY_VAULT_PASSWORD:"3E4075E4-1745-4F1D-A77E-B8E520274FF8",LAUNCH_CHANGE_PASSWORD:"97E5BD4A-D8A1-43CA-B2C9-7D2E149AAA6B",
TAB_VIEW_TYPE:"57D8F61E-F9A2-4A07-A547-058E9E7D3639",SPLASH_SHOWN:"A12VG294-240U-1093-UJ13-1WAFE13JODCI",SHOW_SETTINGS_MODEL:"AB9574F3-C842-47A4-9FF5-D5CD5DCFB557"};b.PAGE_SIZE=16;b.ITEM_VIEWS={LOGIN_VIEW:"Login",WALLET_VIEW:"Wallet",ADDRESS_VIEW:"Address",NOTES_VIEW:"Notes",FAVORITES_VIEW:"Favorites"};b.ITEM_TYPE={LOGIN:"9C30B050-7026-421F-9374-5764E4693B88",WALLET_CARD:"2F4F5C36-4C0F-4E92-BA03-1BF76B8C5524",WALLET_BANK:"D065EED5-249B-5195-9AE2-41C029A76BBE",ADDRESS:"C2ABD354-CB2B-4E09-A469-985E32C66A47",
NOTES:"486187E7-BF58-4EA7-B655-2F5653828350"};b.VIEW_TYPES={LIST_VIEW:"ListView",TILE_VIEW:"TileView"};b.FIELD_TYPES={PASSWORD_FIELD:"PasswordField",USERNAME_FIELD:"UserNameField",CARDNUMBER_FIELD:"CardNumberField",ACCOUNTNUMBER_FIELD:"AccountNumberField"};b.EVENT_NAME={LOGIN_ITEM_ADDED:"3B044DA9-1D2D-4EC7-9D70-2A8885DE7D9F",LOGIN_ITEM_DELETED:"43FF2628-B1B2-4429-BB63-B6E29137B130",LOGIN_ITEM_UPDATED:"D2B5A312-074F-4708-A81B-05EC09226194",LOGIN_ITEMS_DELETED:"32759186-77F4-4FBA-BA06-C4529F2921EB",
CC_ITEM_ADDED:"424FD0EA-B6D1-4430-97BE-E653591E497D",CC_ITEM_DELETED:"24C44107-2C7F-48DF-B788-D520F2A9A903",CC_ITEM_UPDATED:"FC55050D-ACE2-42AF-A591-E8A384BE83A4",CC_ITEMS_DELETED:"C4A50A48-12BD-4FE7-839A-1FBA6C12DEE0",BANK_ACCOUNT_ITEM_ADDED:"D4098236-16D4-58C8-B288-AEE4424B4456",BANK_ACCOUNT_DELETED:"FF95E4BB-6554-58B7-9C53-2552FE9036AA",BANK_ACCOUNT_UPDATED:"0CAF1C4D-300C-518F-87EC-B4A4D3BF2F74",BANK_ACCOUNTS_DELETED:"A9DB8479-26D1-5F31-B617-F01A121E0F88",SPOC_BUMP_RECEIVED:"C4D23DC4-A19F-4C40-9D1E-6C365FFA4899",
OPEN_SETTINGS_MODAL:"D7AE0183-27D3-4E1A-B981-C8093473A283",OPEN_IMPORT_MODAL:"22CEEC91-3DCD-42C5-BDC9-B46091D0B17A",OPEN_DASHBORD_MODAL:"E4CA38C8-8CAE-4DF8-B68E-00F26AE8EA91",OPEN_PASSWORD_GENERATOR_MODAL:"4067F5D5-2E87-48C5-B016-E53D735CACEF",OPEN_IMPORT_MODAL_DISCONTINUE_FLOW:"CFB00F5C-5871-4D3F-A22C-2356E3976912",ADDRESS_BOOK_ADDED:"CB476B3F-42E2-4159-B035-19FAE93B6B29",ADDRESS_BOOK_DELETED:"11C8465C-328F-40D1-810D-E43D95896DF3",ADDRESS_BOOK_UPDATED:"F22F150A-BA33-477D-90F4-8F7A435453AF",NOTE_ITEM_ADDED:"D534FC12-2BC3-4C66-8AD3-CD2F050F6D1B",
NOTE_ITEM_DELETED:"D68E0783-5CA8-4455-A06E-088E75243B2F",NOTE_ITEM_UPDATED:"C74481DD-057A-4D39-B294-23022D727598",BANK_ACCOUNT_ITEM_DELETED:"FF95E4BB-6554-58B7-9C53-2552FE9036AA",BANK_ACCOUNT_ITEM_UPDATED:"0CAF1C4D-300C-518F-87EC-B4A4D3BF2F74"};b.MODAL_TYPE={ADD_EDIT_CONTAINER:"addEdit",DELETE_CONFIRMATION:"deleteConfirm",DELETE_INPROGRESS:"deleteInProgress",SETTINGS:"showSettings",VERIFY_VAULT_PASSWORD_DIALOG:"96FE39BF-1D38-4497-BF2F-4A7C58F7EA8C",IMPORT:"showImport",DASHBOARD_DIALOG:"6D5F2582-11B5-4505-89AD-6AF4ED57E5D2",
PASSWORD_GENERATOR:"showPasswordGenerator",FULL_PAGE_MODAL:"114e5893-ff4b-4aaa-9ff0-87d75d536737",SEAMLESS_UNLOCK_SETUP:"seamlessUnlockSetup",MOBILE_UNLOCK_SETTING:"mobileUnlockSetting"};b.SPLASH_TYPE={SEAMLESS_UNLOCK:"seamlessUnlock",FULL_PAGE_MODAL:"114e5893-ff4b-4aaa-9ff0-87d75d536737"};b.CARD_TYPE={VISA:"visa",MASTER_CARD:"mastercard",JCB:"jcb",AMERICAN_EXPRESS:"american express",DINNERS_CLUB:"dinners club",DISCOVER:"discover",OTHER:"other"};g.ITEM_VIEWS={COMPROMISED_VIEW:"Compromised",COMMON_VIEW:"Common",
STRENGTH_VIEW:"Strength",DUPLICATE_VIEW:"Duplicate",AGE_VIEW:"Age"};g.ITEM_TYPE={COMPROMISED:"ab6d00a8-205c-11e8-b467-0ed5f89f718b",COMMON:"75f931d3-fc82-4f91-8bd2-5991db2aeea7",WEAK:"b0bd8da3-f47d-4e87-82a4-b793fde4f811",DUPLICATE:"50fdb40a-2c74-4750-823a-298d0eac7197",OLD:"4abaca85-905c-4e33-bd7a-e9113cae6f1d",TOTAL:"eeb62c4c-1a62-4b89-89dd-ba91a8effce9",ARCHIVED:"a75fb9e7-e8b4-4c2a-9aeb-257b6a24354d"};g.MESSAGES={CHANGE_LOGIN_PASSWORD:"d2086b78-286f-4409-b99d-e7e1fb693a22",CANCEL_CHANGE_LOGIN_PASSWORD:"4f2c4c83-988d-4ea0-a7a2-4a0d22a209af",
TASK_STATUS:"e4a5355c-f081-4592-a37e-7f69bd9dd8c6",PAGE_ACTIONS:"d8896ef6-4315-4ff8-b1b1-08d27a326a92",REQUEST_LIST_VIEW_DATA:"7C5B2343-D348-4DDC-A21D-64F6349AF7D0",REQUEST_RIBBON_DATA:"8f98d97c-a4b1-401a-9fc8-284396663b06",REQUEST_PASSWORD_FOR_LOGIN_ITEM:"EBF57B73-60E0-4346-A777-B47197D39C71",CLEAR_GUID_STATUS_MAP:"5f47bb44-265a-4ccc-b830-44c72d27dfb7",AUTO_CHANGE_RUNNING:"2fa85339-6703-41e0-a608-d45927555e77",REQUEST_DASHBOARD_VISIT_STATUS:"35bfe4e3-9af3-4756-9bfc-5f3e739a343e",OPEN_LEARNMORE:"99ddd5f9-b219-4386-9719-3dee4875a2e8",
AUTOCHANGE_BANNER_TYPE:"CE5C7927-9A50-492E-A66A-FB72452305A1",AUTOCHANGE_CS_TELEMETRY:"E43DB3F6-1D90-46FF-9070-9EB0089F0662"};g.TASK_STATUS={FAILED:"failed",SUCCESS:"success",NEXT_PAGE:"nextPage",GET_PAGE:"getPage",INTERACTIVE_STEP:"interactiveStep",NEW_PASSWORD:"newPasswordTakenFromPasswordInputBox",LOGOUT:"Logout"};k={POPUP:k,BADGE:{MAX_OFFSET_WIDTH:50},MESSAGES:{NA_LOGGEDOUT:"49ca1b60-a49a-40bc-9b4b-c845ccb10855",VAULT_UNLOCK_ERROR:"bfb9fa0f-d041-4f28-cd1e-18689d257317",VAULT_LOGGEDIN:"a2833314-12ea-4347-be69-4a57664dae3d",
VAULT_ISLOGGEDIN:"fad03dea-102e-4190-839d-7b4435abc5af",VAULT_GET_LOGINS_BY_URL:"9e577b0c-e55b-43f7-d70e-5e64f9eff681",VAULT_GET_LOGIN_BY_ID:"f075fe03-a5fc-4abd-cdce-3963dcf29dc6",VAULT_GET_CARD_BY_ID:"9433B656-9179-46E9-A9CE-F46EBC58B18C",VAULT_GET_CARD_ITEMS:"7c8c8af8-682b-4350-889c-6665a830bb5e",VAULT_PROCESS_LOGIN_FORM_SUBMISSION:"015bd5bc-6181-4bc0-86dc-3e2d502f207f",GET_SANDBOX_INFORMATION:"3196f7d9-de0b-4d62-b302-5c27888cd0bb",GET_SANDBOX_INFORMATION_CS:"98528214-1f52-4d5a-a857-b905b0ea668d",
VAULT_CLOSED:"F9BDF8F8-7DE2-48A5-C11C-DFC280058A19",FORCE_SYNC_STARTED:"5562D854-B9D2-4703-BACC-B4EE4A706D77",FORCE_SYNC_COMPLETED:"329126BC-FA4F-4BF7-D65A-83F656038117",CAN_SHOW_SIGNIN_POPUP:"396CA8DC-F546-474A-C7B7-FC825A15402C",IS_URL_EXCLUDED_FROM_WAX:"87e5ab76-6467-4945-f788-0c3d2efdae47",IS_URL_EXCLUDED_FROM_CAPTURE:"ae142d3b-52c3-45f9-ca28-bc44d9ef842c",IS_URL_EXCLUDED_FROM_ADDING_MUTATION_OBSERVER:"d6b5ed21-ebce-4e50-f732-adcb692cf937",LAUNCH_DELETE_VAULT_FLOW:"8c4532fe-ff73-4f38-a639-f415bc17437a",
CLOSE_CURRENT_TAB:"7daee500-dcd7-4bc1-a6a3-0b6f61d90aa9",COMPROMISED_PASSWORD_CHECK:"20cfd3e4-5428-4bd3-90f9-3c212743d614",COMPROMISED_PASSWORD_CHECK_RESPONSE:"e3471b56-5d78-4a81-aa25-3b463203bc64"},VAULT_UNLOCK:{UNLOCK_VAULT_URL:"content/ui/vault-unlock.html",STRINGS:"Unlock your vault;Your vault is locked. Please enter your vault password to access your vault and fill on your favorite sites.;Incorrect vault password;Open vault;Don't have a vault?;It's required to use Norton Identity Safe.;Enter your vault password;Show password hint;Hide password hint;Validating password...;Sign out;Need to delete your vault?;Click here;Norton account password verification required before deletion.;Take me to vault;__SHORT_PRODUCT_NAME__;Password Manager;Resend;Your request has been sent to your mobile device;Please approve the request on your device to unlock your vault.;You canceled our request. Resend the unlock approval to try again.;We didn't get your approval confirmation. Make sure your network connection is active and ensure push notifications are enabled.;The request sent to your mobile device failed;You must enter your vault password to access your vault, and set up Mobile Unlock again.;Vault access denied. Adjust your device to the correct time then retry.;Enter vault password;Learn more".split(";"),
MESSAGES:{SEND_UNLOCK_VAULT_TO_MOBILE:"f1233c51-a7cd-4262-9d79-ec6ec5a8d078",UNLOCK_VAULT:"3c9e00d6-23b9-4785-9708-0cdab142406e",SIGNOUT_OF_NA:"db170494-4555-4d71-bc1d-8fab6ec9ab65",SET_OPEN_VAULT_UI:"C3806AE8-24D1-4551-8738-E7DF520E87CF",SHOW_VAULT_UNLOCK_PAGE:"e5ab9ec0-b21a-4366-ac86-3ed9811ca95b",UI_INIT:"74ef9d7a-c6a4-4ab1-a531-b77e6cdde993",OPEN_VAULT_TAB_UI:"cbdf8b78-c0c9-4501-9ecb-03ef82b99327"}},CREATE_VAULT:c,EXPORT_VAULT:{STRINGS:["Export Data"],MESSAGES:{VAULT_DATA:"D87C1E35-4283-4E63-AC74-D395C8AA0927"}},
NO_VAULT:{HTML:"content/ui/no-vault.html",formatStrings:{"To use {0}, you must create a vault.":["__LONG_PRODUCT_NAME__"]},STRINGS:"No vault detected;To use {0}, you must create a vault.;Click Create vault to get started.;Create vault;Sign out;__SHORT_PRODUCT_NAME__".split(";"),MESSAGES:{UI_INIT:"c780e957-58bd-4371-a28d-bd77e9b9c82f",OPEN_CREATE_VAULT:"a6b816d8-5a01-418f-8cca-77072954cba1"},CREATE_VAULT_URL:"content/ui/create-vault.html"},LOGIN_UNLOCK:{strings:"Vault password required;Incorrect vault password;Unlock;Enter your vault password;Show password hint;Hide password hint;Validating password...;Sign out;__SHORT_PRODUCT_NAME__".split(";"),
messages:{UNLOCK_LOGIN:"e776d3c3-e867-4bdc-b736-d7a4396fb679",LOGIN_UNLOCKED:"c8966c7c-787e-4512-abe4-5ace1d1a8c29",UI_INIT:"88c984b4-8873-4207-a854-fa5c2f1dc430",SHOW_LOGIN_ATTEMPT_EXCEEDED_NOTIFICATION:"c86a959a-8f83-46b1-b68a-e37b3ddee437"}},VERIFY_VAULT_PASSWORD:{formatStrings:{"{0} requires your vault password to make this change.":["__SHORT_PRODUCT_NAME__"]},strings:"Vault password required;Incorrect vault password;Unlock;Enter your vault password;Show password hint;Hide password hint;Validating password...;Sign out;__SHORT_PRODUCT_NAME__".split(";"),
messages:{SHOW:"9AB2D824-D142-4942-A909-6D2E60074119",VAULT_PASSWORD_VERIFY:"91820CE2-02BD-4712-903C-AAB8890F2454",UI_INIT:"5E24A00B-C44E-4FAA-811C-B0C92616683A",SHOW_LOGIN_ATTEMPT_EXCEEDED_NOTIFICATION:"F2502460-069E-4D78-95CA-6B52D68B4448"},RATE_LIMIT:10},BROWSER_ACTION_POPUP:a,FIELDSTYLING:{DIV_ID:"norton-idsafe-field-styling-divId",IMG_ID:"norton-idsafe-field-logo-imgId",IMG_PATH:"content/images/ic-field-logo.svg",DIV_HEIGHT_REC:22,DIV_HEIGHT_RATIO:16,DIV_LEFT_RTL:6,DIV_LEFT_LTR:180,DIV_WIDTH_REC:186,
Z_INDEX:2147483646,VISIBLE_THRES:3,WAIT_TIME:50},SETTINGS:{strings:"Settings;Signed in as:;Sign out;Vault Access;Other Settings;Always require vault password before filling a login or form;Show third party icons for each login. The third party icon update actions will be visible to Symantec, but governed by our {0};Symantec & Norton Global Privacy Statement;End User Agreement;and;.;Autofilling;Autosave logins;Autofill logins;Save;Restore default settings;Delete vault;Norton account password verification required before deletion.;Change vault password".split(";"),
MESSAGES:{UI_INIT:"be73cdf1-186e-4725-9d98-636d3649f99e",RESTORE_DEFAULT_SETTINGS:"cd4afa6c-ef05-4ea3-bc58-4fce2bda50c2",SET_SETTINGS:"6d0dfaa9-90b6-42dd-b33b-9eff01ee3dfb",INITIALIZE_VERIFY_VAULT_PASSWORD:"BD0A771A-BE51-4B5A-8F54-107840712B7A"},HTML:"content/ui/settings.html",LOGIN_SAVING_TYPE:{ALWAYS:"Always",ASK:"Ask"}},IMPORT_PASSWORDS:{JsonFileWillTerminateInMinutes:20,UploadCompleteUIDisplayTimeout:2E3,JsonFileName:"norton_logins.json",WindowsAppName:"import_password.exe",MacAppName:"import_password",
MESSAGES:{UI_INIT:"43e7cc25-46c5-4da6-b22c-0885e9485229"},URLPATH_WINDOWS_CHROME:"https://static.nortoncdn.com/idsafe/import/V2/NortonImport_WinChrome.zip",URLPATH_WINDOWS_FIREFOX:"https://static.nortoncdn.com/idsafe/import/V2/NortonImport_WinFirefox.zip",URLPATH_WINDOWS_EDGE:"https://static.nortoncdn.com/idsafe/import/V2/NortonImport_WinEdge.zip",URLPATH_MAC_CHROME:"https://static.nortoncdn.com/idsafe/import/V2/chrome/Norton_Import.zip",URLPATH_MAC_FIREFOX:"https://static.nortoncdn.com/idsafe/import/V2/firefox/Norton_Import.zip",
URLPATH_MAC_SAFARI:"https://static.nortoncdn.com/idsafe/import/V2/safari/Norton_Import.zip"},VAULT_TAB:b,SECURITY_DASHBOARD:g,IDSAFE_LOGGING_IN_PROGRESS:{STYLE:"content/ui/xidsafe-logging-inprogress.css",FRAME_ID:"symc-logging-inprogress",HTML:"content/ui/xidsafe-logging-inprogress.html",HEIGHT:500,WIDTH:"100%",strings:["Signing into your account","please wait ..."]},CLIPBOARD:{MESSAGES:{SET_CLIPBOARD:"91badb37-51c2-4687-9195-aff03556cd7a",CHECK_AND_INIT_CLIPBOARD:"005df21e-5590-4b1d-9b2a-b384c8b92551"}},
MOBILE_UNLOCK:{status:{READY:"ready",NO_SECURITY_SETUP:"noSecuritySetup"},messages:{GET_NA_DEVICES:"A49BE87B-91C7-4F62-8BC6-9791DD3F2BA7",GET_AUTHORIZED_DEVICE:"F3900067-08D7-4B85-AB8F-604730B8CCAE",SETUP_MOBILE_UNLOCK:"0F3933D8-78B0-4B99-9B7B-5B4E26F92A8B",REMOVE_REGISTERED_DEVICE:"D07F7C6E-67A1-4253-AE2A-5DCF557F803D",GET_DEVICES_UPON_REGISTRATION_SPOC:"698BD773-8011-47AD-BBB8-F54AF3034554",SEND_UNLOCK_VAULT_TO_MOBILE:"f1233c51-a7cd-4262-9d79-ec6ec5a8d078"}},IMPORTMANAGER:{MESSAGES:{IMPORT_BROWSER_LOGINS:"a863e682-d17d-40f3-bb91-aba3f545f6ea",
PROCESS_BROWSER_LOGINS:"208e54c7-3bf2-4a0d-85c0-9adba7b2f805",DECRYPTED_LOGINS_DATA:"3da0a370-e798-4e7f-8270-0f7598e13da2",IMPORT_TO_VAULT_STATUS:"f6c3e68d-43d9-4a82-95a1-db57cdd64e30",PROCESS_LASTPASS_LOGINS:"23696727-d9b0-4aa6-8347-8aabb6d55b07",IMPORT_LASTPASS_LOGINS:"9e15fe75-8297-489c-811f-7d2c2eae245d",IMPORT_DASHLANE_LOGINS:"fd3ecc9d-6ff4-48b1-82ac-bfbbd396ad5d",PROCESS_DASHLANE_LOGINS:"17558272-452b-4231-9932-cb37af3912c8",IMPORT_ONEPASS_LOGINS:"68d750ae-4e3c-480d-bcf3-1b372535dce5",PROCESS_ONEPASS_LOGINS:"97896c98-a60f-44a6-9fa5-c0ccbbb017d5",
OPEN_COMPETITOR_LEARNMORE:"d742c58e-4609-41e6-b585-95f946950c79"}},SETUP_VAULT:{formatStrings:{"You're ready to start using {0}. You can visit your vault or close this tab.":["__LONG_PRODUCT_NAME__"]},STRINGS:["Setup complete!","Go to vault","Sign out","__SHORT_PRODUCT_NAME__"],MESSAGES:{UI_INIT:"665d0d5f-aa4a-4ada-aa7f-61e0f96713c4"}},DELETE_VAULT:{HTML:"content/ui/delete-vault.html",STRINGS:"Delete vault;You have decided to delete your vault, which will destroy its contents and give you a new vault. Are you absolutely sure you want to do this?;THIS CANNOT BE UNDONE.;Yes, Delete vault;Cancel;Vault deletion complete!;Deleting vault data...;Sign out;__SHORT_PRODUCT_NAME__".split(";"),
MESSAGES:{UI_INIT:"8DB2DD58-2F2A-40B2-82BE-519FCAB194A7",CALL_DELETE_VAULT_API:"85C51682-3462-47D0-BD64-CE150642FF42",DELETE_VAULT_API_SUCCESS:"415DFB14-949C-4D34-812B-F2715DB6D003"}},CHANGE_PASSWORD:f,BROWSER_TYPE:{CHROME:"Chrome",FIREFOX:"Firefox",EDGE:"Edge",SAFARI:"Safari"},PASSWORD_GENERATOR:{MESSAGES:{GENERATE_PASSWORD:"e28abdf9-9662-47ef-b08a-8534cb31d7bb",GENERATE_MULTIPLE_PASSWORD:"5896801B-30EE-4349-A3D9-6D7B5FE1E907"}},AUTO_PASSWORD_CHANGER_OVERLAY:{IFRAME_ID:"auto-password-changer-overlay",
HTML:"content/ui/auto-password-changer-overlay.html",STYLE:"content/ui/auto-password-changer-overlay.css",WIDTH:"100%",HEIGHT:"100%",TYPES:{INTERACTIVE:"interactive",IN_PROGRESS:"inProgress",SUCCESS:"success",FAILURE:"failure",READY:"ready"},MESSAGES:{OVERLAY_INIT:"15665A60-2320-42FC-B0F2-DF1603C91B6A",OVERLAY_HIDE:"85DFED6A-8929-45F2-B963-C3FB00A70B45"}},COMPROMISED_PASSWORD_RIBBON:{IFRAME_ID:"compromised-password-ribbon",HTML:"content/ui/compromised-password-ribbon.html",STYLE:"content/ui/compromised-password-ribbon.css",
WIDTH:"100%",HEIGHT:"55px",MESSAGES:{RIBBON_INIT:"5712086F-6BF6-4175-A61B-EB0B779266CA",RIBBON_SHOW:"8A1B9951-6667-4DCD-9F8F-8A8DAECD090F",RIBBON_HIDE:"FCA9BC81-463D-4547-9D8B-A120F009498B"}},COMPROMISED_PASSWORD_MODAL:{IFRAME_ID:"compromised-password-modal",HTML:"content/ui/compromised-password-modal.html",STYLE:"content/ui/compromised-password-modal.css",WIDTH:"100%",HEIGHT:"100%",MESSAGES:{MODAL_SHOW:"18D9E6FD-B6CA-469A-A9A6-0F341680A772",MODAL_HIDE:"65EEDAA4-9ADD-43CB-B277-10FAECC5D2C9",MODAL_INIT:"01D6456A-9865-4799-87E1-421D76FEFA33",
REFRESH_COMPROMISED_PASSWORD_NOTIFICATION:"F97AACFA-354D-4A6B-96C0-3949DDBA434D"},HIBP_LINK:"https://haveibeenpwned.com/"},NUDGE_SCREEN:{STRINGS:["You\u2019re almost done","Create your Norton account or sign in to open your vault by clicking the browser button above.","If you don\u2019t have a vault, one will be created for you immediately after you choose and set a strong vault password.","Add to browser","Sign in"],MESSAGES:{UI_INIT:"F9CC44CA-4FF9-4A4E-8306-F967D045887C",NUDGE_SCREEN_SHOWN:"F5B208C9-642B-49F9-942A-4E357BDC5EEC",
NUDGE_SCREEN_CLOSED:"8B647DBF-E09C-4AA1-BA73-54418221FCEC",GET_NUDGE_SCREEN_STATUS:"692D19D5-CD59-43F2-A867-7C4C1B675E57"},CONTENT_PAGE_URL:"/content/ui/onboardSetup.html"},CONTENT_PAGE_STYLE_ID:"symc-content-stylesheet",MIN_ACCEPTED_STRENGTH:8,WEAK_PASSWORD_COLOR:"#bd071d",STRONG_PASSWORD_COLOR:"#339933",NEUTRAL_COLOR:"#F3F3F3"};(e.IDSafe=e.IDSafe||{}).uiConstants=k})(executionContext);
(function(e){e.IDSafe.vaultUnlockSettings=function(a,k,f){var c=a.settings,b=k.constants,g=a.utils.isNil,e=a.utils.isntNil,p=a.logger,l=a.utils.isBoolean,m=a.utils.isInteger,d=f.session,h=b.VAULT_UNLOCK.SETTINGS_KEY;a=function(){var a=this;c.loadSettingsContainer(b.VAULT_UNLOCK_CONTAINER,!0,function(d,b,h){!1===d||g(b)?(p.error("failed to load VAULT_UNLOCK_CONTAINER"),a.settingsContainer=null):a.settingsContainer=b})};a.prototype.resetContainer=function(){if(!g(this.settingsContainer))try{c.resetSettingsCollection(b.VAULT_UNLOCK_CONTAINER,
function(a,d){a||p.error("Couldn't reset vault unlock manager container. Error : "+d)})}catch(q){p.error("Couldn't reset vault unlock manager container. Error : "+q)}};a.prototype.setValue=function(a,d){g(this.settingsContainer)?p.error("vault unlock manager settings not initialized"):this.settingsContainer.setObject(a,d)};a.prototype.getValue=function(a){if(g(this.settingsContainer))p.error("vault unlock manager settings not initialized");else return this.settingsContainer.getObject(a)};a.prototype.removeValue=
function(a){g(this.settingsContainer)?p.error("vault unlock manager settings not initialized"):this.settingsContainer.removeObject(a)};a.prototype.setNAGuidSettings=function(a){var b=d.getNAGUID();e(b)&&e(a)&&this.setValue(b,a)};a.prototype.getNAGuidSettings=function(){var a=d.getNAGUID();return e(a)&&(a=this.getValue(a),e(a))?a:this.defaultSettingsStructure()};a.prototype.defaultSettingsStructure=function(){var a={};a[h.DERIVED_KEYS]=null;a[h.ENCRYPTED_AES]=null;a[h.REGISTERED_DEVICE]=null;a[h.REGISTERED_TIME]=
null;a[b.SPLASH_SCREEN_SHOWN]=null;a[h.PASSWORD_SALT]=null;a[b.UNLOCK_NOTIFICATION_COUNT]=3;a[h.AUTO_MOBILE_UNLOCK_REQUEST]=!0;return a};a.prototype.removeRegisteredDevice=function(){var a=this.getIsSplashScreenShown(),d=this.isAutoMobileUnlockRequestEnabled();this.removeNAGuidSettings();this.splashScreenShown(a);this.setAutoMobileUnlockRequest(d)};a.prototype.removeNAGuidSettings=function(){var a=d.getNAGUID(),b=this.getPasswordHashSalt();e(a)&&this.removeValue(a);e(b)&&this.setPasswordHashSalt(b)};
a.prototype.setUnlockDerivedKeys=function(a){if(e(a)){var d=this.getNAGuidSettings();d[h.DERIVED_KEYS]=a;this.setNAGuidSettings(d)}};a.prototype.getUnlockDerivedKeys=function(){var a=this.getNAGuidSettings()[h.DERIVED_KEYS];return e(a)?a:null};a.prototype.setEncryptedAESKey=function(a){if(e(a)){var d=this.getNAGuidSettings();d[h.ENCRYPTED_AES]=a;this.setNAGuidSettings(d)}};a.prototype.getEncryptedAESKey=function(){var a=this.getNAGuidSettings()[h.ENCRYPTED_AES];return e(a)?a:null};a.prototype.setRegisteredDevice=
function(a){if(e(a)){var d=this.getNAGuidSettings();d[h.REGISTERED_DEVICE]=a;a=(new Date).toLocaleString(navigator.language,{month:"long",day:"numeric",year:"numeric"});d[h.REGISTERED_TIME]=a;this.setNAGuidSettings(d)}};a.prototype.getRegisteredDevice=function(){var a=this.getNAGuidSettings()[h.REGISTERED_DEVICE];return e(a)?a:null};a.prototype.getRegisteredTime=function(){var a=this.getNAGuidSettings()[h.REGISTERED_TIME];return e(a)?a:null};a.prototype.getIsSplashScreenShown=function(){var a=this.getNAGuidSettings()[b.SPLASH_SCREEN_SHOWN];
return l(a)?a:!1};a.prototype.splashScreenShown=function(a){var d=this.getNAGuidSettings();d[b.SPLASH_SCREEN_SHOWN]=a;this.setNAGuidSettings(d)};a.prototype.getPasswordHashSalt=function(){var a=this.getNAGuidSettings()[h.PASSWORD_SALT];return e(a)?a:null};a.prototype.setPasswordHashSalt=function(a){var d=this.getNAGuidSettings();d[h.PASSWORD_SALT]=a;this.setNAGuidSettings(d)};a.prototype.getUnlockNotificationCount=function(){var a=this.getNAGuidSettings()[b.UNLOCK_NOTIFICATION_COUNT];return m(a)?
a:0};a.prototype.decrementUnlockNotificationCount=function(){var a=this.getNAGuidSettings(),d=a[b.UNLOCK_NOTIFICATION_COUNT];0<d&&(a[b.UNLOCK_NOTIFICATION_COUNT]=d-1);this.setNAGuidSettings(a)};a.prototype.isAutoMobileUnlockRequestEnabled=function(){var a=this.getNAGuidSettings()[h.AUTO_MOBILE_UNLOCK_REQUEST];return l(a)?a:!0};a.prototype.setAutoMobileUnlockRequest=function(a){var d=this.getNAGuidSettings();d[h.AUTO_MOBILE_UNLOCK_REQUEST]=a;this.setNAGuidSettings(d)};return new a}(e.SymBfw,e.IDSafe,
e.SymO2)})(executionContext);
(function(e){e.IDSafe.globalSettings=function(a){var k={},f=a.settings,c=a.utils.isNil,b=a.utils.isntNil,g=a.utils.isFunction,e=IDSafe.constants,p=a.logger,l=e.VAULT_UNLOCK,m=a.utils.isBoolean;k.settingsContainer=null;k.initialize=function(a){if(!g(a))throw Error("callback must be a function");f.loadSettingsContainer(e.IDSAFE_GLOBAL_SETTINGS_CONTAINER,!0,function(d,b,f){!1===d||c(b)?(p.error("failed to load IDSAFE_GLOBAL_SETTINGS_CONTAINER"),a(!1)):(k.settingsContainer=b,a(!0))})};k.getValue=function(a){if(c(this.settingsContainer))p.error("settings not initialized");
else return this.settingsContainer.getObject(a)};k.setValue=function(a,b){c(this.settingsContainer)?p.error("settings not initialized"):this.settingsContainer.setObject(a,b)};k.getOpenVaultUI=function(){var a=k.getValue(e.OPEN_VAULT_UI);return c(a)?!1:a};k.setOpenVaultUI=function(a){m(a)&&k.setValue(e.OPEN_VAULT_UI,a)};k.getMigrateIDSSettings=function(){var a=k.getValue(l.MIGRATE_IDS_SETTINGS);return c(a)?!1:a};k.setMigrateIDSSettings=function(a){b(a)&&k.setValue(l.MIGRATE_IDS_SETTINGS,a)};k.getFingerprint=
function(){var a=k.getValue(e.FINGERPRINT);if(c(a)){var b=(new Date).getTime();a="xxxxxxxxxyxxxxxx".replace(/[xy]/g,function(a){var d=(b+16*Math.random())%16|0;b=Math.floor(b/16);return("x"==a?d:d&7|8).toString(16)});k.setValue(e.FINGERPRINT,a)}return a};return k}(e.SymBfw)})(executionContext);
(function(e){e.IDSafe.notificationIcon=function(a){return{getInfoIcon:function(){return"content/images/ic-logo-info.svg"},getErrorIcon:function(){return"content/images/ic-logo-error.svg"},getGoodIcon:function(){return"content/images/ic-logo-good.svg"},getAlertIcon:function(){return"content/images/ic-logo-alert.svg"},getUnsureIcon:function(){return"content/images/ic-notification-logo-unsure.svg"}}}(e.IDSafe)})(executionContext);
(function(e){e.IDSafe.settings=function(a,k,f){var c={},b=SymBfw.utils.isNil,g=SymBfw.utils.isntNil,e=SymBfw.utils.isFunction,p=SymBfw.logger,l=f.constants;a=f.uiConstants;var m=SymBfw.telemetrySettings;c.initialize=function(a,d,f){if(b(a))throw Error("Settings cannot be initialized without vault password");if(!1===e(d))throw Error("Callback cannot be null.");b(f)&&(f=!1);b(this.didReset)&&(this.didReset=!1);var h=SymBfw.secureSettings,g=function(h,f,g){if(!1===h)c.didReset?(p.error("Unable to create settings container, even after reseting the container"),
setTimeout(function(){d(h,g)},1)):(c.initialize(a,d,!0),c.didReset=!0);else{c.container=f;var r={};r[l.settings.REQUIRE_VAULT_PASSWORD]=f.getObject(l.settings.REQUIRE_VAULT_PASSWORD);r[l.settings.LOGIN_SAVING]=f.getObject(l.settings.LOGIN_SAVING);r[l.settings.DO_NOT_ASK_AGAIN]=f.getObject(l.settings.DO_NOT_ASK_AGAIN);r[l.settings.AUTO_FILL]=f.getObject(l.settings.AUTO_FILL);var q=f.getObject(l.settings.SHOULD_SET_AUTO_FILL_TO_FALSE);b(q)&&(r[l.settings.AUTO_FILL]=!1,f.setObject(l.settings.SHOULD_SET_AUTO_FILL_TO_FALSE,
!0),c.setAutoFill(!1,!0));r[l.settings.AUTO_SAVE]=f.getObject(l.settings.AUTO_SAVE);r[l.settings.HIDE_FAVICON]=f.getObject(l.settings.HIDE_FAVICON);c.setSettings(r,!1);c.didReset=!1;setTimeout(function(){d(h,null)},1)}};f?c.removeAll(function(d,b){h.loadSecureSettingsContainer(l.settings.CONTAINER,a,g)}):h.loadSecureSettingsContainer(l.settings.CONTAINER,a,g)};c.removeAll=function(a){SymBfw.secureSettings.deleteSecureSettingsContainer(l.settings.CONTAINER,a)};var d={};d[l.settings.REQUIRE_VAULT_PASSWORD]=
!1;d[l.settings.LOGIN_SAVING]=a.SETTINGS.LOGIN_SAVING_TYPE.ASK;d[l.settings.DO_NOT_ASK_AGAIN]=!1;d[l.settings.AUTO_FILL]=!1;d[l.settings.AUTO_SAVE]=!1;d[l.settings.HIDE_FAVICON]=!1;c.defaultPolicy=d;c.getSettings=function(){return{requireVaultPassword:this.getRequireVaultPassword(),loginSaving:this.getLoginsSaving(),shareData:this.getShareDataEnabled(),doNotAskAgain:this.getDoNotAskAgain(),autoFill:this.getAutoFill(),hideFavicon:this.getHideFavicon()}};c.setSettings=function(a,d){b(d)&&(d=!0);for(var h in a){var c=
a[h];switch(h){case l.settings.REQUIRE_VAULT_PASSWORD:this.setRequireVaultPassword(c,d);break;case l.settings.LOGIN_SAVING:this.setLoginsSaving(c,d);break;case l.settings.SHARE_DATA_WITH_NORTON:this.setShareDataEnabled(c,d);break;case l.settings.DO_NOT_ASK_AGAIN:this.setDoNotAskAgain(c,d);break;case l.settings.AUTO_FILL:this.setAutoFill(c,d);break;case l.settings.AUTO_SAVE:this.setAutoSave(c,d);break;case l.settings.HIDE_FAVICON:this.setHideFavicon(c,d)}}};c.resetSettings=function(){this.setSettings(d)};
c.setRequireVaultPassword=function(a,d){this.requireVaultPassword=a;g(d)&&!1===d||this.container.setObject(l.settings.REQUIRE_VAULT_PASSWORD,this.requireVaultPassword)};c.getRequireVaultPassword=function(){return b(this.requireVaultPassword)?d[l.settings.REQUIRE_VAULT_PASSWORD]:this.requireVaultPassword};c.getHideFavicon=function(){return b(this.hideFavicon)?d[l.settings.HIDE_FAVICON]:this.hideFavicon};c.setHideFavicon=function(a,d){this.hideFavicon=a;g(d)&&!1===d||this.container.setObject(l.settings.HIDE_FAVICON,
this.hideFavicon)};c.setLoginsSaving=function(a,d){this.loginSaving=a;g(d)&&!1===d||this.container.setObject(l.settings.LOGIN_SAVING,this.loginSaving)};c.getLoginsSaving=function(){return b(this.loginSaving)?d[l.settings.LOGIN_SAVING]:this.loginSaving};c.setShareDataEnabled=function(a,d){g(d)&&!1===d||(m.setTelemetryEnabled(a),a&&m.setUserRespondedInOptOutPage(!0))};c.getShareDataEnabled=function(){return m.isTelemetryEnabled()};c.setDoNotAskAgain=function(a,d){this.doNotAskAgain=a;g(d)&&!1===d||
this.container.setObject(l.settings.DO_NOT_ASK_AGAIN,this.doNotAskAgain)};c.getDoNotAskAgain=function(){return b(this.doNotAskAgain)?d[l.settings.DO_NOT_ASK_AGAIN]:this.doNotAskAgain};c.setAutoFill=function(a,d){this.autoFill=a;g(d)&&!1===d||this.container.setObject(l.settings.AUTO_FILL,this.autoFill)};c.getAutoFill=function(){return b(this.autoFill)?d[l.settings.AUTO_FILL]:this.autoFill};c.setAutoSave=function(a,d){this.autoSave=a;g(d)&&!1===d||this.container.setObject(l.settings.AUTO_SAVE,this.autoSave)};
c.getAutoSave=function(){return b(this.autoSave)?d[l.settings.AUTO_SAVE]:this.autoSave};return c}(e.SymBfw,e.SymO2,e.IDSafe)})(executionContext);
(function(e){e.IDSafe.vaultKeys=function(a,k){var f={locked:!0,mobileUnlockFlag:!1},c=a.utils,b=SymBfw.utils.isNil,g=k.constants,e=k.vaultUnlockSettings,p=SymBfw.utils.isntNil;f.setEncryptionKey=function(a){this.encryptionKey=a};f.setObfuscationKey=function(a){this.obfuscationKey=a};f.getEncryptionKey=function(){return this.encryptionKey};f.getObfuscationKey=function(){return this.obfuscationKey};f.isLocked=function(){return this.locked};f.setLocked=function(a){!0===a&&(f.setObfuscationKey(null),
f.setEncryptionKey(null),f.setEncodedVaultPassword(null),f.setChallengeKey(null));this.locked=a};f.setEncodedVaultPassword=function(a){var c=this;if(b(a))this.encodedPassword=this.salt=null;else{var d=null;p(d=e.getPasswordHashSalt())?this.salt=d:(this.salt=SymBfw.utils.createNewGuid(),e.setPasswordHashSalt(this.salt));d={};d.id=k.constants.GET_DERIVED_KEY;d.byteArray=a;d.salt=this.salt;d.iterationCount=g.LOCAL_VERIFY_VAULT_PASSWORD_ITERATION_COUNT;d.keyLength=g.DEFAULT_DERIVED_AES_KEY_SIZE+g.DEFAULT_HMAC_SIZE;
k.vaultUtils.generateDerivedKey(d,function(a){c.encodedPassword=a})}};f.getEncodedVaultPassword=function(){return this.encodedPassword};f.storeEncodedVaultPassword=function(a){this.encodedPassword=a};f.setChallengeKey=function(a){this.challengeKey=a};f.getChallengeKey=function(){return this.challengeKey};f.compareWithVaultPassword=function(a,c){var d=this;if(b(a)||this.isLocked())return!1;if(!1===SymBfw.utils.isFunction(c))throw Error("callback cannot be null");var h=null;b(this.salt)&&p(h=e.getPasswordHashSalt())&&
(this.salt=h);h={};h.id=k.constants.GET_DERIVED_KEY;h.byteArray=a;h.salt=this.salt;h.iterationCount=g.LOCAL_VERIFY_VAULT_PASSWORD_ITERATION_COUNT;h.keyLength=g.DEFAULT_DERIVED_AES_KEY_SIZE+g.DEFAULT_HMAC_SIZE;k.vaultUtils.generateDerivedKey(h,function(a){c(a===d.getEncodedVaultPassword())})};f.serialize=function(){var a=c.createStringBufferFromUint8Buffer(this.obfuscationKey);a=forge.util.encode64(a);var b=c.createStringBufferFromUint8Buffer(this.encryptionKey),d=forge.util.encode64(b);c.createStringBufferFromUint8Buffer(this.challengeKey);
b=forge.util.encode64(b);return JSON.stringify({isLocked:this.locked,obfuscationKey:a,encryptionKey:d,passwordHash:f.getEncodedVaultPassword(),challengeKey:b})};f.setUnlockUsingMobileFlag=function(a){this.mobileUnlockFlag=a};f.getUnlockUsingMobileFlag=function(){return this.mobileUnlockFlag};return f}(e.SymO2,e.IDSafe)})(executionContext);
(function(e){e.IDSafe.vaultUtils=function(a,k,f){var c={},b=a.utils.isNil,g=a.utils.isFunction,e=a.utils.isString,p=a.logger,l=k.utils,m=k.session,d=k.proto.com.symantec.oxygen.datastore.v2.messages,h=d.ChallengeList,q=d.Challenge,r=f.constants,t=dcodeIO.Long,u=f.telemetryWrapper,v=a.extensionAdapter,w=f.vaultKeys;c.generateDerivedKey=function(a,d){if(b(a)||!g(d))throw Error("Invalid arguments to generateDerivedKey");if(!(a.hasOwnProperty("id")&&a.hasOwnProperty("byteArray")&&a.hasOwnProperty("salt")&&
a.hasOwnProperty("iterationCount")&&a.hasOwnProperty("keyLength")))throw Error("Invalid arguments to generateDerivedKey");var c=new Worker(v.getExtensionURL("content/scripts/IDSWorker.js"));c.addEventListener("message",function(a){!b(a)&&a.data&&a.data.hasOwnProperty("id")&&a.data.id===f.constants.GET_DERIVED_KEY_RESPONSE&&(setTimeout(function(){d(a.data.derivedKey)}),c.terminate())});c.postMessage(a)};c.getRandomChallengeIV=function(a){if(!(a instanceof ArrayBuffer))throw Error("Client data can only be an array buffer");
return a.slice(0,r.DEFAULT_AES_INIT_VECTORY_SIZE)};c.getRandomChallenge=function(a){if(!(a instanceof ArrayBuffer))throw Error("Client data can only be an array buffer");return a.slice(r.DEFAULT_AES_INIT_VECTORY_SIZE,a.byteLength)};c.generateVaultDecryptionKey=function(a,d){var c=this;if(b(a))return null;if(d instanceof ArrayBuffer||d instanceof Uint8Array)d=l.createStringBufferFromUint8Buffer(d);a=l.stringUTF16LEToByteArray(a);var h={};h.id=f.constants.GET_DERIVED_KEY;h.byteArray=a;h.salt=d;h.iterationCount=
r.DEFAULT_VAULT_SCHEMA_ITERATION_COUNT;h.keyLength=r.DEFAULT_DERIVED_AES_KEY_SIZE+r.DEFAULT_HMAC_SIZE;return new Promise(function(a,d){c.generateDerivedKey(h,function(d){a(d)})})};c.generateChallengeDecryptionKey=function(a,d){var c=this;if(b(a))return null;var h=m.getNAGUID();if(b(h))throw Error("Norton account GUID cannot be null");a=h.toLowerCase()+"lk;jasdf57D,SF89"+a+"9834Jfd.dfk";a=l.stringUTF16LEToByteArray(a);var g={};g.id=f.constants.GET_DERIVED_KEY;g.byteArray=a;g.salt=d;g.iterationCount=
f.constants.DEFAULT_CHALLENGE_ITERATION_COUNT;g.keyLength=f.constants.DEFAULT_DERIVED_AES_KEY_SIZE;return new Promise(function(a,d){c.generateDerivedKey(g,function(d){a(d)})})};c.openEnvelopeData=function(a){if(b(a))throw Error("Data cannot be nil");if(!(a instanceof ArrayBuffer||a instanceof Uint8Array))throw Error("Envelope Data has to be an ArrayBuffer");if(a.byteLength<=r.DEFAULT_SHA_DIGEST+r.DEFAULT_AES_INIT_VECTORY_SIZE)throw Error("Data is too small.");var d=a.slice(0,r.DEFAULT_SHA_DIGEST),
c=a.slice(r.DEFAULT_SHA_DIGEST,r.DEFAULT_SHA_DIGEST+r.DEFAULT_AES_INIT_VECTORY_SIZE);a=a.slice(r.DEFAULT_SHA_DIGEST+r.DEFAULT_AES_INIT_VECTORY_SIZE,a.byteLength);return{digest:d,iv:c,data:a}};c.decryptData=function(a,d,b,h,f,g){return c.decryptEncryptData(!1,a,d,b,h,f,g)};c.encryptData=function(a,d,b,h,f,g){return c.decryptEncryptData(!0,a,d,b,h,f,g)};var n=function(a,d,b){return!0};c.decryptEncryptData=function(a,d,c,h,f,g,r){if(!1===e(d))throw Error("Algorithm cannot be null");if(b(c))throw Error("Key cannot be null");
if(b(f))throw Error("Crypto data cannot be null");b(r)&&(r=!0);b(g)&&(g=!0);if(h instanceof ArrayBuffer||h instanceof Uint8Array)h=l.createStringBufferFromUint8Buffer(h);if(c instanceof ArrayBuffer||c instanceof Uint8Array)c=l.createStringBufferFromUint8Buffer(c);var q=forge.util.createBuffer(f);a=!0===a?forge.cipher.createCipher(d,c):forge.cipher.createDecipher(d,c);a.start({iv:h});a.update(q);!0===g?a.finish():a.finish(n);h=a.output.getBytes();return r?l.createUInt8BufferFromStringBuffer(h,f.byteLength):
l.createUInt8BufferFromStringBuffer(h)};c.obfuscateData=function(a,d){if(b(a)||b(d))return null;a instanceof ArrayBuffer&&(a=new Uint8Array(a));d instanceof ArrayBuffer&&(d=new Uint8Array(d));for(var c=a.byteLength,h=d.byteLength,f=new Uint8Array(c),g=0;g<c;g++)f[g]=a[g]^d[g%h];return f};c.dataToBufferWithSerializedType=function(a,d){if(b(a))return null;switch(d){case r.SERIALIZE_DATA_TYPE.BINARY:return a;case r.SERIALIZE_DATA_TYPE.BOOL:return d=new Uint8Array(1),d[0]=!1===a?0:1,d;case r.SERIALIZE_DATA_TYPE.UINT32:return c.numberToUint8Buffer(a);
case r.SERIALIZE_DATA_TYPE.STRING:return a=k.utils.stringUTF16LEToByteArray(a),d=new Uint8Array(a);default:throw p.error("dataToBufferWithSerializedType called with unsupported type: "+d),Error("dataToBufferWithSerializedType called with unsupported type "+d);}};c.createEnvelopeAndEncryptData=function(a,d,h,f,g,q){if(b(a))throw Error("Encryption Key cannot be null");if(b(d))throw Error("Data cannot be null");if(b(h))throw Error("Serialized Type cannot be null");if(b(f))throw Error("Path cannot be null");
if(b(g))throw Error("Name cannot be null");b(q)&&(q=!0);var e=c.dataToBufferWithSerializedType(d,h);d=a.slice(0,r.DEFAULT_DERIVED_AES_KEY_SIZE);f=new Uint8Array(k.utils.stringUTF16LEToByteArray(f));var t=new Uint8Array(k.utils.stringUTF16LEToByteArray(g));g=c.numberToUint8Buffer(e.byteLength);var n=c.calculateChecksum(r.STARTING_CHECKSUM,f,0,f.byteLength);n=c.calculateChecksum(n,t,0,t.byteLength);f=new Uint8Array(1);f[0]=h;n=c.calculateChecksum(n,f,0,f.byteLength);n=c.calculateChecksum(n,g,0,g.byteLength);
n=c.calculateChecksum(n,e,0,e.byteLength);n=c.numberToUint8Buffer(n);t=new Uint8Array(e.byteLength+9);h=0;t.set(n,h);h+=n.byteLength;t.set(f,h);h+=f.byteLength;t.set(g,h);h+=g.byteLength;t.set(e,h);e=l.createUInt8BufferFromStringBuffer(forge.random.getBytesSync(r.DEFAULT_AES_INIT_VECTORY_SIZE));d=this.encryptData("AES-CBC",d,e,t,q);q=new Uint8Array(d.byteLength+e.byteLength);h=0;q.set(e,h);h+=e.byteLength;q.set(d,h);a=c.generateVaultDigest(a,q);d=new Uint8Array(q.byteLength+r.DEFAULT_SHA_DIGEST);
d.set(a,0);d.set(q,a.byteLength);return d};c.generateVaultDigest=function(a,d){if(b(a))throw Error("Key to HMAC cannot be null");if(b(d))return null;a=a.slice(r.DEFAULT_DERIVED_AES_KEY_SIZE,r.DEFAULT_DERIVED_AES_KEY_SIZE+r.DEFAULT_HMAC_SIZE);if(a instanceof ArrayBuffer||a instanceof Uint8Array)a=k.utils.createStringBufferFromUint8Buffer(a);if(d instanceof ArrayBuffer||d instanceof Uint8Array)d=k.utils.createStringBufferFromUint8Buffer(d);var h=forge.hmac.create();h.start("sha1",a);h.update(d);return k.utils.createUInt8BufferFromStringBuffer(h.digest().getBytes())};
c.verifyVaultDigest=function(a,d,b){d=this.generateVaultDigest(d,b);d=k.utils.createStringBufferFromUint8Buffer(d);if((a instanceof ArrayBuffer||a instanceof Uint8Array?k.utils.createStringBufferFromUint8Buffer(a):a)===d)return!0;u.sendIDSCryptoError("Digest comparison failure",u.IDS_CRYPTO_ERROR_CONSTANTS.DIGEST_COMPARISON_FAILURE);return!1};c.decryptEnvelopeData=function(a,d,h,f,g,q){if(b(d))throw Error("Derived Key cannot be null");if(b(h))throw Error("Path cannot be null");if(b(f))throw Error("Name cannot be null");
if(b(g))throw Error("Expected Type cannot be null");var e=this.openEnvelopeData(a),t=e.digest;a=a.slice(r.DEFAULT_SHA_DIGEST,a.byteLength);d instanceof Uint8Array&&(d=d.buffer);if(!1===c.verifyVaultDigest(t,d,a))return p.error("Data has been corrupted at path "+h+"  name:"+f),null;d instanceof ArrayBuffer&&(d=l.createStringBufferFromUint8Buffer(d));d=d.slice(0,r.DEFAULT_DERIVED_AES_KEY_SIZE);t=l.createStringBufferFromUint8Buffer(e.iv);q=c.decryptData("AES-CBC",d,t,e.data,q,!1).buffer;e=c.bytesToLongNumber(q,
0).toNumber();a=new Uint8Array(k.utils.stringUTF16LEToByteArray(h));d=new Uint8Array(k.utils.stringUTF16LEToByteArray(f));t=c.bytesToLongNumber(q,5).toNumber();var n=new Uint8Array(q.slice(4,5));if(g!==n[0])return u.sendIDSCryptoError("Type comparison failure, Path: "+h+", Name:"+f+", Expected type: '"+g+"', Actual type: '"+n[0]+"'",u.IDS_CRYPTO_ERROR_CONSTANTS.TYPE_COMPARISON_FAILURE),null;g=c.calculateChecksum(r.STARTING_CHECKSUM,a,0,a.byteLength);g=c.calculateChecksum(g,d,0,d.byteLength);g=c.calculateChecksum(g,
q,4,1);g=c.calculateChecksum(g,q,5,4);g=c.calculateChecksum(g,q,9,t);if(g!==e)return u.sendIDSCryptoError("Checksum Comparison Failure, Path: "+h+", Name: "+f,u.IDS_CRYPTO_ERROR_CONSTANTS.CHECKSUM_COMPARISON_FAILURE),null;h=q.slice(9,q.byteLength);return new Uint8Array(h)};c.handleChallenge=function(a,d,r,e){e=void 0===e?!0:e;var k,t,n,m,u,v,E,B,D,A,x,K,I,P,S,U,L;return $jscomp.asyncExecutePromiseGeneratorProgram(function(y){if(1==y.nextAddress){if(!1===g(r))throw Error("handleChallenge callback cannot be null");
k=new h;t=f.appNode.getChallengeIV();n=f.appNode.getChallengeSalt();m=l.createStringBufferFromUint8Buffer(t);u=l.createStringBufferFromUint8Buffer(n);v=d.getChallenges();if(b(v)||1>v.length)return p.error("challenges is empty"),r(null),y.return();E=v[0];B=E.getClientData().toArrayBuffer();D=E.getSalt().toArrayBuffer();D.slice(0,256);A=E.getPrivateKey().toArrayBuffer();x=l.createStringBufferFromUint8Buffer(c.getRandomChallengeIV(B));K=c.getRandomChallenge(B);return b(a)&&!0===w.getUnlockUsingMobileFlag()?
(I=w.getChallengeKey(),y.jumpTo(2)):y.yield(c.generateChallengeDecryptionKey(a,u),3)}2!=y.nextAddress&&(I=y.yieldResult);if(b(I))return p.error("generation of challenge decryption key failed"),r(null),y.return();e&&w.setChallengeKey(I);P=c.decryptData("AES-CBC",I,m,A,!1,!1);S=l.createStringBufferFromUint8Buffer(P);l.createUInt8BufferFromStringBuffer(S);U=c.decryptData("AES-CBC",S,x,K,!1,!1);L=new q;L.setAppId(E.getAppId());L.setEntityId(E.getEntityId());L.setSessionId(E.getSessionId());L.setDecryptedChallenge(U);
k.setChallenges(L);r(k);y.jumpToEnd()})};c.createChallenge=function(a,d){var h,f,g,e,t,n,v,E,B,A,F,M,Q,K;return $jscomp.asyncExecutePromiseGeneratorProgram(function(y){if(1==y.nextAddress){if(b(a))throw Error("Vault password cannot be null");if(b(d))throw Error("Callback cannot be null");h=m.getNAGUID();if(b(h))throw Error("NAGUID is not available");f=l.createUInt8BufferFromStringBuffer(forge.random.getBytesSync(r.DEFAULT_DERIVED_AES_KEY_SIZE));g=l.createUInt8BufferFromStringBuffer(forge.random.getBytesSync(r.DEFAULT_CHALLENGE_SALT_SIZE));
e=l.createUInt8BufferFromStringBuffer(forge.random.getBytesSync(r.DEFAULT_AES_INIT_VECTORY_SIZE));t=c.calculateChecksum(0,g);t=c.numberToUint8Buffer(t);n=new Uint8Array(g.byteLength+t.byteLength);n.set(g,0);n.set(t,g.byteLength);v=c.calculateChecksum(0,n);if(0!==v)return u.sendIDSCryptoError("Unable to calculate checksum",u.IDS_CRYPTO_ERROR_CONSTANTS.UNABLE_TO_CALCULATE_CHECKSUM),p.error("Checksum was not calculated correctly for Salt"),y.return(null);E=c.calculateChecksum(0,e);E=c.numberToUint8Buffer(E);
B=new Uint8Array(e.byteLength+E.byteLength);B.set(e,0);B.set(E,e.byteLength);v=c.calculateChecksum(0,B);if(0!==v)return u.sendIDSCryptoError("Unable to calculate checksum",u.IDS_CRYPTO_ERROR_CONSTANTS.UNABLE_TO_CALCULATE_CHECKSUM),p.error("Checksum was not calculated correctly for IV"),y.return(null);A=k.utils.createStringBufferFromUint8Buffer(g);F=k.utils.createStringBufferFromUint8Buffer(e);return y.yield(c.generateChallengeDecryptionKey(a,A),2)}M=y.yieldResult;b(M)&&d(null);w.setChallengeKey(M);
Q=c.decryptData("AES-CBC",M,F,f,!1,!1);K=new q;K.setEntityId(""+m.getUserID());K.setAppId(11);K.setSessionId((new Date).getTime());K.setPrivateKey(f);K.setSalt(n);K.setPublicKey(Q);setTimeout(function(){d({challenge:K,crcSalt:n,crcIV:B})},1);y.jumpToEnd()})};c.numberToUint8Buffer=function(a){var d=new Uint8Array(4);d[0]=a&255;d[1]=(a&65280)>>8;d[2]=(a&16711680)>>16;d[3]=(a&4278190080)>>24;return d};c.uint8BufferToNumber=function(a){if(b(a))return null;if(!(a instanceof Uint8Array))throw Error("Buffer is not of type Uint8Array");
if(4<a.byteLength)throw Error("Buffer does not contain a number.");var d=a[0]&255;d+=a[1]<<8&65280;d+=a[2]<<16&16711680;return d+=a[3]<<24&4278190080};c.calculateChecksum=function(a,d,h,f){if(b(d))throw Error("Data cannot be null");b(h)&&(h=0);b(f)&&(f=d.byteLength-h);var g=new t(302325776,null,!0);d instanceof ArrayBuffer&&(d=new Uint8Array(d));a=new t(a,null,!0);if(0===f)return a.xor(g).toNumber();for(g=h;g<=h+f-4;g+=4){var r=c.bytesToLongNumber(d,g);a=a.xor(r)}if(g<h+f){r=[16,32,5,18];h=h+f-g;
for(f=0;f<h;f++){var q=d[g++];r[f]=q}a=a.xor(c.bytesToLongNumber(new Uint8Array(r),0))}return a.toNumber()};c.bytesToLongNumber=function(a,d){var h=new t(0,null,!0);if(b(a))throw Error("Data cannot be null");a instanceof ArrayBuffer&&(a=new Uint8Array(a));b(d)&&(d=0);if(0===a.byteLength||a.byteLength<d+4)return h;var c=new t(a[d],null,!0),f=new t(a[d+1]<<8,null,!0),g=new t(a[d+2]<<16,null,!0);a=new t(a[d+3]<<24,null,!0);h=h.add(c);h=h.add(f);h=h.add(g);return h=h.add(a)};c.getStringHash=function(a){var d=
forge.md.sha256.create();d.update(a);return d.digest().toHex()};return c}(e.SymBfw,e.SymO2,e.IDSafe)})(executionContext);
(function(e){e.IDSafe.cryptoUtils=function(a,k,f){var c={},b=a.utils.isNil,g=k.utils,B=a.utils.isArray,p=a.utils.isString,l=a.utils.isInteger,m=a.logger,d=f.constants,h=e.Buffer.Buffer;c.encryptData=function(a,h,c,f){if(b(a))throw Error("algorithm cannot be null");if(b(h))throw Error("Key cannot be null");if(b(c))throw Error("IV cannot be null");if(b(f))throw Error("Crypto data cannot be null");h=forge.cipher.createCipher(a,h);h.start({iv:c});c=forge.util.createBuffer(f);h.update(c);h.finish();c=
g.createUInt8BufferFromStringBuffer(h.output.getBytes());if(a===d.AES_ALGORITHM.CBC)return c;a=g.createUInt8BufferFromStringBuffer(h.mode.tag.getBytes());return{data:c,tag:a}};c.decryptData=function(a,h,c,f,e){if(b(a))throw Error("algorithm cannot be null");if(b(h))throw Error("Key cannot be null");if(b(c))throw Error("IV cannot be null");if(b(f))throw Error("Crypto data cannot be null");if(a===d.AES_ALGORITHM.GCM&&b(e))throw Error("GCM tag cannot be null");h=forge.cipher.createDecipher(a,h);a===
d.AES_ALGORITHM.CBC?h.start({iv:c}):(a=forge.util.createBuffer(e),h.start({iv:c,tagLength:8*a.length(),tag:a}));c=forge.util.createBuffer(f);h.update(c);h.finish();return g.createUInt8BufferFromStringBuffer(h.output.getBytes())};c.createECDHSecretKey=function(a,d){if(!p(a)||0===a.length)throw Error("curve cannot be null or empty");if(b(d))throw Error("receiverPublickey cannot be null");try{var h=CreateECDH(a);h.generateKeys();var c=h.getPublicKey();var f={senderSecret:h.computeSecret(d),senderPubKey:c}}catch(w){m.error(w)}return f};
c.createHash=function(a,d,h){if(b(a)||0===a.length)throw Error("digest cannot be null or empty");if(!B(d)||b(d))throw Error("arrData should be in array format and not be null");try{for(var c=CreateHASH(a),f=$jscomp.makeIterator(d),g=f.next();!g.done;g=f.next())c.update(g.value);var r=c.digest();l(h)&&(r=r.slice(0,h))}catch(A){m.error(A)}return r};c.encryptDataWithCipher=function(a,d,c,f){if(!p(a)||0===a.length)throw Error("algorithm cannot be null or empty");if(b(d))throw Error("encryption key cannot be null");
if(b(c))throw Error("iv cannot be null");if(b(f))throw Error("data cannot be null");try{var g=Cipher.createCipheriv(a,d,c),r=h.from(f),q=h.concat([g.update(r),g.final()]),e=g.getAuthTag();var k=h.concat([q,e])}catch(D){m.error(D)}return k};c.hybridEncryption=function(a,d,c,f,g,e,k){if(!p(a)||0===a.length)throw Error("curve cannot be null or empty");if(b(d))throw Error("receiverPublickey cannot be null");d=new Uint8Array(d);if(!p(c)||0===c.length)throw Error("digest cannot be null or empty");if(!l(f))throw Error("keyLength cannot be null");
if(!p(g)||0===g.length)throw Error("algorithm cannot be null or empty");if(b(e))throw Error("iv cannot be null");if(b(k))throw Error("data cannot be null");a=this.createECDHSecretKey(a,d);if(b(a))m.error("Secret key is null, Cannot perform encyption");else if(d=[a.senderSecret,h.from("00000001","hex"),a.senderPubKey],c=this.createHash(c,d,f),b(c))m.error("Derived key is null, Cannot perform encyption");else return g=this.encryptDataWithCipher(g,c,e,k),h.concat([a.senderPubKey,g])};c.asymmetricEncryption=
function(a,d){if(b(a))throw Error("publicKey cannot be null");if(b(d))throw Error("data cannot be null");a=new Uint8Array(a);a=k.utils.createStringBufferFromUint8Buffer(a);a=forge.util.encode64(a);d=forge.pki.publicKeyFromPem("-----BEGIN PUBLIC KEY-----"+a+"-----END PUBLIC KEY-----").encrypt(d,"RSA-OAEP",{md:forge.md.sha256.create(),mgf1:{md:forge.md.sha1.create()}});return d=k.utils.createUInt8BufferFromStringBuffer(d)};return c}(e.SymBfw,e.SymO2,e.IDSafe)})(executionContext);
(function(e){(e.IDSafe.securityDashboard={}).utils=function(a,e){var f=a.utils.isNil,c=a.logger,b=a.utils.isntNil;a=e.constants.SECURITY_DASHBOARD;var g=void 0===a.PASSWORD_CATEGORY_LIST?[]:a.PASSWORD_CATEGORY_LIST,k={maxScore:10,getPasswordInfo:function(a){if(f(a))throw Error("Password cannot be null");a=zxcvbn(a);var b=a.guesses,g=a.feedback||{};a=void 0===g.suggestions?[]:g.suggestions;g=void 0===g.warning?"":g.warning;if(f(b))return c.error("Library Bug: Guesses cannot be null"),null;b=k._internalScore(b);
var d=k._getPasswordCategory(b);return{strength:b,category:d,warning:g,suggestions:a}},_internalScore:function(a){return 15>a?0:105>a?1:1005>a?2:10005>a?3:100005>a?4:1000005>a?5:a<1E7+5?6:a<1E8+5?7:a<1E9+5?8:a<1E10+5?9:k.maxScore},_getPasswordCategory:function(a){a=void 0===a?0:a;return g.find(function(b){return a<=b.strength}).category},_getDomain:function(a){return(new URI(a)).domain()},_autoChangeSupported:function(a){if(b(a)&&0<a.length&&(a=k._getDomain(a),b(a)&&0<a.length)){var c=e.passwordChanger.getPasswordChangerRule();
if(b(c)&&(a=c.getPasswordChangerJSONRuleForPage(a),b(a)&&a.hasOwnProperty("startingPage")))return!0}return!1},getDashboardCategory:function(a){a=void 0===a?50:a;return e.uiConstants.VAULT_TAB.DASHBOARD_HEALTH_CATEGORIES.find(function(b){return a<=b.score}).category}};return k}(e.SymBfw,e.IDSafe)})(executionContext);
(function(e){e.IDSafe.passwordGenerator=function(a){var e=a.utils.isntNil,f=a.utils.getRandomIntInRange,c={VOWELS:"aeuiol".split(""),CONSONANTS:"b c d f g h j k m n p q r s t v w x y z tr cr br fr th dr ch ph wr st sp sw pr".split(" "),SYMBOLS:"!@#$?&*_-+=".split(""),DIGITS:"0123456789".split(""),MODE:{ALPHA:"letters",NUMERIC:"numbers"},createMultiplePassword:function(a,f,e,k,l,m){m=void 0===m?1:m;for(var d=[],b=0;b<m;b++){var g=c.createPassword(a,f,e,k,l);d.push(g)}return d},createPassword:function(a,
f,e,k,l,m){a=void 0===a?12:a;f=void 0===f?!0:f;e=void 0===e?!0:e;k=void 0===k?!0:k;l=void 0===l?!0:l;m=void 0===m?null:m;var d=null;try{f?(d=c._generatePassword(a,c.MODE.ALPHA),l&&(d=c._generateNumeric(d))):d=c._generatePassword(a,c.MODE.NUMERIC),k&&(d=c._generateSymbols(d,f&&l,m)),e&&(d=c._generateMixedcase(d))}catch(h){return null}return d},_generatePassword:function(a,g){var b="";if(g===c.MODE.NUMERIC)for(g=0;g<a;++g)b+=c.DIGITS[f(0,c.DIGITS.length-1)];else for(g=0;g<a;++g)b+=c.CONSONANTS[f(0,
c.CONSONANTS.length-1)],b+=c.VOWELS[f(0,c.VOWELS.length-1)];return b.substr(0,a)},_generateNumeric:function(a){var b=a.length,e=b/4;e=1<e?f(0,Math.floor(e-1))+1:1;for(var k=1;k<=e;k++){var l=f(0,b-1),m=c.DIGITS[f(0,c.DIGITS.length-1)];a=c.replaceCharAt(a,l,m)}return a},_generateSymbols:function(a,g,k){k=void 0===k?null:k;var b=!1,l=0,m=a.length,d=m/4;d=1<d?f(0,Math.floor(d-1))+1:1;var h=c.SYMBOLS;if(e(k)){var q=new Set(k);h=h.filter(function(a){return!q.has(a)})}if(0===h.length)return a;for(k=1;k<=
d;k++){do{var r=f(0,m-1),t=h[f(0,h.length-1)];g?c.isLetter(a[r])?(a=c.replaceCharAt(a,r,t),b=!1):(b=!0,l>=m?(a=c.replaceCharAt(a,r,t),b=!1):l++):a=c.replaceCharAt(a,r,t)}while(b)}return a},_generateMixedcase:function(a){for(var b,e=a.length,k=0,l=f(0,Math.floor(e/2-1))+1,m=0;m<l;m++){do{var d=f(0,e-1),h=a[d];c.isLetter(h)?(a=c.replaceCharAt(a,d,h.toUpperCase()),b=!1):(b=!0,k>=e?(a=c.replaceCharAt(a,d,h.toUpperCase()),b=!1):k++)}while(b)}return a},replaceCharAt:function(a,c,f){return a=a.substr(0,
c)+f+a.substr(c+1)},isLetter:function(a){return 1===a.length&&e(a.match(/[a-z]/i))}};return c}(e.SymBfw)})(executionContext);
(function(e){e.IDSafe.idscNode=function(a,e,f){var c={},b=a.utils.isNil,g=a.utils.isFunction,k=a.utils.isntNil;a=e.proto.com.symantec.oxygen.datastore.v2.messages;var p=a.Node,l=a.Value,m=f.constants;c.setEncryptionKey=function(a){this.encryptionKey=a};c.setObfuscationKey=function(a){this.obfuscationKey=a};c.setPBDKSalt=function(a){this.salt=a};c.setLoginID=function(a){this.loginID=a};c.getLoginID=function(){return this.loginID};c.getEncryptionKey=function(){return this.encryptionKey};c.getObfuscationKey=
function(){return this.obfuscationKey};c.getPBDKSalt=function(){return b(this.salt)?null:this.salt.slice(0,this.salt.byteLength-m.DEFAULT_CRC_SIZE)};c.setNodeModified=function(a){this.nodeModified=a};c.getNodeModified=function(){return this.nodeModified};c.serialize=function(a){var d=new p,b=d.getValues();d.setPath(m.DEFAULT_APPID_IDSC_NODE);var f=new l;f.setType(l.DataTypeID.TID_BINARY);f.setDataBinary(c.getEncryptionKey());f.setName(m.DEFAULT_VAULT_ENCRYPTION_KEY);b.push(f);f=new l;f.setType(l.DataTypeID.TID_UINT64);
f.setDataUint64(c.getLoginID());f.setName(m.DEFAULT_LOGIN_ID);b.push(f);f=new l;f.setType(l.DataTypeID.TID_BINARY);f.setDataBinary(this.salt);f.setName(m.DEFAULT_VAULT_PBDK_SALT);b.push(f);f=new l;f.setType(l.DataTypeID.TID_BINARY);f.setDataBinary(c.getObfuscationKey());f.setName(m.DEFAULT_VAULT_OBFUSCATION_KEY);b.push(f);d.setValues(b);k(a)&&d.setChildNodes(a);return d};c.reset=function(){for(var a in this)g(this[a])||(this[a]=null)};return c}(e.SymBfw,e.SymO2,e.IDSafe)})(executionContext);
(function(e){e.IDSafe.appNode=function(a,e,f){var c={},b=a.utils.isNil,g=a.utils.isFunction,k=a.utils.isntNil;a=e.proto.com.symantec.oxygen.datastore.v2.messages;var p=a.Node,l=a.Value,m=f.constants;c._isAvailable=!1;c.setPasswordHint=function(a){this.hint=a};c.getPasswordHint=function(){return this.hint};c.setChallengeIV=function(a){this.iv=a};c.getChallengeIV=function(){return b(this.iv)?null:this.iv.slice(0,this.iv.byteLength-m.DEFAULT_CRC_SIZE)};c.setProfileID=function(a){this.profileID=a};c.getProfileID=
function(){return this.profileID};c.setLoginID=function(a){this.loginID=a};c.getLoginID=function(){return this.loginID};c.setChallengeSalt=function(a){this.challengeSalt=a};c.getChallengeSalt=function(){return b(this.challengeSalt)?null:this.challengeSalt.slice(0,this.challengeSalt.byteLength-m.DEFAULT_CRC_SIZE)};c.setVaultVersion=function(a){this.valutVersion=a};c.getVaultVersion=function(){return this.valutVersion};c.setNodeModified=function(a){this.nodeModified=a};c.setAvailability=function(a){this._isAvailable=
a};c.isEmpty=function(){return!1===this._isAvailable};c.getNodeModified=function(){return this.nodeModified};c.serialize=function(a){var d=new p,b=d.getValues();d.setPath(m.DEFAULT_APPID_NODE);var f=new l;f.setType(l.DataTypeID.TID_STRING);f.setDataString(c.getProfileID());f.setName(m.DEFAULT_PROFILE_ID);b.push(f);f=new l;f.setType(l.DataTypeID.TID_UINT64);f.setDataUint64(c.getLoginID());f.setName(m.DEFAULT_LOGIN_ID);b.push(f);f=new l;f.setType(l.DataTypeID.TID_UINT32);f.setDataUint32(c.getVaultVersion());
f.setName(m.DEFAULT_VAULT_VERSION);b.push(f);f=new l;f.setType(l.DataTypeID.TID_BINARY);f.setDataBinary(this.iv);f.setName(m.DEFAULT_CHALLENGE_IV);b.push(f);f=new l;f.setType(l.DataTypeID.TID_STRING);f.setDataString(c.getPasswordHint());f.setName(m.DEFAULT_PASSWORD_HINT);b.push(f);f=new l;f.setType(l.DataTypeID.TID_BINARY);f.setDataBinary(this.challengeSalt);f.setName(m.DEFAULT_CHALLENGE_SALT);b.push(f);d.setValues(b);k(a)&&d.setChildNodes(a);return d};c.reset=function(){for(var a in this)g(this[a])||
(this[a]=null);this._isAvailable=!1};return c}(e.SymBfw,e.SymO2,e.IDSafe)})(executionContext);
(function(e){e.IDSafe.nodeParser=function(a,e){var f={},c=a.utils.isNil,b=a.utils.isInteger,g=a.logger,k=e.appNode,p=e.idscNode,l=e.constants;f.parseNodeList=function(a){a=a.getNodes();var d={deleted:0,updated:0,added:0},h;for(h in a){var g=a[h];switch(g.path){case l.DEFAULT_APPID_NODE:f.handleAppIDNode(g);break;case l.DEFAULT_APPID_IDSC_NODE:f.handleIDSCNode(g);break;case l.DEFAULT_LOGIN_NODE:case l.DEFAULT_CREDIT_CARD_NODE:case l.DEFAULT_BANK_ACCOUNT_NODE:case l.DEFAULT_IDENTITY_NODE:case l.DEFAULT_ADDRESS_NODE:case l.DEFAULT_NOTE_NODE:d.deleted+=f.handleItemManagerUpdate(g);
break;default:g=f.handleVaultNode(g),c(g)||(b(g.addedNodes)&&(d.added+=g.addedNodes),b(g.updatedNodes)&&(d.updated+=g.updatedNodes))}}return d};f.handleItemManagerUpdate=function(a){var d=null,b=e.vaultManager;switch(a.path){case l.DEFAULT_LOGIN_NODE:d=b.constructor.LOGIN_MANAGER;break;case l.DEFAULT_CREDIT_CARD_NODE:d=b.constructor.CREDIT_CARD_MANAGER;break;case l.DEFAULT_BANK_ACCOUNT_NODE:d=b.constructor.BANK_ACCOUNT_MANAGER;break;case l.DEFAULT_ADDRESS_NODE:d=b.constructor.ADDRESS_MANAGER;break;
case l.DEFAULT_IDENTITY_NODE:d=b.constructor.IDENTITY_MANAGER;break;case l.DEFAULT_NOTE_NODE:d=b.constructor.NOTE_MANAGER}if(c(d))return g.info("Do not support update to vault at path:"+a.path),0;d=b.getItemManager(d);var f=d.getItems();b={};var r=null;for(r in f)b[r]=!0;a=a.getChildNodes();for(var k in a){var m=a[k].getNodeName();c(f[m])||delete b[m]}k=0;for(r in b)k++,d.deleteItem(r);return k};f.shouldUpdateItem=function(a,d){a=a.getNodeModified();d=d.getNodeModified();var b=!0;c(a)||0<=a.compare(d)&&
(b=!1);return b};f.handleVaultNode=function(a){var d={addedNodes:0,updatedNodes:0};if(0===a.getValues().length)return g.log("Item got deleted"),d;var b=e.vaultManager;if(-1<a.path.indexOf(l.DEFAULT_LOGIN_NODE+"/")){var f=new e.Login;var r=b.constructor.LOGIN_MANAGER}else if(-1<a.path.indexOf(l.DEFAULT_CREDIT_CARD_NODE+"/"))f=new e.CreditCard,r=b.constructor.CREDIT_CARD_MANAGER;else if(-1<a.path.indexOf(l.DEFAULT_BANK_ACCOUNT_NODE+"/"))f=new e.BankAccount,r=b.constructor.BANK_ACCOUNT_MANAGER;else if(-1<
a.path.indexOf(l.DEFAULT_ADDRESS_NODE+"/"))f=new e.Address,r=b.constructor.ADDRESS_MANAGER;else if(-1<a.path.indexOf(l.DEFAULT_IDENTITY_NODE+"/"))f=new e.Identity,r=b.constructor.IDENTITY_MANAGER;else if(-1<a.path.indexOf(l.DEFAULT_NOTE_NODE+"/"))f=new e.Note,r=b.constructor.NOTE_MANAGER;else return d;f.parseNode(a);r=b.getItemManager(r);b=f.getPath();b=r.getItem(b);if(c(b))d.addedNodes++,r.addItem(f);else{if(!this.shouldUpdateItem(b,a))return d;d.updatedNodes++;f.setNodeModified(a.getNodeModified());
r.updateItem(f)}return d};f.handleAppIDNode=function(a){var d=a.getValues();if(0===d.length)k.reset();else if(this.shouldUpdateItem(k,a)){k.setNodeModified(a.getNodeModified());for(var b in d)switch(a=d[b],a.name){case l.DEFAULT_PASSWORD_HINT:k.setPasswordHint(a.data_string);break;case l.DEFAULT_CHALLENGE_IV:a=a.data_binary.toArrayBuffer();k.setChallengeIV(a);break;case l.DEFAULT_LOGIN_ID:k.setLoginID(a.data_uint64);break;case l.DEFAULT_PROFILE_ID:k.setProfileID(a.data_string);break;case l.DEFAULT_CHALLENGE_SALT:a=
a.data_binary.toArrayBuffer();k.setChallengeSalt(a);break;case l.DEFAULT_VAULT_VERSION:k.setVaultVersion(a.data_uint64)}k.setAvailability(!0)}};f.handleIDSCNode=function(a){var d=a.getValues();if(this.shouldUpdateItem(p,a)){p.setNodeModified(a.getNodeModified());for(var b in d)switch(a=d[b],a.name){case l.DEFAULT_VAULT_ENCRYPTION_KEY:a=a.data_binary.toArrayBuffer();p.setEncryptionKey(a);break;case l.DEFAULT_VAULT_OBFUSCATION_KEY:a=a.data_binary.toArrayBuffer();p.setObfuscationKey(a);break;case l.DEFAULT_LOGIN_ID:p.setLoginID(a.data_uint64);
break;case l.DEFAULT_VAULT_PBDK_SALT:a=a.data_binary.toArrayBuffer(),p.setPBDKSalt(a)}}};return f}(e.SymBfw,e.IDSafe)})(executionContext);
(function(e){e.IDSafe.Item=function(){var a=SymO2.proto.com.symantec.oxygen.datastore.v2.messages,e=a.Node,f=a.Value,c=IDSafe.constants,b=f.DataTypeID,g=SymBfw.logger,B=SymBfw.utils.isNil,p=SymBfw.utils.isntNil,l=SymBfw.utils.isString,m=SymBfw.utils.isBoolean,d=SymO2.utils,h=dcodeIO.Long,q=IDSafe.telemetryWrapper;a=function(){};a.prototype.parseNode=function(a){a=a.values;for(var d in a){var c=a[d],h=this.schemaForKey(c.name);if(!B(h)){var f=h.serializedType;if(f!==c.type)g.error("Name:"+c.name+":WrongType"),
g.error("ExepctedType:"+f),g.error("Actual Type:"+c.type);else{switch(c.type){case b.TID_STRING:c=c.data_string;break;case b.TID_UINT64:c=c.data_uint64;break;case b.TID_BINARY:c=c.data_binary.toArrayBuffer();break;default:g.error("Unsupported data type: "+c.type);continue}h.setter.apply(this,[c,"internal"])}}}};a.prototype.getPath=function(){throw Error("Super class should not be called directly for this method");};a.prototype.getNodePath=function(){throw Error("Super class should not be called directly for this method");
};a.prototype.updateFromDictionary=function(a){if(B(a))throw Error("Item dict cannot be null.");if(!0===this.encrypted)return!1;var d=!1,b;for(b in a){var c=null;try{c=this.propertyToSchemaKey(b)}catch(A){g.error("Key does not have a matching Schema:"+b);g.error(A);continue}var h=this.schemaForKey(c);if(!B(h)){c=a[b];var f=h.setter;h=h.getter.apply(this);c!==h&&(d=!0,f.apply(this,[c]))}}d&&this.setLastUpdate((new Date).getTime()/1E3);return d};a.prototype.initFromDictionary=function(a){if(B(a))throw Error("Item dict cannot be null.");
this.encrypted=!1;var d=p(a.path),b=p(a.lastUpdate);!1===d&&(a.path="{"+SymBfw.utils.createNewGuid()+"}");!1===b&&(a.lastUpdate=(new Date).getTime()/1E3);for(var c in a){d=null;try{d=this.propertyToSchemaKey(c)}catch(w){g.error("Key does not have a matching Schema:"+c);g.error(w);continue}d=this.schemaForKey(d);B(d)||d.setter.apply(this,[a[c]])}};a.prototype.propertyToSchemaKey=function(a){if(!1===l(a))throw Error("Input property cannot be null");a=this.propertyToSchemaKeyMap[a];if(B(a))throw Error("Property does not have a mapping.");
return a};a.prototype.schemaForKey=function(a){throw Error("Super class should not be called directly for this method");};a.prototype.serializeNode=function(a,d){B(d)&&(d=!0);B(a)&&(a=!1);if(!d){this.encrypted&&this.decrypt();a={};for(var c in this.propertyToSchemaKeyMap)d=this.schemaForKey(this.propertyToSchemaKeyMap[c]),B(d)||(d=d.getter,d=d.apply(this),a[c]=d);return JSON.stringify(a)}this.encrypted||this.encrypt();c=new e;var h=c.getValues();c.setPath(this.getNodePath());for(var g=this.keys,k=
0;k<g.length;k++){var r=g[k],q=this.schemaForKey(r);d=q.getter;d=d.apply(this,["internal"]);if(!B(d)){var t=new f;t.setType(q.serializedType);t.setName(r);switch(q.serializedType){case b.TID_BINARY:t.setDataBinary(d);break;case b.TID_STRING:t.setDataString(d);break;case b.TID_UINT64:t.setDataUint64(d);break;default:continue}h.push(t)}}c.setValues(h);a&&c.setDeleted(!0);return c};a.prototype.clone=function(a){var d=this.serializeNode(!1,!1);d=JSON.parse(d);a=new a;a.initFromDictionary(d);return a};
a.prototype.encrypt=function(){if(!0!==this.encrypted){for(var a=SymO2.utils,d=IDSafe.vaultKeys,c=IDSafe.vaultUtils,h=this.keys,f=0;f<h.length;f++){var g=h[f],e=this.schemaForKey(g),k=e.deserializedType,q=e.serializedType,l=e.encrypted,m=e.obfuscated,p=e.setter;e=e.getter.apply(this,["internal"]);if(q!==k||!1!==l||!1!==m){var y=e;if(!B(e)){e=this.dataTypeIDToVaultSerializeType(k);if(!1===m&&!1===l){if(q===b.TID_BINARY&&k===b.TID_BOOL){var G=new Uint8Array(1);G[0]=!1===y?0:1;y=G}q===b.TID_BINARY&&
k===b.TID_STRING&&(k=a.stringUTF16LEToByteArray(y),y=new Uint8Array(k))}!0===m&&(y=c.dataToBufferWithSerializedType(y,e),y=c.obfuscateData(y,d.getObfuscationKey()),e=IDSafe.constants.SERIALIZE_DATA_TYPE.BINARY);!0===l&&(l=IDSafe.constants.DEFAULT_IDSC_PATH_CRC+this.getNodePath(),y=c.createEnvelopeAndEncryptData(d.getEncryptionKey(),y,e,l,g,!0));p.apply(this,[y,"internal"])}}}this.encrypted=!0}};a.prototype.decrypt=function(){if(!1!==this.encrypted){for(var a=SymO2.utils,d=IDSafe.vaultKeys,h=IDSafe.vaultUtils,
f=this.keys,e=0;e<f.length;e++){var k=f[e],l=this.schemaForKey(k),m=l.deserializedType,p=l.serializedType,x=l.encrypted,z=l.obfuscated,C=l.setter,y=l.getter.apply(this,["internal"]);if(p!==m||!1!==x||!1!==z)if(l=y,!B(y)){y=this.dataTypeIDToVaultSerializeType(m);!0===z&&(y=c.SERIALIZE_DATA_TYPE.BINARY);var G=IDSafe.constants.DEFAULT_IDSC_PATH_CRC+this.getNodePath();!0===x&&(l=h.decryptEnvelopeData(l,d.getEncryptionKey(),G,k,y));B(l)?(g.error("Unable to decrypt value at path:"+G+"  name:"+k),C.apply(this,
[null,"internal"])):(!0===z&&(l=h.obfuscateData(l,d.getObfuscationKey())),B(l)?(q.sendIDSCryptoError("Unable to obfuscate value at path: "+G+"  name: "+k,q.IDS_CRYPTO_ERROR_CONSTANTS.UNABLE_TO_OBFUSCATE_ITEM),C.apply(this,[null,"internal"])):p===b.TID_BINARY&&m===b.TID_BOOL?(m=l,m instanceof ArrayBuffer&&(m=new Uint8Array(m)),C.apply(this,[0===m.byteLength||0===m[0]?!1:!0,"internal"])):p===b.TID_BINARY&&m===b.TID_STRING?(m=0===l.byteLength?"":a.arrayBufferToStringUTF16LE(l),C.apply(this,[m,"internal"])):
p===b.TID_BINARY&&m===b.TID_BINARY&&C.apply(this,[l,"internal"]))}}this.encrypted=!1}};a.prototype.dataTypeIDToVaultSerializeType=function(a){if(B(a))throw Error("DeserializedType cannot be null");switch(a){case b.TID_BOOL:a=c.SERIALIZE_DATA_TYPE.BOOL;break;case b.TID_STRING:a=c.SERIALIZE_DATA_TYPE.STRING;break;case b.TID_UINT32:a=c.SERIALIZE_DATA_TYPE.UINT32;break;case b.TID_UINT64:a=c.SERIALIZE_DATA_TYPE.LONG;break;case b.TID_TIMESTAMP:a=c.SERIALIZE_DATA_TYPE.LONG;break;case b.TID_BINARY:a=c.SERIALIZE_DATA_TYPE.BINARY;
break;default:throw Error("Unknown deserializedType passed: "+a);}return a};a.prototype.verifyJSObjectWithDeserializedType=function(a,d){var c=!1;if(B(a))throw Error("DeserializedType cannot be null");if(B(d))throw Error("JSObject cannot be null");switch(a){case b.TID_BOOL:c=m(d);break;case b.TID_STRING:c=l(d);break;case b.TID_UINT32:c="number"===typeof d;break;case b.TID_UINT64:c=d instanceof h||"number"===typeof d;break;case b.TID_TIMESTAMP:c=d instanceof h||"number"===typeof d;break;case b.TID_BINARY:c=
d instanceof ArrayBuffer||d instanceof Uint8Array}return c};a.prototype.setNodeModified=function(a){this.nodeModified=a};a.prototype.getNodeModified=function(){return this.nodeModified};a.prototype.getDeobfuscatedStringProperty=function(a,b){if("internal"===b)return a;if(B(a))return null;a=IDSafe.vaultUtils.obfuscateData(a,IDSafe.vaultKeys.getObfuscationKey());return B(a)||0===a.byteLength?null:d.arrayBufferToStringUTF16LE(a)};a.prototype.setClearOrObfuscatedStringProperty=function(a,b,c){if(B(b))this[a]=
null;else if("internal"===c)this[a]=b;else{c=IDSafe.vaultKeys;var h=IDSafe.vaultUtils;b=d.stringUTF16LEToByteArray(b);b=new Uint8Array(b);this[a]=h.obfuscateData(b,c.getObfuscationKey())}};return a}()})(executionContext);
(function(e){e.IDSafe.ItemManager=function(){var a=function(a){this.name=a};a.prototype.getName=function(a){return this.name};a.prototype.addItem=function(a,f){};a.prototype.search=function(a,f){};a.prototype.uiSearch=function(a,f){};a.prototype.getItem=function(a){};a.prototype.getItems=function(){};a.prototype.updateItem=function(a,f){};a.prototype.postSyncSetup=function(){};a.prototype.deleteItem=function(a,f){};a.prototype.deleteItems=function(a){};return a}()})(executionContext);
(function(e){e.IDSafe.Login=function(a,e,f){var c=f.Item,b=f.constants,g=e.proto.com.symantec.oxygen.datastore.v2.messages.Value.DataTypeID,k=a.logger,p=a.utils.isNil,l=e.utils,m=[b.DEFAULT_NODE_ID,b.DEFAULT_LASTUPDATE,b.DEFAULT_FAVORITE,b.DEFAULT_USERNAME,b.DEFAULT_PASSWORD,b.DEFAULT_LOGIN_NOTES,b.DEFAULT_LOGIN_URL,b.DEFAULT_SECURE,b.DEFAULT_FAV_ICON_URL,b.DEFAULT_SITE_NAME,b.DEFAULT_SIGN_ON_DESTINATION,b.DEFAULT_CRED_0,b.DEFAULT_CRED_1,b.DEFAULT_CRED_2,b.DEFAULT_FOLDER,b.DEFAULT_AUTO_FILL,b.DEFAULT_AUTO_SUBMIT,
b.DEFAULT_PROMINENT_COLOR],d={path:b.DEFAULT_NODE_ID,lastUpdate:b.DEFAULT_LASTUPDATE,username:b.DEFAULT_USERNAME,password:b.DEFAULT_PASSWORD,favorite:b.DEFAULT_FAVORITE,autoFill:b.DEFAULT_AUTO_FILL,siteName:b.DEFAULT_SITE_NAME,autoSubmit:b.DEFAULT_AUTO_SUBMIT,favIconURL:b.DEFAULT_FAV_ICON_URL,secure:b.DEFAULT_SECURE,loginURL:b.DEFAULT_LOGIN_URL,notes:b.DEFAULT_LOGIN_NOTES};a=function(){c.call(this);this.encrypted=!0;this.propertyToSchemaKeyMap=d;this.keys=m};a.prototype=Object.create(c.prototype);
a.prototype.schemaForKey=function(a){switch(a){case b.DEFAULT_NODE_ID:return{encrypted:!1,obfuscated:!1,serializedType:g.TID_STRING,deserializedType:g.TID_STRING,setter:this.setPath,getter:this.getPath};case b.DEFAULT_LASTUPDATE:return{encrypted:!1,obfuscated:!1,serializedType:g.TID_UINT64,deserializedType:g.TID_UINT64,setter:this.setLastUpdate,getter:this.getLastUpdate};case b.DEFAULT_FAVORITE:return{encrypted:!1,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_BOOL,setter:this.setFavorite,
getter:this.getFavorite};case b.DEFAULT_USERNAME:return{encrypted:!0,obfuscated:!0,serializedType:g.TID_BINARY,deserializedType:g.TID_STRING,setter:this.setUsername,getter:this.getUsername};case b.DEFAULT_PASSWORD:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_BINARY,setter:this.setPassword,getter:this.getPassword};case b.DEFAULT_LOGIN_NOTES:return{encrypted:!0,obfuscated:!0,serializedType:g.TID_BINARY,deserializedType:g.TID_STRING,setter:this.setNotes,getter:this.getNotes};
case b.DEFAULT_LOGIN_URL:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_STRING,setter:this.setLoginURL,getter:this.getLoginURL};case b.DEFAULT_SECURE:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_BOOL,setter:this.setSecure,getter:this.getSecure};case b.DEFAULT_FAV_ICON_URL:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_STRING,setter:this.setFavIconURL,getter:this.getFavIconURL};case b.DEFAULT_SITE_NAME:return{encrypted:!0,
obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_STRING,setter:this.setSiteName,getter:this.getSiteName};case b.DEFAULT_SIGN_ON_DESTINATION:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_STRING,setter:this.setSignOnDestination,getter:this.getSignOnDestination};case b.DEFAULT_CRED_0:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_STRING,setter:this.setCred0,getter:this.getCred0};case b.DEFAULT_CRED_1:return{encrypted:!0,
obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_STRING,setter:this.setCred1,getter:this.getCred1};case b.DEFAULT_CRED_2:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_STRING,setter:this.setCred2,getter:this.getCred2};case b.DEFAULT_FOLDER:return{encrypted:!1,obfuscated:!1,serializedType:g.TID_STRING,deserializedType:g.TID_STRING,setter:this.setDefaultFolder,getter:this.getDefaultFolder};case b.DEFAULT_AUTO_FILL:return{encrypted:!1,obfuscated:!1,
serializedType:g.TID_BINARY,deserializedType:g.TID_BOOL,setter:this.setAutoFill,getter:this.getAutoFill};case b.DEFAULT_AUTO_SUBMIT:return{encrypted:!1,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_BOOL,setter:this.setAutoSubmit,getter:this.getAutoSubmit};case b.DEFAULT_PROMINENT_COLOR:return{encrypted:!1,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_BINARY,setter:this.setProminentColor,getter:this.getProminentColor};default:k.error("Invalid data value: "+a)}return null};
a.prototype.clone=function(){return c.prototype.clone.call(this,f.Login)};a.prototype.getPath=function(){return this.path};a.prototype.getNodePath=function(){return b.DEFAULT_LOGIN_NODE+"/"+this.getPath()};a.prototype.setPath=function(a){this.path=a};a.prototype.getLastUpdate=function(){p(this.lastUpdate)&&(this.lastUpdate=(new Date).getTime());return this.lastUpdate};a.prototype.setLastUpdate=function(a){this.lastUpdate=a};a.prototype.getFavorite=function(){return this.favorite};a.prototype.setFavorite=
function(a){this.favorite=a};a.prototype.getUsername=function(a){return"internal"===a?this.username:this.username||""};a.prototype.setUsername=function(a){this.username=a};a.prototype.getPassword=function(a){if("internal"===a)return this.password;if(p(this.password))return null;a=f.vaultUtils.obfuscateData(this.password,f.vaultKeys.getObfuscationKey());return p(a)||0===a.byteLength?null:l.arrayBufferToStringUTF16LE(a)};a.prototype.setPassword=function(a,d){if(p(a))this.password=null;else if("internal"===
d)this.password=a;else{d=f.vaultKeys;var b=f.vaultUtils;a=l.stringUTF16LEToByteArray(a);a=new Uint8Array(a);this.password=b.obfuscateData(a,d.getObfuscationKey())}};a.prototype.getNotes=function(){return this.notes};a.prototype.setNotes=function(a){this.notes=a};a.prototype.getLoginURL=function(a){return"internal"===a?this.loginURL:this.loginURL||""};a.prototype.setLoginURL=function(a){this.loginURL=a};a.prototype.getSecure=function(){return this.secure};a.prototype.setSecure=function(a){this.secure=
a};a.prototype.getFavIconURL=function(a){return this.favIconURL};a.prototype.setFavIconURL=function(a){this.favIconURL=a};a.prototype.getSiteName=function(a){return"internal"===a?this.siteName:this.siteName||""};a.prototype.setSiteName=function(a){this.siteName=a};a.prototype.getSignOnDestination=function(){return this.signOnDestination};a.prototype.setSignOnDestination=function(a){this.signOnDestination=a};a.prototype.getCred0=function(){return this.cred0};a.prototype.setCred0=function(a){this.cred0=
a};a.prototype.getCred1=function(){return this.cred1};a.prototype.setCred1=function(a){this.cred1=a};a.prototype.getCred2=function(){return this.cred2};a.prototype.setCred2=function(a){this.cred2=a};a.prototype.getDefaultFolder=function(){return this.defaultFolder};a.prototype.setDefaultFolder=function(a){this.defaultFolder=a};a.prototype.getAutoSubmit=function(){return this.autoSubmit};a.prototype.setAutoSubmit=function(a){this.autoSubmit=a};a.prototype.getAutoFill=function(){return this.autoFill};
a.prototype.setAutoFill=function(a){this.autoFill=a};a.prototype.getProminentColor=function(){return this.prominentColor};a.prototype.setProminentColor=function(a){this.prominentColor=a};return a}(e.SymBfw,e.SymO2,e.IDSafe)})(executionContext);
(function(e){e.IDSafe.CreditCard=function(a,e,f){var c=f.Item,b=f.constants,g=e.proto.com.symantec.oxygen.datastore.v2.messages.Value.DataTypeID,k=a.logger,p=a.utils.isNil,l=[b.DEFAULT_NODE_ID,b.DEFAULT_LASTUPDATE,b.DEFAULT_FAVORITE,b.CREDIT_CARDS.CARD_TYPE,b.CREDIT_CARDS.CARD_NUMBER,b.CREDIT_CARDS.NAME_ON_CARD,b.CREDIT_CARDS.EXPIRATION_MONTH,b.CREDIT_CARDS.EXPIRATION_YEAR,b.CREDIT_CARDS.START_DAY,b.CREDIT_CARDS.START_MONTH,b.CREDIT_CARDS.START_YEAR,b.CREDIT_CARDS.ISSUE_NUMBER,b.CREDIT_CARDS.SECURE,
b.CREDIT_CARDS.CARD_NAME,b.CREDIT_CARDS.COUNTRY_REGION,b.CREDIT_CARDS.IDENTITY_CARD,b.CREDIT_CARDS.CARD_COMMENTS],m={path:b.DEFAULT_NODE_ID,lastUpdate:b.DEFAULT_LASTUPDATE,countryRegion:b.CREDIT_CARDS.COUNTRY_REGION,cardName:b.CREDIT_CARDS.CARD_NAME,secure:b.CREDIT_CARDS.SECURE,cardType:b.CREDIT_CARDS.CARD_TYPE,identityCard:b.CREDIT_CARDS.IDENTITY_CARD,cardNumber:b.CREDIT_CARDS.CARD_NUMBER,nameOnCard:b.CREDIT_CARDS.NAME_ON_CARD,expMonth:b.CREDIT_CARDS.EXPIRATION_MONTH,expYear:b.CREDIT_CARDS.EXPIRATION_YEAR,
startDay:b.CREDIT_CARDS.START_DAY,startYear:b.CREDIT_CARDS.START_YEAR,issueNumber:b.CREDIT_CARDS.ISSUE_NUMBER,cardComments:b.CREDIT_CARDS.CARD_COMMENTS,favorite:b.DEFAULT_FAVORITE};a=function(){c.call(this);this.encrypted=!0;this.propertyToSchemaKeyMap=m;this.keys=l};a.prototype=Object.create(c.prototype);a.prototype.schemaForKey=function(a){switch(a){case b.DEFAULT_NODE_ID:return{encrypted:!1,obfuscated:!1,serializedType:g.TID_STRING,deserializedType:g.TID_STRING,setter:this.setPath,getter:this.getPath};
case b.DEFAULT_LASTUPDATE:return{encrypted:!1,obfuscated:!1,serializedType:g.TID_UINT64,deserializedType:g.TID_UINT64,setter:this.setLastUpdate,getter:this.getLastUpdate};case b.DEFAULT_FAVORITE:return{encrypted:!1,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_BOOL,setter:this.setFavorite,getter:this.getFavorite};case b.CREDIT_CARDS.CARD_TYPE:return{encrypted:!0,obfuscated:!0,serializedType:g.TID_BINARY,deserializedType:g.TID_STRING,setter:this.setCardType,getter:this.getCardType};
case b.CREDIT_CARDS.CARD_NUMBER:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_BINARY,setter:this.setCardNumber,getter:this.getCardNumber};case b.CREDIT_CARDS.NAME_ON_CARD:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_BINARY,setter:this.setNameOnCard,getter:this.getNameOnCard};case b.CREDIT_CARDS.EXPIRATION_MONTH:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_BINARY,setter:this.setExpMonth,
getter:this.getExpMonth};case b.CREDIT_CARDS.EXPIRATION_YEAR:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_BINARY,setter:this.setExpYear,getter:this.getExpYear};case b.CREDIT_CARDS.START_DAY:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_BINARY,setter:this.setStartDay,getter:this.getStartDay};case b.CREDIT_CARDS.START_MONTH:return{encrypted:!0,obfuscated:!0,serializedType:g.TID_BINARY,deserializedType:g.TID_STRING,setter:this.setStartMonth,
getter:this.getStartMonth};case b.CREDIT_CARDS.START_YEAR:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_BINARY,setter:this.setStartYear,getter:this.getStartYear};case b.CREDIT_CARDS.ISSUE_NUMBER:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_BINARY,setter:this.setIssueNumber,getter:this.getIssueNumber};case b.CREDIT_CARDS.SECURE:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_BOOL,setter:this.setSecure,
getter:this.getSecure};case b.CREDIT_CARDS.CARD_NAME:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_STRING,setter:this.setCardName,getter:this.getCardName};case b.CREDIT_CARDS.COUNTRY_REGION:return{encrypted:!1,obfuscated:!1,serializedType:g.TID_STRING,deserializedType:g.TID_STRING,setter:this.setCountryRegion,getter:this.getCountryRegion};case b.CREDIT_CARDS.CARD_COMMENTS:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_BINARY,
setter:this.setCardComments,getter:this.getCardComments};case b.CREDIT_CARDS.IDENTITY_CARD:return{encrypted:!1,obfuscated:!1,serializedType:g.TID_STRING,deserializedType:g.TID_STRING,setter:this.setIdentityCard,getter:this.getIdentityCard};default:k.error("Invalid data value: "+a)}return null};a.prototype.getLastFourOnCard=function(){var a=this.getCardNumber();if(p(a))return"";var b=a.length;return 4<b?a.substring(b-4,b):a};a.prototype.setIdentityCard=function(a,b){this.identityCard=a};a.prototype.getIdentityCard=
function(a){return this.identityCard};a.prototype.setCardType=function(a,b){this.cardType=a};a.prototype.getCardType=function(a){return this.cardType};a.prototype.setCardNumber=function(a,b){c.prototype.setClearOrObfuscatedStringProperty.call(this,"cardNumber",a,b)};a.prototype.getCardNumber=function(a){return c.prototype.getDeobfuscatedStringProperty.call(this,this.cardNumber,a)};a.prototype.setNameOnCard=function(a,b){c.prototype.setClearOrObfuscatedStringProperty.call(this,"nameOnCard",a,b)};a.prototype.getNameOnCard=
function(a){return c.prototype.getDeobfuscatedStringProperty.call(this,this.nameOnCard,a)};a.prototype.setExpMonth=function(a,b){c.prototype.setClearOrObfuscatedStringProperty.call(this,"expMonth",a,b)};a.prototype.getExpMonth=function(a){return c.prototype.getDeobfuscatedStringProperty.call(this,this.expMonth,a)};a.prototype.setExpYear=function(a,b){c.prototype.setClearOrObfuscatedStringProperty.call(this,"expYear",a,b)};a.prototype.getExpYear=function(a){return c.prototype.getDeobfuscatedStringProperty.call(this,
this.expYear,a)};a.prototype.setStartDay=function(a,b){c.prototype.setClearOrObfuscatedStringProperty.call(this,"startDay",a,b)};a.prototype.getStartDay=function(a){return c.prototype.getDeobfuscatedStringProperty.call(this,this.startDay,a)};a.prototype.setStartMonth=function(a,b){c.prototype.setClearOrObfuscatedStringProperty.call(this,"startMonth",a,b)};a.prototype.getStartMonth=function(a){return c.prototype.getDeobfuscatedStringProperty.call(this,this.startMonth,a)};a.prototype.setStartYear=function(a,
b){c.prototype.setClearOrObfuscatedStringProperty.call(this,"startYear",a,b)};a.prototype.getStartYear=function(a){return c.prototype.getDeobfuscatedStringProperty.call(this,this.startYear,a)};a.prototype.setIssueNumber=function(a,b){c.prototype.setClearOrObfuscatedStringProperty.call(this,"issueNumber",a,b)};a.prototype.getIssueNumber=function(a){return c.prototype.getDeobfuscatedStringProperty.call(this,this.issueNumber,a)};a.prototype.setSecure=function(a,b){this.secure=a};a.prototype.getSecure=
function(a){return this.secure};a.prototype.setCardName=function(a,b){this.cardName=a};a.prototype.getCardName=function(a){return this.cardName};a.prototype.setCountryRegion=function(a,b){this.countryRegion=a};a.prototype.getCountryRegion=function(a){return this.countryRegion};a.prototype.setCardComments=function(a,b){c.prototype.setClearOrObfuscatedStringProperty.call(this,"cardComments",a,b)};a.prototype.getCardComments=function(a){return c.prototype.getDeobfuscatedStringProperty.call(this,this.cardComments,
a)};a.prototype.getFavorite=function(){return this.favorite};a.prototype.setFavorite=function(a){this.favorite=a};a.prototype.clone=function(){return c.prototype.clone.call(this,f.CreditCard)};a.prototype.getPath=function(){return this.path};a.prototype.getNodePath=function(){return b.DEFAULT_CREDIT_CARD_NODE+"/"+this.getPath()};a.prototype.setPath=function(a){this.path=a};a.prototype.getLastUpdate=function(){p(this.lastUpdate)&&(this.lastUpdate=(new Date).getTime());return this.lastUpdate};a.prototype.setLastUpdate=
function(a){this.lastUpdate=a};return a}(e.SymBfw,e.SymO2,e.IDSafe)})(executionContext);
(function(e){e.IDSafe.BankAccount=function(a,e,f){var c=f.Item,b=f.constants,g=e.proto.com.symantec.oxygen.datastore.v2.messages.Value.DataTypeID,k=a.logger,p=a.utils.isNil,l=[b.DEFAULT_NODE_ID,b.DEFAULT_LASTUPDATE,b.DEFAULT_FAVORITE,b.BANK_ACCOUNTS.OWNERNAME,b.BANK_ACCOUNTS.ROUTINGNUMBER,b.BANK_ACCOUNTS.ACCOUNTNUMBER,b.BANK_ACCOUNTS.ACCOUNTNAME,b.BANK_ACCOUNTS.SECURE,b.BANK_ACCOUNTS.BANKNAME],m={path:b.DEFAULT_NODE_ID,lastUpdate:b.DEFAULT_LASTUPDATE,accountName:b.BANK_ACCOUNTS.ACCOUNTNAME,secure:b.BANK_ACCOUNTS.SECURE,
ownerName:b.BANK_ACCOUNTS.OWNERNAME,routingNumber:b.BANK_ACCOUNTS.ROUTINGNUMBER,accountNumber:b.BANK_ACCOUNTS.ACCOUNTNUMBER,bankName:b.BANK_ACCOUNTS.BANKNAME,favorite:b.DEFAULT_FAVORITE};a=function(){c.call(this);this.encrypted=!0;this.propertyToSchemaKeyMap=m;this.keys=l};a.prototype=Object.create(c.prototype);a.prototype.schemaForKey=function(a){switch(a){case b.DEFAULT_NODE_ID:return{encrypted:!1,obfuscated:!1,serializedType:g.TID_STRING,deserializedType:g.TID_STRING,setter:this.setPath,getter:this.getPath};
case b.DEFAULT_LASTUPDATE:return{encrypted:!1,obfuscated:!1,serializedType:g.TID_UINT64,deserializedType:g.TID_UINT64,setter:this.setLastUpdate,getter:this.getLastUpdate};case b.DEFAULT_FAVORITE:return{encrypted:!1,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_BOOL,setter:this.setFavorite,getter:this.getFavorite};case b.BANK_ACCOUNTS.ACCOUNTNUMBER:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_BINARY,setter:this.setAccountNumber,getter:this.getAccountNumber};
case b.BANK_ACCOUNTS.ROUTINGNUMBER:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_BINARY,setter:this.setRoutingNumber,getter:this.getRoutingNumber};case b.BANK_ACCOUNTS.OWNERNAME:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_BINARY,setter:this.setOwnerName,getter:this.getOwnerName};case b.BANK_ACCOUNTS.ACCOUNTNAME:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_STRING,setter:this.setAccountName,
getter:this.getAccountName};case b.BANK_ACCOUNTS.BANKNAME:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_STRING,setter:this.setBankName,getter:this.getBankName};case b.BANK_ACCOUNTS.SECURE:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_BOOL,setter:this.setSecure,getter:this.getSecure};default:k.error("Invalid data value: "+a)}return null};a.prototype.setRoutingNumber=function(a,b){c.prototype.setClearOrObfuscatedStringProperty.call(this,
"routingNumber",a,b)};a.prototype.getRoutingNumber=function(a){return c.prototype.getDeobfuscatedStringProperty.call(this,this.routingNumber,a)};a.prototype.setAccountNumber=function(a,b){c.prototype.setClearOrObfuscatedStringProperty.call(this,"accountNumber",a,b)};a.prototype.getAccountNumber=function(a){return c.prototype.getDeobfuscatedStringProperty.call(this,this.accountNumber,a)};a.prototype.setOwnerName=function(a,b){c.prototype.setClearOrObfuscatedStringProperty.call(this,"ownerName",a,b)};
a.prototype.getOwnerName=function(a){return c.prototype.getDeobfuscatedStringProperty.call(this,this.ownerName,a)};a.prototype.setBankName=function(a,b){this.bankName=a};a.prototype.getBankName=function(a){return this.bankName};a.prototype.setAccountName=function(a,b){this.accountName=a};a.prototype.getAccountName=function(a){return this.accountName};a.prototype.setSecure=function(a,b){this.secure=a};a.prototype.getSecure=function(a){return this.secure};a.prototype.getFavorite=function(){return this.favorite};
a.prototype.setFavorite=function(a){this.favorite=a};a.prototype.clone=function(){return c.prototype.clone.call(this,f.BankAccount)};a.prototype.getPath=function(){return this.path};a.prototype.getNodePath=function(){return b.DEFAULT_BANK_ACCOUNT_NODE+"/"+this.getPath()};a.prototype.setPath=function(a){this.path=a};a.prototype.getLastUpdate=function(){p(this.lastUpdate)&&(this.lastUpdate=(new Date).getTime());return this.lastUpdate};a.prototype.getLastFourOnCard=function(){var a=this.getAccountNumber();
if(p(a))return"";var b=a.length;return 4<b?a.substring(b-4,b):a};a.prototype.setLastUpdate=function(a){this.lastUpdate=a};return a}(e.SymBfw,e.SymO2,e.IDSafe)})(executionContext);
(function(e){e.IDSafe.Identity=function(a,e,f){var c=f.Item,b=f.constants,g=e.proto.com.symantec.oxygen.datastore.v2.messages.Value.DataTypeID,k=a.logger,p=a.utils.isNil,l=[b.DEFAULT_NODE_ID,b.DEFAULT_LASTUPDATE,b.DEFAULT_FAVORITE,b.IDENTITY.SALUTATION,b.IDENTITY.FIRSTNAME,b.IDENTITY.MIDDLENAME,b.IDENTITY.LASTNAME,b.IDENTITY.LASTNAME2,b.IDENTITY.FIRSTNAME_ALPHABET,b.IDENTITY.LASTNAME_ALPHABET,b.IDENTITY.FIRSTNAME_ROMAN,b.IDENTITY.LASTNAME_ROMAN,b.IDENTITY.DOB_DAY,b.IDENTITY.DOB_MONTH,b.IDENTITY.DOB_YEAR,
b.IDENTITY.EMAIL,b.IDENTITY.PHONE_WORK,b.IDENTITY.PHONE_HOME,b.IDENTITY.PHONE_MOBILE,b.IDENTITY.PHONE_EXTENSION,b.IDENTITY.CARDNAME,b.IDENTITY.SECURE,b.IDENTITY.GENDER,b.IDENTITY.ADDRESS_GUID,b.IDENTITY.CREDITCARD_GUID,b.IDENTITY.COUNTRY_REGION],m={path:b.DEFAULT_NODE_ID,lastUpdate:b.DEFAULT_LASTUPDATE,favorite:b.DEFAULT_FAVORITE,salutation:b.IDENTITY.SALUTATION,firstName:b.IDENTITY.FIRSTNAME,middleName:b.IDENTITY.MIDDLENAME,lastName:b.IDENTITY.LASTNAME,lastName2:b.IDENTITY.LASTNAME2,firstNameAlphabet:b.IDENTITY.FIRSTNAME_ALPHABET,
lastNameAlphabet:b.IDENTITY.LASTNAME_ALPHABET,firstNameRoman:b.IDENTITY.FIRSTNAME_ROMAN,lastNameRoman:b.IDENTITY.LASTNAME_ROMAN,dobDay:b.IDENTITY.DOB_DAY,dobMonth:b.IDENTITY.DOB_MONTH,dobYear:b.IDENTITY.DOB_YEAR,email:b.IDENTITY.EMAIL,work:b.IDENTITY.PHONE_WORK,home:b.IDENTITY.PHONE_HOME,mobile:b.IDENTITY.PHONE_MOBILE,extension:b.IDENTITY.PHONE_EXTENSION,secure:b.IDENTITY.SECURE,gender:b.IDENTITY.GENDER,cardName:b.IDENTITY.CARDNAME,creditCardGuid:b.IDENTITY.CREDITCARD_GUID,addressGuid:b.IDENTITY.ADDRESS_GUID,
region:b.IDENTITY.COUNTRY_REGION};a=function(){c.call(this);this.encrypted=!0;this.propertyToSchemaKeyMap=m;this.keys=l};a.prototype=Object.create(c.prototype);a.prototype.schemaForKey=function(a){switch(a){case b.DEFAULT_NODE_ID:return{encrypted:!1,obfuscated:!1,serializedType:g.TID_STRING,deserializedType:g.TID_STRING,setter:this.setPath,getter:this.getPath};case b.DEFAULT_LASTUPDATE:return{encrypted:!1,obfuscated:!1,serializedType:g.TID_UINT64,deserializedType:g.TID_UINT64,setter:this.setLastUpdate,
getter:this.getLastUpdate};case b.DEFAULT_FAVORITE:return{encrypted:!1,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_BOOL,setter:this.setFavorite,getter:this.getFavorite};case b.IDENTITY.SALUTATION:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_BINARY,setter:this.setSalutation,getter:this.getSalutation};case b.IDENTITY.FIRSTNAME:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_BINARY,setter:this.setFirstName,
getter:this.getFirstName};case b.IDENTITY.MIDDLENAME:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_BINARY,setter:this.setMiddleName,getter:this.getMiddleName};case b.IDENTITY.LASTNAME:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_BINARY,setter:this.setLastName,getter:this.getLastName};case b.IDENTITY.LASTNAME2:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_BINARY,setter:this.setLastName2,
getter:this.getLastName2};case b.IDENTITY.FIRSTNAME_ALPHABET:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_BINARY,setter:this.setFirstNameAlphabet,getter:this.getFirstNameAlphabet};case b.IDENTITY.LASTNAME_ALPHABET:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_BINARY,setter:this.setLastNameAlphabet,getter:this.getLastNameAlphabet};case b.IDENTITY.FIRSTNAME_ROMAN:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,
deserializedType:g.TID_BINARY,setter:this.setFirstNameRoman,getter:this.getFirstNameRoman};case b.IDENTITY.LASTNAME_ROMAN:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_BINARY,setter:this.setLastNameRoman,getter:this.getLastNameRoman};case b.IDENTITY.DOB_DAY:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_BINARY,setter:this.setDobDay,getter:this.getDobDay};case b.IDENTITY.DOB_MONTH:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,
deserializedType:g.TID_BINARY,setter:this.setDobMonth,getter:this.getDobMonth};case b.IDENTITY.DOB_YEAR:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_BINARY,setter:this.setDobYear,getter:this.getDobYear};case b.IDENTITY.EMAIL:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_BINARY,setter:this.setEmail,getter:this.getEmail};case b.IDENTITY.PHONE_WORK:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_BINARY,
setter:this.setPhoneWork,getter:this.getPhoneWork};case b.IDENTITY.PHONE_HOME:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_BINARY,setter:this.setPhoneHome,getter:this.getPhoneHome};case b.IDENTITY.PHONE_MOBILE:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_BINARY,setter:this.setMobile,getter:this.getMobile};case b.IDENTITY.PHONE_EXTENSION:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_BINARY,
setter:this.setPhoneExtension,getter:this.getPhoneExtension};case b.IDENTITY.CARDNAME:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_STRING,setter:this.setCardName,getter:this.getCardName};case b.IDENTITY.SECURE:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_BOOL,setter:this.setSecure,getter:this.getSecure};case b.IDENTITY.GENDER:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_BOOL,setter:this.setGender,
getter:this.getGender};case b.IDENTITY.CREDITCARD_GUID:return{encrypted:!1,obfuscated:!1,serializedType:g.TID_STRING,deserializedType:g.TID_STRING,setter:this.setCreditCardGuid,getter:this.getCreditCardGuid};case b.IDENTITY.ADDRESS_GUID:return{encrypted:!1,obfuscated:!1,serializedType:g.TID_STRING,deserializedType:g.TID_STRING,setter:this.setAddressGuid,getter:this.getAddressGuid};case b.IDENTITY.COUNTRY_REGION:return{encrypted:!1,obfuscated:!1,serializedType:g.TID_STRING,deserializedType:g.TID_STRING,
setter:this.setRegion,getter:this.getRegion};default:k.error("Invalid data value: "+a)}return null};a.prototype.clone=function(){return c.prototype.clone.call(this,f.Identity)};a.prototype.getPath=function(){return this.path};a.prototype.getNodePath=function(){return b.DEFAULT_IDENTITY_NODE+"/"+this.getPath()};a.prototype.setPath=function(a){this.path=a};a.prototype.getLastUpdate=function(){p(this.lastUpdate)&&(this.lastUpdate=(new Date).getTime());return this.lastUpdate};a.prototype.setLastUpdate=
function(a){this.lastUpdate=a};a.prototype.getFavorite=function(){return this.favorite};a.prototype.setFavorite=function(a){this.favorite=a};a.prototype.getSalutation=function(a){return c.prototype.getDeobfuscatedStringProperty.call(this,this.salutation,a)};a.prototype.setSalutation=function(a,b){c.prototype.setClearOrObfuscatedStringProperty.call(this,"salutation",a,b)};a.prototype.getFirstName=function(a){return c.prototype.getDeobfuscatedStringProperty.call(this,this.firstName,a)};a.prototype.setFirstName=
function(a,b){c.prototype.setClearOrObfuscatedStringProperty.call(this,"firstName",a,b)};a.prototype.getMiddleName=function(a){return c.prototype.getDeobfuscatedStringProperty.call(this,this.middleName,a)};a.prototype.setMiddleName=function(a,b){c.prototype.setClearOrObfuscatedStringProperty.call(this,"middleName",a,b)};a.prototype.getLastName=function(a){return c.prototype.getDeobfuscatedStringProperty.call(this,this.lastName,a)};a.prototype.setLastName=function(a,b){c.prototype.setClearOrObfuscatedStringProperty.call(this,
"lastName",a,b)};a.prototype.getLastName2=function(a){return c.prototype.getDeobfuscatedStringProperty.call(this,this.lastName2,a)};a.prototype.setLastName2=function(a,b){c.prototype.setClearOrObfuscatedStringProperty.call(this,"lastName2",a,b)};a.prototype.getFirstNameAlphabet=function(a){return c.prototype.getDeobfuscatedStringProperty.call(this,this.firstNameAlphabet,a)};a.prototype.setFirstNameAlphabet=function(a,b){c.prototype.setClearOrObfuscatedStringProperty.call(this,"firstNameAlphabet",
a,b)};a.prototype.getLastNameAlphabet=function(a){return c.prototype.getDeobfuscatedStringProperty.call(this,this.lastNameAlphabet,a)};a.prototype.setLastNameAlphabet=function(a,b){c.prototype.setClearOrObfuscatedStringProperty.call(this,"lastNameAlphabet",a,b)};a.prototype.getFirstNameRoman=function(a){return c.prototype.getDeobfuscatedStringProperty.call(this,this.firstNameRoman,a)};a.prototype.setFirstNameRoman=function(a,b){c.prototype.setClearOrObfuscatedStringProperty.call(this,"firstNameRoman",
a,b)};a.prototype.getLastNameRoman=function(a){return c.prototype.getDeobfuscatedStringProperty.call(this,this.lastNameRoman,a)};a.prototype.setLastNameRoman=function(a,b){c.prototype.setClearOrObfuscatedStringProperty.call(this,"lastNameRoman",a,b)};a.prototype.getDobDay=function(a){return c.prototype.getDeobfuscatedStringProperty.call(this,this.dobDay,a)};a.prototype.setDobDay=function(a,b){c.prototype.setClearOrObfuscatedStringProperty.call(this,"dobDay",a,b)};a.prototype.getDobMonth=function(a){return c.prototype.getDeobfuscatedStringProperty.call(this,
this.dobMonth,a)};a.prototype.setDobMonth=function(a,b){c.prototype.setClearOrObfuscatedStringProperty.call(this,"dobMonth",a,b)};a.prototype.getDobYear=function(a){return c.prototype.getDeobfuscatedStringProperty.call(this,this.dobYear,a)};a.prototype.setDobYear=function(a,b){c.prototype.setClearOrObfuscatedStringProperty.call(this,"dobYear",a,b)};a.prototype.getEmail=function(a){return c.prototype.getDeobfuscatedStringProperty.call(this,this.email,a)};a.prototype.setEmail=function(a,b){c.prototype.setClearOrObfuscatedStringProperty.call(this,
"email",a,b)};a.prototype.getPhoneWork=function(a){return c.prototype.getDeobfuscatedStringProperty.call(this,this.work,a)};a.prototype.setPhoneWork=function(a,b){c.prototype.setClearOrObfuscatedStringProperty.call(this,"work",a,b)};a.prototype.getPhoneHome=function(a){return c.prototype.getDeobfuscatedStringProperty.call(this,this.home,a)};a.prototype.setPhoneHome=function(a,b){c.prototype.setClearOrObfuscatedStringProperty.call(this,"home",a,b)};a.prototype.getMobile=function(a){return c.prototype.getDeobfuscatedStringProperty.call(this,
this.mobile,a)};a.prototype.setMobile=function(a,b){c.prototype.setClearOrObfuscatedStringProperty.call(this,"mobile",a,b)};a.prototype.getPhoneExtension=function(a){return c.prototype.getDeobfuscatedStringProperty.call(this,this.extension,a)};a.prototype.setPhoneExtension=function(a,b){c.prototype.setClearOrObfuscatedStringProperty.call(this,"extension",a,b)};a.prototype.getCardName=function(){return this.cardName};a.prototype.setCardName=function(a){this.cardName=a};a.prototype.getSecure=function(){return this.secure};
a.prototype.setSecure=function(a){this.secure=a};a.prototype.getGender=function(a){return this.gender};a.prototype.setGender=function(a,b){this.gender=a};a.prototype.getCreditCardGuid=function(){return this.creditCardGuid};a.prototype.setCreditCardGuid=function(a){this.creditCardGuid=a};a.prototype.getAddressGuid=function(a){return this.addressGuid};a.prototype.setAddressGuid=function(a){this.addressGuid=a};a.prototype.getRegion=function(a){return"internal"===a?this.region:p(this.region)?"":this.region.toLowerCase()};
a.prototype.setRegion=function(a){this.region=a};return a}(e.SymBfw,e.SymO2,e.IDSafe)})(executionContext);
(function(e){e.IDSafe.Address=function(a,e,f){var c=f.Item,b=f.constants,g=e.proto.com.symantec.oxygen.datastore.v2.messages.Value.DataTypeID,k=a.logger,p=a.utils.isNil,l=[b.DEFAULT_NODE_ID,b.DEFAULT_LASTUPDATE,b.DEFAULT_FAVORITE,b.ADDRESS.ADDR_CITY,b.ADDRESS.ADDR_POSTAL,b.ADDRESS.ADDR_STATE,b.ADDRESS.ADDR_STREET,b.ADDRESS.ADDR_STREET2,b.ADDRESS.ADDR_STREET3,b.ADDRESS.APTSTREETHOUSENUM,b.ADDRESS.ADDR_CITY_ALPHABET,b.ADDRESS.ADDR_STREET_ALPHABET,b.ADDRESS.ADDR_STREET2_ALPHABET,b.ADDRESS.ADDRESSNAME,
b.ADDRESS.SECURE,b.ADDRESS.COUNTRY_REGION],m={path:b.DEFAULT_NODE_ID,lastUpdate:b.DEFAULT_LASTUPDATE,favorite:b.DEFAULT_FAVORITE,city:b.ADDRESS.ADDR_CITY,postal:b.ADDRESS.ADDR_POSTAL,state:b.ADDRESS.ADDR_STATE,street:b.ADDRESS.ADDR_STREET,street2:b.ADDRESS.ADDR_STREET2,street3:b.ADDRESS.ADDR_STREET3,apt:b.ADDRESS.APTSTREETHOUSENUM,cityAlphabet:b.ADDRESS.ADDR_CITY_ALPHABET,streetAlphabet:b.ADDRESS.ADDR_STREET_ALPHABET,street2Alphabet:b.ADDRESS.ADDR_STREET2_ALPHABET,addressName:b.ADDRESS.ADDRESSNAME,
secure:b.ADDRESS.SECURE,region:b.ADDRESS.COUNTRY_REGION};a=function(){c.call(this);this.encrypted=!0;this.propertyToSchemaKeyMap=m;this.keys=l};a.prototype=Object.create(c.prototype);a.prototype.schemaForKey=function(a){switch(a){case b.DEFAULT_NODE_ID:return{encrypted:!1,obfuscated:!1,serializedType:g.TID_STRING,deserializedType:g.TID_STRING,setter:this.setPath,getter:this.getPath};case b.DEFAULT_LASTUPDATE:return{encrypted:!1,obfuscated:!1,serializedType:g.TID_UINT64,deserializedType:g.TID_UINT64,
setter:this.setLastUpdate,getter:this.getLastUpdate};case b.DEFAULT_FAVORITE:return{encrypted:!1,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_BOOL,setter:this.setFavorite,getter:this.getFavorite};case b.ADDRESS.ADDR_CITY:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_BINARY,setter:this.setCity,getter:this.getCity};case b.ADDRESS.ADDR_POSTAL:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_BINARY,setter:this.setPostal,
getter:this.getPostal};case b.ADDRESS.ADDR_STATE:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_BINARY,setter:this.setState,getter:this.getState};case b.ADDRESS.ADDR_STREET:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_BINARY,setter:this.setStreet,getter:this.getStreet};case b.ADDRESS.ADDR_STREET2:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_BINARY,setter:this.setStreet2,getter:this.getStreet2};
case b.ADDRESS.ADDR_STREET3:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_BINARY,setter:this.setStreet3,getter:this.getStreet3};case b.ADDRESS.ADDR_CITY_ALPHABET:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_BINARY,setter:this.setCityAlphabet,getter:this.getCityAlphabet};case b.ADDRESS.ADDR_STREET_ALPHABET:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_BINARY,setter:this.setStreetAlphabet,
getter:this.getStreetAlphabet};case b.ADDRESS.ADDR_STREET2_ALPHABET:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_BINARY,setter:this.setStreet2Alphabet,getter:this.getStreet2Alphabet};case b.ADDRESS.APTSTREETHOUSENUM:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_BINARY,setter:this.setApt,getter:this.getApt};case b.ADDRESS.ADDRESSNAME:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_STRING,
setter:this.setAddressName,getter:this.getAddressName};case b.ADDRESS.SECURE:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_BOOL,setter:this.setSecure,getter:this.getSecure};case b.ADDRESS.COUNTRY_REGION:return{encrypted:!1,obfuscated:!1,serializedType:g.TID_STRING,deserializedType:g.TID_STRING,setter:this.setRegion,getter:this.getRegion};default:k.error("Invalid data value: "+a)}return null};a.prototype.clone=function(){return c.prototype.clone.call(this,f.Address)};
a.prototype.getPath=function(){return this.path};a.prototype.getNodePath=function(){return b.DEFAULT_ADDRESS_NODE+"/"+this.getPath()};a.prototype.setPath=function(a){this.path=a};a.prototype.getLastUpdate=function(){p(this.lastUpdate)&&(this.lastUpdate=(new Date).getTime());return this.lastUpdate};a.prototype.setLastUpdate=function(a){this.lastUpdate=a};a.prototype.getFavorite=function(){return this.favorite};a.prototype.setFavorite=function(a){this.favorite=a};a.prototype.getCity=function(a){return c.prototype.getDeobfuscatedStringProperty.call(this,
this.city,a)};a.prototype.setCity=function(a,b){c.prototype.setClearOrObfuscatedStringProperty.call(this,"city",a,b)};a.prototype.getPostal=function(a){return c.prototype.getDeobfuscatedStringProperty.call(this,this.postal,a)};a.prototype.setPostal=function(a,b){c.prototype.setClearOrObfuscatedStringProperty.call(this,"postal",a,b)};a.prototype.getState=function(a){return c.prototype.getDeobfuscatedStringProperty.call(this,this.state,a)};a.prototype.setState=function(a,b){c.prototype.setClearOrObfuscatedStringProperty.call(this,
"state",a,b)};a.prototype.getStreet=function(a){return c.prototype.getDeobfuscatedStringProperty.call(this,this.street,a)};a.prototype.setStreet=function(a,b){c.prototype.setClearOrObfuscatedStringProperty.call(this,"street",a,b)};a.prototype.getStreet2=function(a){return c.prototype.getDeobfuscatedStringProperty.call(this,this.street2,a)};a.prototype.setStreet2=function(a,b){c.prototype.setClearOrObfuscatedStringProperty.call(this,"street2",a,b)};a.prototype.getStreet3=function(a){return c.prototype.getDeobfuscatedStringProperty.call(this,
this.street3,a)};a.prototype.setStreet3=function(a,b){c.prototype.setClearOrObfuscatedStringProperty.call(this,"street3",a,b)};a.prototype.getSecure=function(){return this.secure};a.prototype.setSecure=function(a){this.secure=a};a.prototype.getApt=function(a){return c.prototype.getDeobfuscatedStringProperty.call(this,this.apt,a)};a.prototype.setApt=function(a,b){c.prototype.setClearOrObfuscatedStringProperty.call(this,"apt",a,b)};a.prototype.getCityAlphabet=function(a){return c.prototype.getDeobfuscatedStringProperty.call(this,
this.cityAlphabet,a)};a.prototype.setCityAlphabet=function(a,b){c.prototype.setClearOrObfuscatedStringProperty.call(this,"cityAlphabet",a,b)};a.prototype.getStreetAlphabet=function(a){return c.prototype.getDeobfuscatedStringProperty.call(this,this.streetAlphabet,a)};a.prototype.setStreetAlphabet=function(a,b){c.prototype.setClearOrObfuscatedStringProperty.call(this,"streetAlphabet",a,b)};a.prototype.getStreet2Alphabet=function(a){return c.prototype.getDeobfuscatedStringProperty.call(this,this.street2Alphabet,
a)};a.prototype.setStreet2Alphabet=function(a,b){c.prototype.setClearOrObfuscatedStringProperty.call(this,"street2Alphabet",a,b)};a.prototype.getAddressName=function(){return this.addressName};a.prototype.setAddressName=function(a){this.addressName=a};a.prototype.getRegion=function(a){return"internal"===a?this.region:p(this.region)?"":this.region.toLowerCase()};a.prototype.setRegion=function(a){this.region=a};return a}(e.SymBfw,e.SymO2,e.IDSafe)})(executionContext);
(function(e){e.IDSafe.Note=function(a,e,f){var c=f.Item,b=f.constants,g=e.proto.com.symantec.oxygen.datastore.v2.messages.Value.DataTypeID,k=a.logger,p=a.utils.isNil,l=[b.DEFAULT_NODE_ID,b.DEFAULT_LASTUPDATE,b.DEFAULT_FAVORITE,b.NOTE.TITLE,b.NOTE.INFORMATION,b.NOTE.SECURE],m={path:b.DEFAULT_NODE_ID,lastUpdate:b.DEFAULT_LASTUPDATE,favorite:b.DEFAULT_FAVORITE,title:b.NOTE.TITLE,information:b.NOTE.INFORMATION,secure:b.NOTE.SECURE};a=function(){c.call(this);this.encrypted=!0;this.propertyToSchemaKeyMap=
m;this.keys=l};a.prototype=Object.create(c.prototype);a.prototype.schemaForKey=function(a){switch(a){case b.DEFAULT_NODE_ID:return{encrypted:!1,obfuscated:!1,serializedType:g.TID_STRING,deserializedType:g.TID_STRING,setter:this.setPath,getter:this.getPath};case b.DEFAULT_LASTUPDATE:return{encrypted:!1,obfuscated:!1,serializedType:g.TID_UINT64,deserializedType:g.TID_UINT64,setter:this.setLastUpdate,getter:this.getLastUpdate};case b.DEFAULT_FAVORITE:return{encrypted:!1,obfuscated:!1,serializedType:g.TID_BINARY,
deserializedType:g.TID_BOOL,setter:this.setFavorite,getter:this.getFavorite};case b.NOTE.TITLE:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_BINARY,setter:this.setTitle,getter:this.getTitle};case b.NOTE.INFORMATION:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_BINARY,setter:this.setInformation,getter:this.getInformation};case b.NOTE.SECURE:return{encrypted:!0,obfuscated:!1,serializedType:g.TID_BINARY,deserializedType:g.TID_BOOL,
setter:this.setSecure,getter:this.getSecure};default:k.error("Invalid data value: "+a)}return null};a.prototype.clone=function(){return c.prototype.clone.call(this,f.Note)};a.prototype.getPath=function(){return this.path};a.prototype.getNodePath=function(){return b.DEFAULT_NOTE_NODE+"/"+this.getPath()};a.prototype.setPath=function(a){this.path=a};a.prototype.getLastUpdate=function(){p(this.lastUpdate)&&(this.lastUpdate=(new Date).getTime());return this.lastUpdate};a.prototype.setLastUpdate=function(a){this.lastUpdate=
a};a.prototype.getFavorite=function(){return this.favorite};a.prototype.setFavorite=function(a){this.favorite=a};a.prototype.getTitle=function(a){return c.prototype.getDeobfuscatedStringProperty.call(this,this.title,a)};a.prototype.setTitle=function(a,b){c.prototype.setClearOrObfuscatedStringProperty.call(this,"title",a,b)};a.prototype.getInformation=function(a){return c.prototype.getDeobfuscatedStringProperty.call(this,this.information,a)};a.prototype.setInformation=function(a,b){c.prototype.setClearOrObfuscatedStringProperty.call(this,
"information",a,b)};a.prototype.getSecure=function(){return this.secure};a.prototype.setSecure=function(a){this.secure=a};return a}(e.SymBfw,e.SymO2,e.IDSafe)})(executionContext);
(function(e){e.IDSafe.idsLoginSearchManager=function(a,e,f){var c={},b=a.logger,g=a.utils.urlProtocol,k=a.utils.getUrlTLD,p=a.utils.getCompanyDomain,l=a.utils.isNil,m=a.utils.isntNil,d=f.constants;c._httpMap=new Map;c._httpsMap=new Map;c.clearMaps=function(){this._httpMap.clear();this._httpsMap.clear()};c._getProtocolMap=function(a){switch(a){case d.HTTP_PROTOCOL:case null:var b=this._httpMap;break;case d.HTTPS_PROTOCOL:b=this._httpsMap}return b};c._getSubmapForKey=function(a,b){var d=a.get(b);l(d)&&
(d=new Map,a.set(b,d));return d};c._addLoginIntoMap=function(a,d){a=a.getPath();m(d.get(a))?b.error("Item to be added exists in the map"):d.set(a,!0)};c.addItemToMap=function(a){if(l(a))throw Error("addItemToMap did not get the right parameters");var b=a.getLoginURL(),d=c._getProtocolMap(g(b));if(!l(d)){var f=k(b);b=p(b);l(f)&&l(b)||(l(f)?(d=c._getSubmapForKey(d,b),c._addLoginIntoMap(a,d)):(d=c._getSubmapForKey(d,f),d=c._getSubmapForKey(d,b),c._addLoginIntoMap(a,d)))}};c.removeItemFromMap=function(a){if(l(a))throw Error("removeItemFromMap did not get the right parameters");
var d=a.getLoginURL();a=a.getPath();var f=c._getProtocolMap(g(d));if(!l(f)){var h=k(d);d=p(d);if(f.has(h)){var e=f.get(h);if(e.has(d)){var m=e.get(d);m.has(a)?(m.delete(a),0===m.size&&(e.delete(d),0===e.size&&f.delete(h))):b.info("Item not found")}else b.info("Item not found")}else b.info("Item not found")}};c.rawSearch=function(a){var d=k(a),f=p(a);if(l(d)||l(f))return b.info("Item not found"),null;a=c._getProtocolMap(g(a));if(l(a))return null;if(!a.has(d))return b.info("Item not found"),null;d=
a.get(d);return d.has(f)?d.get(f):(b.info("Item not found"),null)};return c}(e.SymBfw,e.SymO2,e.IDSafe)})(executionContext);
(function(e){e.IDSafe.LoginManager=function(a,e,f){var c=f.ItemManager,b=a.utils.isNil,g=a.utils.isntNil,k=a.utils.isString,p=a.utils.isEmptyObject,l=a.utils.isArray,m=a.logger,d=a.utils.isSuccessCode,h=a.utils.isFunction,q=a.localizer,r=f.telemetryWrapper,t=f.idsLoginSearchManager,u=f.uiConstants.VAULT_TAB;e=function(){c.call(this,"LoginManager");this.items={}};e.prototype=Object.create(c.prototype);e.prototype.addItem=function(c,h){if(b(c))throw Error("Item cannot be null");b(h)&&(h=!1);var e=c.getPath();
if(b(e))m.error("GUID is not found. Item has not been created correctly");else{if(g(this.items[e]))throw Error("Item is already added. If you are updating an item please use the updateItem API");this.items[e]=c;!0===h&&(h=function(b,h,g){h=f.statusReporter;var k=d(b);a.utils.createCustomHTMLEvent(f.constants.EVENTS.VAULT_SYNC,{name:u.EVENT_NAME.LOGIN_ITEM_ADDED,guid:e,isSuccess:k});!1===k?(m.error("Failed to add node: "+c.getPath()+"error: "+g.toString()),h.reportHttpStatusCode(b)):(k=a.utils.baseURL(this.getItem(e).getLoginURL()),
k=q.getLocalizedStringWithFormat("Your new {0} login has been saved successfully.",[k]),h.reportHttpStatusCode(b,null,k),f.compromisedPasswordHelper.isCompromisedPasswordFlowInProgress()&&a.utils.createCustomHTMLEvent(f.constants.ON_LOGIN_SAVED,{item:this.items[e],error:g}))}.bind(this),f.nodeSync.uploadNodes(c.clone().serializeNode(),h,null),r.sendLoginAdd(r.LOGIN_TYPE_LOCAL))}};e.prototype.addItems=function(a,d,c){if(!l(a))throw Error("Item must be an array of logins");b(d)&&(d=!1);if(!h(c))throw Error("callback must be an valid function");
var e=[],k=this;a.forEach(function(a){var d=a.getPath();if(b(d))throw Error("GUID is not found. Item has not been created correctly");if(g(k.items[d]))throw Error("Item is already added. If you are updating an item please use the updateItem API");k.items[d]=a;e.push(a.clone().serializeNode())});!0===d&&(f.nodeSync.uploadNodes(e,c,null),r.sendLoginAdd(r.LOGIN_TYPE_LOCAL))};e.prototype.addUpdateItems=function(c,e,k){if(!l(c))throw Error("Item must be an array of logins");b(e)&&(e=!1);if(!h(k))throw Error("callback must be an valid function");
var q=[],n=this,t=[];c.forEach(function(a){var b=a.getPath(),d=n.items[b];a.setLastUpdate((new Date).getTime()/1E3);g(d)?n.updateItem(a,!1):n.addItem(a,!1);t.push(b);q.push(a.clone().serializeNode())});!0===e&&(c=function(b,c,h){c=f.statusReporter;console.log(b);h=d(b);a.utils.createCustomHTMLEvent(f.constants.EVENTS.VAULT_SYNC,{name:u.EVENT_NAME.LOGIN_ITEM_UPDATED,guid:t,isSuccess:h});!1===h?c.reportHttpStatusCode(b):k(b)}.bind(this),f.nodeSync.uploadNodes(q,c,null),r.sendLoginModify(r.LOGIN_TYPE_LOCAL))};
e.prototype.search=function(d,c){if(!1===h(c))throw Error("Need a valid callback function");if(0===Object.keys(this.items).length)m.info("Empty vault"),setTimeout(function(){c([],null)},1);else if(b(d))setTimeout(function(){c(null,Error("Search key cannot be null"))},1);else{var f=a.utils.baseURL(d);d=t.rawSearch(d);var g=[],e=Number.MAX_SAFE_INTEGER,k=this;b(d)||0===d.size?setTimeout(function(){c([],null)},1):(d.forEach(function(b,d){b=k.getItem(d);d=f.indexOf(a.utils.baseURL(b.getLoginURL()));d<=
e&&-1<d?(g.unshift(b),e=Math.min(e,d)):g.push(b)}),setTimeout(function(){r.sendIDSVaultLoginURLCount(f,g.length);c(g,null)},1))}};e.prototype.uiSearch=function(a,d){if(p(this.items))return m.info("Empty vault"),null;if(!k(a))return m.info("Search key cannot be null"),null;var c=["siteName","loginURL","username"],f={};for(g in c)f[c[g]]=[];for(var h in this.items){var g=this.items[h];if(!0===d){var e=g.getFavorite();if(b(e)||!1===e)continue}a=a.toLowerCase();e=g.getSiteName();e=k(e)?e:"";var q=g.getLoginURL();
q=k(q)?q:"";g=g.getUsername();g=k(g)?g:"";-1<e.toLowerCase().indexOf(a)?f[c[0]].push(h):-1<q.toLowerCase().indexOf(a)?f[c[1]].push(h):-1<g.toLowerCase().indexOf(a)&&f[c[2]].push(h)}return f};e.prototype.getItem=function(a){if(b(a))throw Error("GUID cannot be null");return this.items[a]};e.prototype.updateItem=function(c,h){if(b(c))throw Error("Item cannot be null");b(h)&&(h=!1);var g=c.getPath(),e=this.items[g];if(b(e))throw Error("New item is being added. Please use the addItem interface");t.removeItemFromMap(e);
this.items[g]=c;h&&(h=function(b,h,e){h=f.statusReporter;var k=d(b);a.utils.createCustomHTMLEvent(f.constants.EVENTS.VAULT_SYNC,{name:u.EVENT_NAME.LOGIN_ITEM_UPDATED,guid:g,isSuccess:k});!1===k?(m.error("Failed to add node: "+c.getPath()+"error: "+e.toString()),h.reportHttpStatusCode(b)):(k=a.utils.baseURL(this.getItem(g).getLoginURL()),k=q.getLocalizedStringWithFormat("Your {0} login has been successfully updated.",[k]),h.reportHttpStatusCode(b,null,k),f.compromisedPasswordHelper.isCompromisedPasswordFlowInProgress()&&
a.utils.createCustomHTMLEvent(f.constants.ON_LOGIN_SAVED,{item:this.items[g],error:e}))}.bind(this),f.nodeSync.uploadNodes(c.clone().serializeNode(),h,null),r.sendLoginModify(r.LOGIN_TYPE_LOCAL))};e.prototype.postSyncSetup=function(){for(var a in this.items){var b=this.items[a];if(b.encrypted)try{b.decrypt(),f.idsLoginSearchManager.addItemToMap(b)}catch(n){m.error(n),delete this.items[a]}}};e.prototype.deleteItem=function(c,h){if(!b(c)){var g=this.items[c];if(b(g))m.info("No item found to delete");
else{t.removeItemFromMap(g);var e=g.serializeNode(!0);delete this.items[c];!b(h)&&h&&(h=function(b,h,e){b=d(b);a.utils.createCustomHTMLEvent(f.constants.EVENTS.VAULT_SYNC,{name:u.EVENT_NAME.LOGIN_ITEM_DELETED,guid:c,isSuccess:b});!1===b&&m.error("Failed to delete node: "+g.getPath()+"error: "+e.toString())}.bind(this),f.nodeSync.uploadNodes(e,h,null),r.sendLoginDelete(r.LOGIN_TYPE_LOCAL))}}};e.prototype.deleteItems=function(c){var h=[],g;for(g in this.items){var e=this.items[g].serializeNode(!0);
delete this.items[g];h.push(e)}t.clearMaps();0!==h.length&&!b(c)&&c&&(c=function(b,c,h){b=d(b);a.utils.createCustomHTMLEvent(f.constants.EVENTS.VAULT_SYNC,{name:u.LOGIN_ITEMS_DELETED,isSuccess:b});!1===b&&m.error("Failed to delete items, error: "+h.toString())}.bind(this),f.nodeSync.uploadNodes(h,c,null),r.sendLoginDelete(r.LOGIN_TYPE_LOCAL,h.length))};e.prototype.getItems=function(){return this.items};return e}(e.SymBfw,e.SymO2,e.IDSafe)})(executionContext);
(function(e){e.IDSafe.CreditCardManager=function(a,e,f){var c=f.ItemManager,b=a.utils.isNil,g=a.utils.isntNil,k=a.utils.isEmptyObject,p=a.utils.isString,l=a.logger,m=a.utils.isSuccessCode,d=a.localizer,h=f.uiConstants.VAULT_TAB;e=function(){c.call(this,"CreditCardManager");this.items={}};e.prototype=Object.create(c.prototype);e.prototype.addItem=function(c,e){if(b(c))throw Error("Item cannot be null");b(e)&&(e=!1);var k=c.getPath();if(b(k))l.error("GUID is not found. Item has not been created correctly");
else{if(g(this.items[k]))throw Error("Item is already added. If you are updating an item please use the updateItem API");this.items[k]=c;!0===e&&(e=function(b,g,e){g=f.statusReporter;var q=m(b);a.utils.createCustomHTMLEvent(f.constants.EVENTS.VAULT_SYNC,{name:h.EVENT_NAME.CC_ITEM_ADDED,guid:k,isSuccess:q});!1===q?(l.error("Failed to add node: "+c.getPath()+"error: "+e.toString()),g.reportHttpStatusCode(b)):(e=this.getItem(k).getCardName(),e=d.getLocalizedStringWithFormat("Your new {0} Wallet item has been saved successfully.",
[e]),g.reportHttpStatusCode(b,null,e))}.bind(this),f.nodeSync.uploadNodes(c.clone().serializeNode(),e,null))}};e.prototype.search=function(a,b){};e.prototype.uiSearch=function(a,d){if(k(this.items))return l.info("Empty vault"),null;if(!p(a))return l.info("Search key cannot be null"),null;var c=[],f;for(f in this.items){var h=this.items[f];if(!0===d){var g=h.getFavorite();if(b(g)||!1===g)continue}g=h.getCardType();g=p(g)?g:"";var e=h.getNameOnCard();e=p(e)?e:"";var q=h.getCardName();q=p(q)?q:"";h=
h.getLastFourOnCard();p(h);a=a.toLowerCase();(-1<g.toLowerCase().indexOf(a)||-1<e.toLowerCase().indexOf(a)||-1<q.toLowerCase().indexOf(a))&&c.push(f)}return c};e.prototype.getItem=function(a){if(b(a))throw Error("GUID cannot be null");return this.items[a]};e.prototype.updateItem=function(c,g){if(b(c))throw Error("Item cannot be null");b(g)&&(g=!1);var e=c.getPath();if(b(this.items[e]))throw Error("New item is being added. Please use the addItem interface");this.items[e]=c;g&&(g=function(b,g,k){g=
f.statusReporter;var q=m(b);a.utils.createCustomHTMLEvent(f.constants.EVENTS.VAULT_SYNC,{name:h.EVENT_NAME.CC_ITEM_UPDATED,guid:e,isSuccess:q});!1===q?(l.error("Failed to add node: "+c.getPath()+"error: "+k.toString()),g.reportHttpStatusCode(b)):(k=this.getItem(e).getCardName(),k=d.getLocalizedStringWithFormat("Your new {0} Wallet item has been successfully updated.",[k]),g.reportHttpStatusCode(b,null,k))}.bind(this),f.nodeSync.uploadNodes(c.clone().serializeNode(),g,null))};e.prototype.postSyncSetup=
function(){for(var a in this.items){var b=this.items[a];b.encrypted&&b.decrypt()}};e.prototype.deleteItem=function(d,c){if(!b(d)){var g=this.items[d];if(b(g))l.info("No item found to delete");else{var e=g.serializeNode(!0);delete this.items[d];!b(c)&&c&&(c=function(b,c,e){b=m(b);a.utils.createCustomHTMLEvent(f.constants.EVENTS.VAULT_SYNC,{name:h.EVENT_NAME.CC_ITEM_DELETED,guid:d,isSuccess:b});!1===b&&l.error("Failed to delete node: "+g.getPath()+"error: "+e.toString())}.bind(this),f.nodeSync.uploadNodes(e,
c,null))}}};e.prototype.deleteItems=function(d){var c=[],g;for(g in this.items){var e=this.items[g].serializeNode(!0);delete this.items[g];c.push(e)}0!==c.length&&!b(d)&&d&&(d=function(b,d,c){b=m(b);a.utils.createCustomHTMLEvent(f.constants.EVENTS.VAULT_SYNC,{name:h.CC_ITEMS_DELETED,isSuccess:b});!1===b&&l.error("Failed to delete items, error: "+c.toString())}.bind(this),f.nodeSync.uploadNodes(c,d,null))};e.prototype.getItems=function(){return this.items};return e}(e.SymBfw,e.SymO2,e.IDSafe)})(executionContext);
(function(e){e.IDSafe.BankAccountManager=function(a,e,f){var c=f.ItemManager,b=a.utils.isNil,g=a.utils.isntNil,k=a.utils.isEmptyObject,p=a.utils.isString,l=a.logger,m=a.utils.isSuccessCode,d=a.localizer,h=f.uiConstants.VAULT_TAB;e=function(){c.call(this,"BankAccountManager");this.items={}};e.prototype=Object.create(c.prototype);e.prototype.addItem=function(c,e){if(b(c))throw Error("Item cannot be null");b(e)&&(e=!1);var k=c.getPath();if(b(k))l.error("GUID is not found. Item has not been created correctly");
else{if(g(this.items[k]))throw Error("Item is already added. If you are updating an item please use the updateItem API");this.items[k]=c;!0===e&&(e=function(b,g,e){g=f.statusReporter;var q=m(b);a.utils.createCustomHTMLEvent(f.constants.EVENTS.VAULT_SYNC,{name:h.EVENT_NAME.BANK_ACCOUNT_ITEM_ADDED,guid:k,isSuccess:q});!1===q?(l.error("Failed to add node: "+c.getPath()+"error: "+e.toString()),console.log(e),g.reportHttpStatusCode(b)):(e=this.getItem(k).getAccountName(),e=d.getLocalizedStringWithFormat("Your new {0} Wallet item has been saved successfully.",
[e]),g.reportHttpStatusCode(b,null,e))}.bind(this),f.nodeSync.uploadNodes(c.clone().serializeNode(),e,null))}};e.prototype.uiSearch=function(a,d){if(k(this.items))return l.info("Empty vault"),null;if(!p(a))return l.info("Search key cannot be null"),null;var c=[],f;for(f in this.items){var g=this.items[f];if(!0===d){var h=g.getFavorite();if(b(h)||!1===h)continue}h=g.getAccountName();h=p(h)?h:"";g=g.getBankName();g=p(g)?g:"";a=a.toLowerCase();(-1<h.toLowerCase().indexOf(a)||-1<g.toLowerCase().indexOf(a))&&
c.push(f)}return c};e.prototype.getItem=function(a){if(b(a))throw Error("GUID cannot be null");return this.items[a]};e.prototype.updateItem=function(c,g){if(b(c))throw Error("Item cannot be null");b(g)&&(g=!1);var e=c.getPath();if(b(this.items[e]))throw Error("New item is being added. Please use the addItem interface");this.items[e]=c;g&&(g=function(b,g,k){g=f.statusReporter;var q=m(b);a.utils.createCustomHTMLEvent(f.constants.EVENTS.VAULT_SYNC,{name:h.EVENT_NAME.BANK_ACCOUNT_UPDATED,guid:e,isSuccess:q});
!1===q?(l.error("Failed to add node: "+c.getPath()+"error: "+k.toString()),g.reportHttpStatusCode(b)):(k=this.getItem(e).getAccountName(),k=d.getLocalizedStringWithFormat("Your new {0} Wallet item has been successfully updated.",[k]),g.reportHttpStatusCode(b,null,k))}.bind(this),f.nodeSync.uploadNodes(c.clone().serializeNode(),g,null))};e.prototype.postSyncSetup=function(){for(var a in this.items){var b=this.items[a];b.encrypted&&b.decrypt()}};e.prototype.deleteItem=function(d,c){if(!b(d)){var g=
this.items[d];if(b(g))l.info("No item found to delete");else{var e=g.serializeNode(!0);delete this.items[d];!b(c)&&c&&(c=function(b,c,e){b=m(b);a.utils.createCustomHTMLEvent(f.constants.EVENTS.VAULT_SYNC,{name:h.EVENT_NAME.BANK_ACCOUNT_DELETED,guid:d,isSuccess:b});!1===b&&l.error("Failed to delete node: "+g.getPath()+"error: "+e.toString())}.bind(this),f.nodeSync.uploadNodes(e,c,null))}}};e.prototype.deleteItems=function(d){var c=[],g;for(g in this.items){var e=this.items[g].serializeNode(!0);delete this.items[g];
c.push(e)}0!==c.length&&!b(d)&&d&&(d=function(b,d,c){b=m(b);a.utils.createCustomHTMLEvent(f.constants.EVENTS.VAULT_SYNC,{name:h.BANK_ACCOUNTS_DELETED,isSuccess:b});!1===b&&l.error("Failed to delete items, error: "+c.toString())}.bind(this),f.nodeSync.uploadNodes(c,d,null))};e.prototype.getItems=function(){return this.items};return e}(e.SymBfw,e.SymO2,e.IDSafe)})(executionContext);
(function(e){e.IDSafe.AddressManager=function(a,e,f){var c=f.ItemManager,b=a.utils.isNil,g=a.utils.isntNil,k=a.logger,p=a.utils.isSuccessCode,l=f.uiConstants.VAULT_TAB;e=function(){c.call(this,"AddressManager");this.items={}};e.prototype=Object.create(c.prototype);e.prototype.addItem=function(a){if(b(a))throw Error("Item cannot be null");var d=a.getPath();if(b(d))k.error("GUID is not found. Item has not been created correctly");else{if(g(this.items[d]))throw Error("Item is already added. If you are updating an item please use the updateItem API");
this.items[d]=a}};e.prototype.getItem=function(a){if(b(a))throw Error("GUID cannot be null");return this.items[a]};e.prototype.updateItem=function(a){if(b(a))throw Error("Item cannot be null");var d=a.getPath();if(b(this.items[d]))throw Error("New item is being added. Please use the addItem interface");this.items[d]=a};e.prototype.postSyncSetup=function(){for(var a in this.items){var b=this.items[a];b.encrypted&&b.decrypt()}};e.prototype.deleteItem=function(a){if(!b(a)){var d=this.items[a];b(d)?k.info("No item found to delete"):
(d.serializeNode(!0),delete this.items[a])}};e.prototype.deleteItems=function(c){var d=[],g;for(g in this.items){var e=this.items[g].serializeNode(!0);delete this.items[g];d.push(e)}0!==d.length&&!b(c)&&c&&(c=function(b,d,c){b=p(b);a.utils.createCustomHTMLEvent(f.constants.EVENTS.VAULT_SYNC,{name:l.ADDRESS_BOOK_DELETED,isSuccess:b});!1===b&&k.error("Failed to delete items, error: "+c.toString())}.bind(this),f.nodeSync.uploadNodes(d,c,null))};e.prototype.getItems=function(){return this.items};return e}(e.SymBfw,
e.SymO2,e.IDSafe)})(executionContext);
(function(e){e.IDSafe.NoteManager=function(a,e,f){var c=f.ItemManager,b=a.utils.isNil,g=a.utils.isntNil,k=a.utils.isEmptyObject,p=a.utils.isString,l=a.logger,m=a.utils.isSuccessCode,d=a.localizer,h=f.uiConstants.VAULT_TAB;e=function(){c.call(this,"NoteManager");this.items={}};e.prototype=Object.create(c.prototype);e.prototype.addItem=function(c,e){if(b(c))throw Error("Item cannot be null");b(e)&&(e=!1);var k=c.getPath();if(b(k))l.error("GUID is not found. Item has not been created correctly");else{if(g(this.items[k]))throw Error("Item is already added. If you are updating an item please use the updateItem API");
this.items[k]=c;!0===e&&(e=function(b,g,e){g=f.statusReporter;var q=m(b);a.utils.createCustomHTMLEvent(f.constants.EVENTS.VAULT_SYNC,{name:h.EVENT_NAME.NOTE_ITEM_ADDED,guid:k,isSuccess:q});!1===q?(l.error("Failed to add node: "+c.getPath()+"error: "+e.toString()),g.reportHttpStatusCode(b)):(e=this.getItem(k).getTitle(),e=d.getLocalizedStringWithFormat("Your new {0} Note has been saved successfully.",[e]),g.reportHttpStatusCode(b,null,e))}.bind(this),f.nodeSync.uploadNodes(c.clone().serializeNode(),
e,null))}};e.prototype.uiSearch=function(a,d){if(k(this.items))return l.info("Empty vault"),null;if(!p(a))return l.info("Search key cannot be null"),null;var c=[],f;for(f in this.items){var g=this.items[f];if(!0===d){var h=g.getFavorite();if(b(h)||!1===h)continue}g=g.getTitle();a=a.toLowerCase();-1<g.toLowerCase().indexOf(a)&&c.push(f)}return c};e.prototype.getItem=function(a){if(b(a))throw Error("GUID cannot be null");return this.items[a]};e.prototype.updateItem=function(c,g){if(b(c))throw Error("Item cannot be null");
b(g)&&(g=!1);var e=c.getPath();if(b(this.items[e]))throw Error("New item is being added. Please use the addItem interface");this.items[e]=c;g&&(g=function(b,g,k){g=f.statusReporter;var q=m(b);a.utils.createCustomHTMLEvent(f.constants.EVENTS.VAULT_SYNC,{name:h.EVENT_NAME.NOTE_ITEM_UPDATED,guid:e,isSuccess:q});!1===q?(l.error("Failed to add node: "+c.getPath()+"error: "+k.toString()),g.reportHttpStatusCode(b)):(k=this.getItem(e).getTitle(),k=d.getLocalizedStringWithFormat("Your new {0} Note has been successfully updated.",
[k]),g.reportHttpStatusCode(b,null,k))}.bind(this),f.nodeSync.uploadNodes(c.clone().serializeNode(),g,null))};e.prototype.postSyncSetup=function(){for(var a in this.items){var b=this.items[a];b.encrypted&&b.decrypt()}};e.prototype.deleteItem=function(d,c){if(!b(d)){var g=this.items[d];if(b(g))l.info("No item found to delete");else{var e=g.serializeNode(!0);delete this.items[d];!b(c)&&c&&(c=function(b,c,e){b=m(b);a.utils.createCustomHTMLEvent(f.constants.EVENTS.VAULT_SYNC,{name:h.EVENT_NAME.NOTE_ITEM_DELETED,
guid:d,isSuccess:b});!1===b&&l.error("Failed to delete node: "+g.getPath()+"error: "+e.toString())}.bind(this),f.nodeSync.uploadNodes(e,c,null))}}};e.prototype.deleteItems=function(d){var c=[],g;for(g in this.items){var e=this.items[g].serializeNode(!0);delete this.items[g];c.push(e)}0!==c.length&&!b(d)&&d&&(d=function(b,d,c){b=m(b);a.utils.createCustomHTMLEvent(f.constants.EVENTS.VAULT_SYNC,{name:h.NOTE_ITEM_DELETED,isSuccess:b});!1===b&&l.error("Failed to delete items, error: "+c.toString())}.bind(this),
f.nodeSync.uploadNodes(c,d,null))};e.prototype.getItems=function(){return this.items};return e}(e.SymBfw,e.SymO2,e.IDSafe)})(executionContext);
(function(e){e.IDSafe.IdentityManager=function(a,e,f){var c=f.ItemManager,b=a.utils.isNil,g=a.utils.isntNil,k=a.logger,p=a.utils.isSuccessCode,l=f.uiConstants.VAULT_TAB;e=function(){c.call(this,"IdentityManager");this.items={}};e.prototype=Object.create(c.prototype);e.prototype.addItem=function(a){if(b(a))throw Error("Item cannot be null");var d=a.getPath();if(b(d))k.error("GUID is not found. Item has not been created correctly");else{if(g(this.items[d]))throw Error("Item is already added. If you are updating an item please use the updateItem API");
this.items[d]=a}};e.prototype.getItem=function(a){if(b(a))throw Error("GUID cannot be null");return this.items[a]};e.prototype.updateItem=function(a){if(b(a))throw Error("Item cannot be null");var d=a.getPath();if(b(this.items[d]))throw Error("New item is being added. Please use the addItem interface");this.items[d]=a};e.prototype.postSyncSetup=function(){for(var a in this.items){var b=this.items[a];b.encrypted&&b.decrypt()}};e.prototype.deleteItem=function(a){if(!b(a)){var d=this.items[a];b(d)?k.info("No item found to delete"):
(d.serializeNode(!0),delete this.items[a])}};e.prototype.deleteItems=function(c){var d=[],g;for(g in this.items){var e=this.items[g].serializeNode(!0);delete this.items[g];d.push(e)}0!==d.length&&!b(c)&&c&&(c=function(b,d,c){b=p(b);a.utils.createCustomHTMLEvent(f.constants.EVENTS.VAULT_SYNC,{name:l.ADDRESS_BOOK_DELETED,isSuccess:b});!1===b&&k.error("Failed to delete items, error: "+c.toString())}.bind(this),f.nodeSync.uploadNodes(d,c,null))};e.prototype.getItems=function(){return this.items};return e}(e.SymBfw,
e.SymO2,e.IDSafe)})(executionContext);
(function(e){e.IDSafe.vaultManager=function(a,e,f){var c=function(){this.vaultBeingCreated=!1},b=a.utils.isNil,g=a.utils.isntNil,k=a.utils.isFunction,p=a.utils.isString,l=e.utils,m=a.utils.isSuccessCode,d=e.session,h=e.oxygen,q=e.constants,r=a.constants.httpStatusCodes,t=f.vaultUtils,u=f.constants,v=a.logger,w=e.spocManager,n=u.vaultManager.stateInfo,A=f.telemetryWrapper,E=f.vaultUnlockSettings;c.state={LOAD_FROM_CLOUD:1,LOADED:2,INTERNAL_ERROR:3,NETWORK_ERROR:4,HANDLING_CHALLENGE:5,CLIENT_UNAUTHORIZED:6,
READING_NODES:7,DECRYPTING_NODES:8,VAULT_SYNCED:9,GETTING_LOCAL_CHANGES:10,ENCRYPTING_NODES:11,UPLOADING_TO_CLOUD:12,MERGE_NODES:13,NOT_LOGGED_IN:14,VAULT_LOCKED:15,VAULT_FOUND:16,VAULT_NOT_FOUND:17,SSO_UNAUTHORIZED:18,VAULT_CREATED:19,O2_RATE_LIMITED_ERROR:20,VAULT_DELETED:21,VAULT_PASSWORD_CHANGED:22};c.reasonCloseVault={NOT_NEEDED:0,VAULT_PASSWORD_CHANGED:1,VAULT_DELETED:2};var D=function(a,d){if(b(a))throw Error("State cannot be null");this.state=a;this.additionalInfo=d};D.prototype.getState=
function(){return this.state};D.prototype.getAdditionalInfo=function(){return this.additionalInfo};c.VaultState=D;var x=function(a,e,p){var w=f.statusReporter,y=[u.DEFAULT_APPID_NODE];this.maxRetryCount=2;if(!1===k(p))throw Error("Callback cannot be null or is not a function");var E=this;d.isLoggedIn(function(k,B){if(!1===k)setTimeout(function(){var a=new D(c.state.NOT_LOGGED_IN,"User not logged in");p(a,B)},1);else{var G=f.nodeParser,C=null,x=function(k,B,J,F){var z,H,N,O,M,I,K,P,Q,L,S,V,T,U;return $jscomp.asyncExecutePromiseGeneratorProgram(function(F){switch(F.nextAddress){case 1:if(k===
r.UNAUTHORIZED&&b(J)||k===r.BAD_REQUEST)return setTimeout(function(){C=new D(c.state.SSO_UNAUTHORIZED,n.SSO_UNAUTHORIZED);w.logoutCheckBasedOnSSOToken();p(C,null)},1),F.return();if(k===r.DATASTORE_RATE_LIMITED)return setTimeout(function(){C=new D(c.state.O2_RATE_LIMITED_ERROR,n.O2_RATE_LIMITED_ERROR);w.reportVaultState(C.getState());p(C,null)},1),F.return();if(k===r.UNAUTHORIZED&&e){if(0===E.maxRetryCount)return setTimeout(function(){A.sendIDSCryptoError("Unable to answer a challenge",A.IDS_CRYPTO_ERROR_CONSTANTS.UNABLE_TO_ANSWER_CHALLENGE);
C=!0===f.vaultKeys.getUnlockUsingMobileFlag()?new D(c.state.CLIENT_UNAUTHORIZED,n.INCORRECT_DECRYPT_KEY_ERROR):new D(c.state.CLIENT_UNAUTHORIZED,n.HANDLE_CHALLENGE_FAILED);p(C,null)},1),F.return();G.parseNodeList(B);z=J[q.header.CHALLENGES];H=l.stringToChallengeList(z);t.handleChallenge(a,H,function(a){if(b(a))C=!0===f.vaultKeys.getUnlockUsingMobileFlag()?new D(c.state.CLIENT_UNAUTHORIZED,n.INCORRECT_DECRYPT_KEY_ERROR):new D(c.state.INTERNAL_ERROR,n.GENERATE_DECRYPT_KEY_ERROR),p(C);else{a=l.challengeListToString(a);
var g={};g[q.header.CHALLENGES]=a;E.maxRetryCount--;h.getDatastorePaths(y,d.getUserID(),x,!0,g,null,!0)}});return F.return()}if(k===r.GONE||k===r.NOT_FOUND)return C=new D(c.state.VAULT_NOT_FOUND,n.VAULT_NOT_FOUND),p(C),F.return();if(!m(k)){F.jumpTo(2);break}E.maxRetryCount=2;C=new D(c.state.READING_NODES,n.READING_NODES);p(C);try{G.parseNodeList(B)}catch(ca){v.error(ca)}if(N=f.appNode.isEmpty())return C=new D(c.state.VAULT_NOT_FOUND,n.VAULT_NOT_FOUND),p(C),F.return();if(!e){C=new D(c.state.VAULT_FOUND,
n.VAULT_FOUND);p(C);F.jumpTo(3);break}C=new D(c.state.LOADED,n.LOADED);p(C);O=f.idscNode;M=O.getEncryptionKey();I=O.getObfuscationKey();K=O.getPBDKSalt();P=l.createStringBufferFromUint8Buffer(K);Q=u.DEFAULT_IDSC_PATH_CRC+u.DEFAULT_APPID_IDSC_NODE;if(b(a)&&!0===f.vaultKeys.getUnlockUsingMobileFlag()){L=f.vaultKeys.getEncryptionKey();F.jumpTo(4);break}return F.yield(t.generateVaultDecryptionKey(a,P),5);case 5:S=F.yieldResult;if(b(S))return C=new D(c.state.INTERNAL_ERROR,n.GENERATE_DECRYPT_KEY_ERROR),
p(C),F.return();L=t.decryptEnvelopeData(M,S,Q,u.DEFAULT_VAULT_ENCRYPTION_KEY,u.SERIALIZE_DATA_TYPE.BINARY,!1);if(b(L))return A.sendIDSCryptoError("\u200bUnable to decrypt vault key",A.IDS_CRYPTO_ERROR_CONSTANTS.UNABLE_TO_DECRYPT_ITEM),C=new D(c.state.INTERNAL_ERROR,n.DECRYPT_VAULT_KEY_ERROR),p(C),F.return();L=L.buffer;case 4:V=t.decryptEnvelopeData(I,L,Q,u.DEFAULT_VAULT_OBFUSCATION_KEY,u.SERIALIZE_DATA_TYPE.BINARY);if(b(V))return A.sendIDSCryptoError("Unable to decrypt obfuscationKey",A.IDS_CRYPTO_ERROR_CONSTANTS.UNABLE_TO_OBFUSCATE_ITEM),
C=new D(c.state.INTERNAL_ERROR,n.DECRYPT_OBFUSCATION_KEY_ERROR),p(C),F.return();V=V.buffer;T=f.vaultKeys;g(a)&&!1===f.vaultKeys.getUnlockUsingMobileFlag()&&(T.setEncryptionKey(L),T.setEncodedVaultPassword(a));T.setObfuscationKey(V);T.setLocked(!1);C=new D(c.state.DECRYPTING_NODES,n.DECRYPTING_NODES);p(C);try{E.postSyncSetup()}catch(ca){v.error(ca)}U=E.getItemManager(c.LOGIN_MANAGER);A.sendIDSVaultStatistics(A.IDSVAULT_LABEL.SIZE,Object.keys(U.items).length);C=new D(c.state.VAULT_SYNCED,n.VAULT_SYNCED_DECRYPTED);
p(C);!0===E.suppressPopup?E.suppressPopup=!1:w.reportVaultState(C.getState());E.startSPOC();f.securityDashboard.securityDashboardNotificationMgr.displayPopupOnVaultUnlock();f.securityDashboard.engine.checkAndSendVaultStatusPing();f.securityDashboard.engine.preFetchRibbonData();case 3:return F.return();case 2:C=new D(c.state.NETWORK_ERROR,n.NETWORK_ERROR),p(C),!1===f.vaultUnlockManager.automaticMobileUnlockRequest&&w.reportVaultState(C.getState()),F.jumpToEnd()}})};C=new D(c.state.LOAD_FROM_CLOUD,
n.LOAD_FROM_CLOUD);p(C,null);h.getDatastorePaths(y,d.getUserID(),x,e,null,null,!0)}})};c.prototype.openAndLoadVault=function(a,b){var d=f.vaultKeys.getUnlockUsingMobileFlag();console.log(d);if(!p(a)&&!1===d)throw Error("Either a password or a flag should be set");return x.apply(this,[a,!0,b])};c.prototype.forceSyncVault=function(b){var g=this,e=u.performanceReporter.TYPE.FORCE_SYNC_VAULT+":"+Date.now();a.performanceReporterFactory.reportStartForComponent(u.performanceReporter.COMPONENT.IDSAFE,e);
if(f.vaultKeys.isLocked())setTimeout(function(){var a=new D(c.state.VAULT_LOCKED,"Vault is locked and cannot be be sycned");b(a,null)},1);else{var k=[u.DEFAULT_APPID_NODE],l=new D(c.state.LOAD_FROM_CLOUD,n.LOAD_FROM_CLOUD);b(l,null);h.getDatastorePaths(k,d.getUserID(),function(d,h,k,l){var q=null;if(!1===m(d)){switch(d){case r.UNAUTHORIZED:q=new D(c.state.CLIENT_UNAUTHORIZED,n.UNAUTHORIZED);break;default:q=new D(c.state.NETWORK_ERROR,n.NETWORK_ERROR)}setTimeout(function(){var a=JSON.stringify(q);
A.sendIDSVaultMerge(a);b(q,null)},1)}else g.clearItems(),q=new D(c.state.READING_NODES,n.READING_NODES),b(q),f.nodeParser.parseNodeList(h),q=new D(c.state.DECRYPTING_NODES,n.DECRYPTING_NODES),b(q),f.vaultManager.postSyncSetup(),q=new D(c.state.VAULT_SYNCED,n.VAULT_SYNCED),a.performanceReporterFactory.reportStopForComponent(u.performanceReporter.COMPONENT.IDSAFE,e),b(q)},!0,null,null,!0)}};c.LOGIN_MANAGER="LoginManager";c.ADDRESS_MANAGER="AddressManager";c.IDENTITY_MANAGER="IdentityManager";c.CREDIT_CARD_MANAGER=
"CreditCardManager";c.BANK_ACCOUNT_MANAGER="BankAccountManager";c.NOTE_MANAGER="NoteManager";var z=f.LoginManager,C=f.CreditCardManager,y=f.BankAccountManager,G=f.AddressManager,H=f.IdentityManager,N=f.NoteManager;c.prototype.getItemManager=function(a){switch(a){case c.LOGIN_MANAGER:return b(this.loginManager)&&(this.loginManager=new z),this.loginManager;case c.CREDIT_CARD_MANAGER:return b(this.creditCardManager)&&(this.creditCardManager=new C),this.creditCardManager;case c.BANK_ACCOUNT_MANAGER:return b(this.bankAccountManager)&&
(this.bankAccountManager=new y),this.bankAccountManager;case c.ADDRESS_MANAGER:return b(this.addressManager)&&(this.addressManager=new G),this.addressManager;case c.IDENTITY_MANAGER:return b(this.identityManager)&&(this.identityManager=new H),this.identityManager;case c.NOTE_MANAGER:return b(this.noteManager)&&(this.noteManager=new N),this.noteManager;default:v.info("Do not support the item manager: "+a)}return null};c.prototype.deleteVault=function(a){if(!1===k(a))throw Error("Vault callback cannot be null");
var b=new e.proto.com.symantec.oxygen.datastore.v2.messages.Node;b.setPath(u.DEFAULT_APPID_NODE);b.setDeleted(!0);var d=f.nodeSync,g={};Object.defineProperty(g,e.constants.header.IF_MATCH,{configurable:!0,set:function(a){delete g[e.constants.header.IF_MATCH]}});d.uploadNodes([b],function(b,d,f){m(b)?(b=new D(c.state.VAULT_DELETED,"Vault DELETED"),a(b,null)):O(b,a,f)},g)};c.prototype.clearItems=function(){this.getItemManager(c.LOGIN_MANAGER).deleteItems(!1);this.getItemManager(c.CREDIT_CARD_MANAGER).deleteItems(!1);
this.getItemManager(c.BANK_ACCOUNT_MANAGER).deleteItems(!1);this.getItemManager(c.ADDRESS_MANAGER).deleteItems(!1);this.getItemManager(c.IDENTITY_MANAGER).deleteItems(!1);this.getItemManager(c.NOTE_MANAGER).deleteItems(!1)};c.prototype.changeVaultPassword=function(a,d,h,w){var y=this;if(!1===p(a))throw Error("current Vault password cannot be null");if(!1===p(d))throw Error("new Vault password cannot be null");if(!1===p(h))throw Error("Password hint cannot be null");if(!1===k(w))throw Error("Vault callback cannot be null");
t.createChallenge(d,function(k){var p,B,C,G,A,F,J,z,H,N,M,I,K,Q,W,aa,X,R,da,ba;return $jscomp.asyncExecutePromiseGeneratorProgram(function(P){if(1==P.nextAddress)return p=k.challenge,B=k.crcSalt,C=k.crcIV,G=f.idscNode,A=f.vaultKeys,F=l.createUInt8BufferFromStringBuffer(forge.random.getBytesSync(u.DEFAULT_CHALLENGE_SALT_SIZE)),J=l.createStringBufferFromUint8Buffer(A.getEncryptionKey()),z=l.createUInt8BufferFromStringBuffer(J),H=l.createStringBufferFromUint8Buffer(A.getObfuscationKey()),N=l.createUInt8BufferFromStringBuffer(H),
P.yield(t.generateVaultDecryptionKey(d,F),2);M=P.yieldResult;I=u.DEFAULT_IDSC_PATH_CRC+u.DEFAULT_APPID_IDSC_NODE;K=t.createEnvelopeAndEncryptData(z,N,u.SERIALIZE_DATA_TYPE.BINARY,I,u.DEFAULT_VAULT_OBFUSCATION_KEY);Q=t.createEnvelopeAndEncryptData(M,z,u.SERIALIZE_DATA_TYPE.BINARY,I,u.DEFAULT_VAULT_ENCRYPTION_KEY,!1);W=t.calculateChecksum(0,F);aa=t.numberToUint8Buffer(W);X=new Uint8Array(F.byteLength+aa.byteLength);X.set(F,0);X.set(aa,F.byteLength);R=f.appNode;R.setPasswordHint(h);R.setLoginID((new Date).getTime());
R.setVaultVersion(u.CURRENT_IDSAFE_VAULT_VERSION);G.setEncryptionKey(Q);G.setObfuscationKey(K);G.setPBDKSalt(X);G.setLoginID((new Date).getTime());da={"X-Symc-Challenge-Update":e.utils.challengeListToString(p)};ba=f.nodeSync;ba.uploadNodes([R.serialize(),G.serialize()],function(f,h,k,u){if(f===r.UNAUTHORIZED){try{e.cookieManager.removeAll()}catch(fa){k=fa}e.cookieManager.load(function(a,b){a||v.error("Could not load cookie manager "+b.toString())});f=l.stringToChallengeList(u[q.header.CHALLENGES]);
t.handleChallenge(a,f,function(a){var f=null;b(a)?(f=new D(c.state.INTERNAL_ERROR,n.GENERATE_DECRYPT_KEY_ERROR),w(f)):(a=a.getChallenges(),b(a)||1>a.length?(f=new D(c.state.INTERNAL_ERROR,n.GENERATE_DECRYPT_KEY_ERROR),w(f)):(a=a[0],p.setDecryptedChallenge(a.getDecryptedChallenge()),p.setSessionId(a.getSessionId()),R.setChallengeIV(C),R.setChallengeSalt(B),a=l.challengeListToString(p),f={},f["X-Symc-Challenge-Update"]=a,ba.uploadNodes([R.serialize(),G.serialize()],function(a,b,f,e){if(m(a)){A.setLocked(!1);
g(E.getRegisteredDevice())&&E.removeNAGuidSettings();A.setEncodedVaultPassword(d);var h=new D(c.state.VAULT_PASSWORD_CHANGED,n.VAULT_PASSWORD_CHANGED);y.suppressPopup=!0;x.call(y,d,!0,function(a,b){w(h)})}else O(a,w,f)},f)))},!1)}else O(f,w,k)},da);P.jumpToEnd()})})};c.prototype.createVault=function(b,d,g){var h=this;if(!1===p(b))throw Error("Vault password cannot be null");if(!1===p(d))throw Error("Password hint cannot be null");if(!1===k(g))throw Error("Vault callback cannot be null");try{if(!0===
this.vaultBeingCreated)throw Error("Vault is already being created");this.vaultBeingCreated=!0;e.cookieManager.load(function(a,b){a||v.error("Could not load cookie manager "+b.toString())});t.createChallenge(b,function(k){var q,r,p,w,y,v,E,B,C,G,A,F,z,H,J,N,M;return $jscomp.asyncExecutePromiseGeneratorProgram(function(I){if(1==I.nextAddress)return q=k.challenge,r=k.crcSalt,p=k.crcIV,w=l.createUInt8BufferFromStringBuffer(forge.random.getBytesSync(u.DEFAULT_CHALLENGE_SALT_SIZE)),y=l.createUInt8BufferFromStringBuffer(forge.random.getBytesSync(u.DEFAULT_DERIVED_AES_KEY_SIZE+
u.DEFAULT_HMAC_SIZE)),v=l.createUInt8BufferFromStringBuffer(forge.random.getBytesSync(u.DEFAULT_OBFUSCATION_KEY_SIZE)),I.yield(t.generateVaultDecryptionKey(b,w),2);E=I.yieldResult;B=u.DEFAULT_IDSC_PATH_CRC+u.DEFAULT_APPID_IDSC_NODE;C=t.createEnvelopeAndEncryptData(y,v,u.SERIALIZE_DATA_TYPE.BINARY,B,u.DEFAULT_VAULT_OBFUSCATION_KEY);G=t.createEnvelopeAndEncryptData(E,y,u.SERIALIZE_DATA_TYPE.BINARY,B,u.DEFAULT_VAULT_ENCRYPTION_KEY,!1);A=t.calculateChecksum(0,w);F=t.numberToUint8Buffer(A);z=new Uint8Array(w.byteLength+
F.byteLength);z.set(w,0);z.set(F,w.byteLength);H=f.appNode;H.setPasswordHint(d);H.setChallengeIV(p);H.setChallengeSalt(r);H.setProfileID("{"+a.utils.createNewGuid()+"}");H.setLoginID((new Date).getTime());H.setVaultVersion(u.CURRENT_IDSAFE_VAULT_VERSION);J=f.idscNode;J.setEncryptionKey(G);J.setObfuscationKey(C);J.setPBDKSalt(z);J.setLoginID((new Date).getTime());N={"X-Symc-Challenge-Update":e.utils.challengeListToString(q)};M=f.nodeSync;M.uploadNodes([H.serialize(),J.serialize()],function(a,d,e){h.vaultBeingCreated=
!1;if(m(a)){a=f.vaultKeys;a.setEncryptionKey(y);a.setObfuscationKey(v);a.setLocked(!1);a.setEncodedVaultPassword(b);var k=new D(c.state.VAULT_CREATED,n.VAULT_CREATED);h.suppressPopup=!0;x.call(h,b,!0,function(a,b){g(k,null)})}else O(a,g,e)},N);I.jumpToEnd()})})}catch(K){this.vaultBeingCreated=!1}};var O=function(a,b,d){a===r.UNAUTHORIZED?(a=new D(c.state.CLIENT_UNAUTHORIZED,n.UNAUTHORIZED),b(a,null,d)):(a=new D(c.state.NETWORK_ERROR,n.NETWORK_ERROR),b(a,null))};c.prototype.closeVault=function(){if(!f.vaultKeys.isLocked()){try{e.cookieManager.removeAll()}catch(J){v.error(J)}this.clearItems();
f.vaultKeys.setLocked(!0);this.stopSPOC()}};c.prototype.doesVaultExist=function(a){x.apply(this,[null,!1,function(b,d){var g=null;setTimeout(function(){switch(b.getState()){case c.state.VAULT_FOUND:var d=!0;break;case c.state.VAULT_NOT_FOUND:d=!1;break;case c.state.NETWORK_ERROR:case c.state.NOT_LOGGED_IN:case c.state.O2_RATE_LIMITED_ERROR:case c.state.SSO_UNAUTHORIZED:g=Error(b.getAdditionalInfo());v.error(g);d=!1;f.signIn.removeSignInTab();break;default:v.log(b.getAdditionalInfo());return}var e=
null;!0===d&&(e=f.appNode.getPasswordHint());A.sendIDSVaultStatistics(A.IDSVAULT_LABEL.AVAILABILITY,!0===d?1:0);a(d,e,g)},1)}])};c.prototype.checkCloseVaultNeeded=function(a){a=a.getNodes();for(var b in a){var d=a[b];if(d.path===u.DEFAULT_APPID_NODE){d=d.getValues();if(0===d.length)return c.reasonCloseVault.VAULT_DELETED;for(var g in d){var e=d[g];if(e.name===u.DEFAULT_CHALLENGE_SALT)return b=l.createStringBufferFromUint8Buffer(e.data_binary.toArrayBuffer()),g=l.createStringBufferFromUint8Buffer(f.appNode.challengeSalt),
b!==g?(A.sendIDSVaultUpdate(A.IDSVAULT_LABEL.PASSWORD),c.reasonCloseVault.VAULT_PASSWORD_CHANGED):c.reasonCloseVault.NOT_NEEDED}}}return c.reasonCloseVault.NOT_NEEDED};c.prototype.startSPOC=function(){if(f.vaultKeys.isLocked())throw Error("Vault is locked");var b=d.getUserID(),k=b.toString(),l=e.proto.spoc.SPOCChannel.SC_DATASTORE_UPDATE,q=this,r=function(d,e){var k=d.revisionNumber;if(q.revisionNumber===k)return v.log("SPOC returned the same revision number as the current revision"),v.log(d),!0;
q.revisionNumber=k;var l=null;h.getDatastorePaths([u.DEFAULT_APPID_NODE],b,function(b,d,e,h){if(m(b)){h=q.checkCloseVaultNeeded(d);e=h===c.reasonCloseVault.VAULT_DELETED;h=h===c.reasonCloseVault.VAULT_PASSWORD_CHANGED;if(!0===e||!0===h){f.session.closeVault();f.settings.removeAll();g(E.getRegisteredDevice())&&E.removeNAGuidSettings();e?v.log("Vault has been deleted. Logging out of Vault"):(v.log("Vault password has been changed. Logging out of Vault"),l=a.localizer.getLocalizedString("Vault password has been changed. Please sign in again."),
b=a.localizer.getLocalizedString("__LONG_PRODUCT_NAME__"),b=new a.TimedNotification(l,f.notificationIcon.getAlertIcon(),b),a.notificationCenter.addNotification(b));return}d=f.nodeParser.parseNodeList(d);f.vaultManager.postSyncSetup();a.utils.createCustomHTMLEvent(u.EVENTS.SPOC_CALLBACK);f.telemetryWrapper.sendLoginTelemetryFromSPOC(d)}else v.error("SPOCBump:getDatastorePaths failed, status: "+b);f.statusReporter.reportHttpStatusCode(b,f.statusReporter.context.MERGE)},!0,null,e);return!0};w.poll(k,
l,function(a,b){g(b)&&v.error(b);q.revisionNumber=a;q.spocIdentity=w.makeSpocRequest(k,l,r,q.revisionNumber)})};c.prototype.postSyncSetup=function(){this.getItemManager(c.LOGIN_MANAGER).postSyncSetup();this.getItemManager(c.CREDIT_CARD_MANAGER).postSyncSetup();this.getItemManager(c.BANK_ACCOUNT_MANAGER).postSyncSetup();this.getItemManager(c.ADDRESS_MANAGER).postSyncSetup();this.getItemManager(c.IDENTITY_MANAGER).postSyncSetup();this.getItemManager(c.NOTE_MANAGER).postSyncSetup()};c.prototype.stopSPOC=
function(){return b(this.spocIdentity)?(v.error("The spoc connection is not registered"),!1):w.cancelSPOCRequest(this.spocIdentity)};return new c}(e.SymBfw,e.SymO2,e.IDSafe)})(executionContext);
(function(e){e.IDSafe.nodeSync=function(a,e,f){var c={},b=a.utils.isSuccessCode,g=e.oxygen,k=e.session,p=e.proto.com.symantec.oxygen.datastore.v2.messages.NodeList;c.uploadNodes=function(a,c,d){var e=new p;e.setNodes(a);a=k.getUserID();g.putNodes(a,e,function(a,d,g,e){b(a)&&(f.nodeParser.parseNodeList(d),f.vaultManager.postSyncSetup());setTimeout(function(){c(a,d,g,e)},1)},d)};return c}(e.SymBfw,e.SymO2,e.IDSafe)})(executionContext);
(function(e){e.IDSafe.session=function(a,e,f){var c={},b=e.session,g=e.cookieManager,k=f.vaultManager,p=a.utils.isNil,l=a.utils.isFunction,m=a.utils.isString,d=a.logger,h=f.constants,q=f.uiConstants.MESSAGES,r=f.globalSettings;c.openVault=function(b,e){var q=h.performanceReporter.TYPE.OPEN_VAULT+":"+Date.now();a.performanceReporterFactory.reportStartForComponent(h.performanceReporter.COMPONENT.IDSAFE,q);var r=f.vaultKeys.getUnlockUsingMobileFlag();if(!m(b)&&!1===r)throw Error("Either a password or a flag should be set");
if(!l(e))throw Error("callback should be a function");g.load(function(g,l){g||d.error("Could not load cookie manager "+l.toString());k.openAndLoadVault(b,function(g,k){k=f.statusReporter;switch(g.getState()){case f.vaultManager.constructor.state.NETWORK_ERROR:case f.vaultManager.constructor.state.NOT_LOGGED_IN:case f.vaultManager.constructor.state.O2_RATE_LIMITED_ERROR:case f.vaultManager.constructor.state.SSO_UNAUTHORIZED:case f.vaultManager.constructor.state.DATASTORE_RATE_LIMITED:case f.vaultManager.constructor.state.INTERNAL_ERROR:f.signIn.removeSignInTab();
return;case f.vaultManager.constructor.state.VAULT_NOT_FOUND:k.reportVaultState(g.getState());f.signIn.removeSignInTab();return;case f.vaultManager.constructor.state.CLIENT_UNAUTHORIZED:k=!0;break;case f.vaultManager.constructor.state.VAULT_SYNCED:f.compromisedPasswordHelper.isCompromisedPasswordFlowInProgress()&&f.telemetryWrapper.sendVaultOpenFromCP();k=!0;f.signIn.removeSignInTab();a.performanceReporterFactory.reportStopForComponent(h.performanceReporter.COMPONENT.IDSAFE,q);c._migrateSettings(b);
break;default:d.log(g.getAdditionalInfo());return}k&&e(g,Error(g.getAdditionalInfo()))})})};c._migrateSettings=function(a){if(!1===r.getMigrateIDSSettings()){var c=b.getNAGUID();f.settings.initialize(c+a,function(a,b){if(a){var c=f.settings.getSettings();a=f.vaultKeys.getEncryptionKey();f.settings.initialize(e.utils.createStringBufferFromUint8Buffer(a),function(a,b){a?(f.settings.setSettings(c),r.setMigrateIDSSettings(!0),d.info("Settings migrated successfully.")):d.error("Could not load extension settings "+
b.toString())})}else d.error("Could not load extension settings "+b.toString())})}else a=f.vaultKeys.getEncryptionKey(),f.settings.initialize(e.utils.createStringBufferFromUint8Buffer(a),function(a,b){a||d.error("Could not load extension settings "+b.toString())})};c.createVault=function(a,b,d){k.createVault(a,b,d)};c.deleteVault=function(a){if(!l(a))throw Error("callback should be a function");k.deleteVault(function(b,d){a(b,d)})};c.doesVaultExist=function(a){k.doesVaultExist(a)};c._postNALogout=
function(b,d,c,g){if(b){f.appNode.reset();var e=f.notificationIcon.getGoodIcon();var h=a.localizer.getLocalizedString("You have successfully logged out of your Norton Account.")}else e=f.notificationIcon.getErrorIcon(),h=a.localizer.getLocalizedString("Sorry, something went wrong. Please try again.");!1!==c&&(c=new a.TimedNotification(h,e),a.notificationCenter.addNotification(c),l(g)&&g(b,d))};c.logoutNA=function(d,f){p(f)&&(f=!0);a.utils.createCustomHTMLEvent(h.EVENTS.SIGN_OUT);this.closeVault();
b.logout(function(b,g){"Safari"===a.globals.BROWSER?a.extensionAdapter.createTab(e.authSCD.SSO_LOGOUT_URL,function(e){e.addEventListener("navigate",function(h){h=a.extensionAdapter.getTabID(e);a.extensionAdapter.closeTabAndEnsureBrowserIsAlive(h);c._postNALogout(b,g,f,d)})}):c._postNALogout(b,g,f,d)})};c.closeVault=function(b){a.utils.createCustomHTMLEvent(h.EVENTS.VAULT_CLOSED);g.unload();k.closeVault(b);f.idscNode.reset();a.extensionAdapter.getAllTabs(function(b){b.forEach(function(b){var d=a.extensionAdapter.getTabID(b);
b.url===a.extensionAdapter.getExtensionURL("content/ui/vault-setup-complete.html")||b.url===a.extensionAdapter.getExtensionURL("content/ui/change-vault-password.html")?a.extensionAdapter.closeTabAndEnsureBrowserIsAlive(d):a.extensionAdapter.sendMessageToTab(b,{id:q.VAULT_CLOSED})})});f.uiService.setBrowserActionIcon(!1)};return c}(e.SymBfw,e.SymO2,e.IDSafe)})(executionContext);
(function(e){e.IDSafe.signIn=function(a,e,f){var c={},b=a.settings,g=a.utils.isNil,k=a.utils.isntNil,p=f.constants,l=a.logger,m=f.uiConstants,d=a.extensionAdapter,h=f.vaultUnlockSettings;c.setContainer=function(a){g(a)&&l.error("SignIn session container is not initialized");this._signInSessionContainer=a};c.resetContainer=function(){this._windowID=this._tabID=null;if(!g(this._signInSessionContainer))try{b.resetSettingsCollection(p.SIGNIN_SESSION_CONTAINER,function(a,b){a||l.error("Could reset signIn session container. Error : "+
b)})}catch(q){l.log("Could reset signIn session container. Error : "+q)}};c.changeTabFocus=function(a,b){var c=this;d.getTab(a,function(a){if(k(d.getLastError())||g(a))c.resetContainer(),c.checkIfTabExistElseCreate(b);else{var f=d.getTabID(a);d.activateTab(f);d.focusWindow(d.getWindowIDForTab(a))}})};c.checkIfTabExistElseCreate=function(b){if(g(this._signInSessionContainer))return l.error("SignIn session container is not initialized"),Promise.resolve();var c=this;if(k(this._tabID))return c.changeTabFocus(this._tabID,
b),Promise.resolve();c._tabID=this._signInSessionContainer.getObject(p.TAB_ID);c._windowID=this._signInSessionContainer.getObject(p.WINDOW_ID);return k(c._tabID)?(c.changeTabFocus(c._tabID,b),Promise.resolve()):new Promise(function(f){d.createTab(b,function(b){try{d.getLastError(),c._tabID=d.getTabID(b),c._windowID=d.getWindowIDForTab(b),c._signInSessionContainer.setObject(p.TAB_ID,c._tabID),c._signInSessionContainer.setObject(p.WINDOW_ID,c._windowID),a.utils.createCustomHTMLEvent(p.IDSAFE_CREATED_TAB,
{tabId:c._tabID})}catch(v){l.error(v)}finally{setTimeout(function(){f()},1)}})})};c.updateTabURL=function(a){d.getTab(this._tabID,function(b){if(0===b.url.indexOf(a))c.changeTabFocus(d.getTabID(b),a);else{var f=d.getTabID(b);d.updateTabUrl(f,a,function(b){c.changeTabFocus(f,a)})}})};c.openCCTPage=function(){var a=p.CCT_URL+"?"+p.CCT_URL_PARAMKEY.USER_AGENT+"=IDSafe/"+(p.VERSION+"/XBrowser/"+p.VERSION+"/CC/"+p.PB_VERSION)+"&"+p.CCT_URL_PARAMKEY.NEW_SESSION+"=true";f.cctWorker.startSignInSession();
this.checkIfTabExistElseCreate(a)};c._openDeleteVaultPage=function(){var a=this;f.session.doesVaultExist(function(b,c,f){k(f)?l.error("Unable to confirm vault. "+f):(b=!0===b?d.getExtensionURL(m.DELETE_VAULT.HTML):d.getExtensionURL(m.NO_VAULT.HTML),k(a._tabID)?a.updateTabURL(b):a.checkIfTabExistElseCreate(b))})};c.openNoVaultPage=function(a){var b=this;a=void 0===a?!1:a;f.session.doesVaultExist(function(c,f,g){c||k(g)||(c=d.getExtensionURL(m.NO_VAULT.HTML),a&&k(b._tabID)&&(d.closeTab(b._tabID),b._tabID=
null),k(b._tabID)?b.updateTabURL(c):b.checkIfTabExistElseCreate(c))})};c.openVaultLoginPage=function(a){a=void 0===a?!0:a;if(f.vaultKeys.isLocked()){var b=this,c=d.getExtensionURL(m.IDSAFE_LOGGING_IN_PROGRESS.HTML),g=null;k(b._tabID)?(b.updateTabURL(c),g=Promise.resolve()):g=b.checkIfTabExistElseCreate(c);g.then(function(){f.session.doesVaultExist(function(c,f,g){k(g)||(f=h.getRegisteredDevice(),!0===c?c=a&&k(f)?"vault-mobile-unlock.html":"vault-unlock.html":(k(f)&&h.removeNAGuidSettings(),c="no-vault.html"),
c=d.getExtensionURL("content/ui/"+c),k(b._tabID)?b.updateTabURL(c):b.checkIfTabExistElseCreate(c))})})}};c.openLoginFlow=function(a){this._isDeleteVaultFlow=void 0===a?!1:a;var b=this;e.session.isLoggedIn(function(a,d){a?b.openVaultLoginPage():b.openCCTPage()})};c.isSignInTab=function(a){return c._tabID===a};c.getState=function(){g(this.state)&&(this.state=a.utils.createNewGuid());return this.state};c.resetState=function(){this.state=null};c.onTabClosed=function(a,b){b=void 0===b?!1:b;g(this._tabID)||
a!==this._tabID||(this.resetContainer(),b&&f.telemetryWrapper.deleteVaultSSOPageClosed())};c.onTabReplaced=function(a,b){g(this._tabID)||b!==this._tabID||(this._tabID=a)};c.closeSignInTab=function(b){(function(c){d.getAllWindows(function(f){1===f.length?d.getAllTabs(function(a){1===a.length&&d.createTab();d.closeTab(c)}):d.closeTab(c);b!==m.VAULT_UNLOCK.MESSAGES.SIGNOUT_OF_NA&&a.utils.createCustomHTMLEvent(p.IDSAFE_CLOSED_TAB,{tabId:c})})})(this._tabID)};c.removeSignInTab=function(a){g(this._tabID)||
(this.closeSignInTab(a),this.resetContainer())};c.onWindowClosed=function(a){g(this._windowID)||a===this._windowID&&this.resetContainer()};c.processVaultFlow=function(){!1===this._isDeleteVaultFlow?c.openVaultLoginPage():(f.telemetryWrapper.deleteVaultSSOLoginSuccess(),c._openDeleteVaultPage())};return c}(e.SymBfw,e.SymO2,e.IDSafe)})(executionContext);
(function(e){e.IDSafe.loginUnlock=function(a,e,f){e={};var c=a.utils.isNil,b=a.utils.isntNil,g=a.extensionAdapter,k={};e.getMap=function(){return k};e.getKeyTabId=function(a){return parseInt(a.split(",")[1],10)};e.getKeyWindowId=function(a){return parseInt(a.split(",")[0],10)};e.getKey=function(a,b){return""+a+","+b};e.removeKeyFromMap=function(a,b){this.getKey(a,b)in k&&delete k[this.getKey(a,b)]};e.addMapEntry=function(a,b,c,d){k[a]={windowId:b,tabId:c,loginId:d}};e.getLoginIdFromLoginUnlockPage=
function(a){for(var b in k){this.getKeyTabId(b);var c=k[b];if(c.tabId===a)return c.loginId}return null};e.updateLoginIdForKey=function(a,b,c){a=this.getKey(a,b);k[a].loginId=c};e.getParentTabId=function(a){for(var b in k){var c=this.getKeyTabId(b);if(k[b].tabId===a)return c}return null};e.changeTabFocus=function(a,b){var f=this;g.getTab(a,function(d){c(d)?g.getActiveTab(function(a){var d=g.getTabID(a);a=g.getWindowIDForTab(a);f.removeKeyFromMap(a,d);f.checkIfTabExistElseCreate(a,d,b)}):(g.activateTab(a),
g.focusWindow(g.getWindowIDForTab(d)))})};e.checkIfTabExistElseCreate=function(a,c,f){var d=k[this.getKey(a,c)],e=this;b(d)?(d.loginId!==f&&e.updateLoginIdForKey(a,c,f),e.changeTabFocus(d.tabId,f)):g.createTab(g.getExtensionURL("content/ui/login-unlock.html"),function(b){e.addMapEntry(e.getKey(a,c),g.getWindowIDForTab(b),g.getTabID(b),f)})};e.openLoginUnlockPage=function(a){var b=this;g.getActiveTab(function(c){b.checkIfTabExistElseCreate(g.getWindowIDForTab(c),g.getTabID(c),a)})};e.onTabClosed=function(a){for(var b in k){var c=
this.getKeyTabId(b),d=this.getKeyWindowId(b),f=k[b];c!==a&&f.tabId!==a||this.removeKeyFromMap(d,c)}};e.onWindowClosed=function(a){for(var b in k){var c=this.getKeyTabId(b),d=this.getKeyWindowId(b),f=k[b];d!==a&&f.windowId!==a||this.removeKeyFromMap(d,c)}};e.showLoginAttemptsExceededNotification=function(){var b=a.localizer.getLocalizedString("You have unsuccessfully tried to unlock login too many times. Please try again later."),c=a.localizer.getLocalizedString("__LONG_PRODUCT_NAME__");b=new a.TimedNotification(b,
f.notificationIcon.getErrorIcon(),c);a.notificationCenter.addNotification(b)};return e}(e.SymBfw,e.SymO2,e.IDSafe)})(executionContext);
(function(e){var a=IDSafe.uiConstants,k=a.POPUP.MESSAGES,f=a.BROWSER_ACTION_POPUP,c=f.MESSAGES,b=f.TYPE,g=SymO2.session,B=SymBfw.localizer,p=SymBfw.utils.baseURL,l=a.AUTO_PASSWORD_CHANGER_OVERLAY.MESSAGES,m=a.COMPROMISED_PASSWORD_RIBBON.MESSAGES,d=[k.POPUP_INIT,k.POPUP_LOGIN_ITEM_SELECTED,k.POPUP_CARD_ITEM_SELECTED,k.POPUP_GENERATE_PASSWORD_CLICKED,l.OVERLAY_INIT,l.OVERLAY_HIDE,m.RIBBON_HIDE,m.RIBBON_SHOW,a.COMPROMISED_PASSWORD_MODAL.MESSAGES.MODAL_HIDE],h={uiDirection:null,getBrowserActionPopupType:function(a){g.isLoggedIn(function(d){var c=
{},e=null;!1===d?e=b.SIGNIN:!1===IDSafe.vaultKeys.isLocked()?e=b.MAIN_UI:(c.email=g.getEmail(),e=b.OPEN_VAULT);c.strings=B.getLocalizedStrings(f.STRINGS[e]);Object.assign(c.strings,SymBfw.localizer.getLocalizedStringsWithFormat(f.formatStrings));c.direction=h.uiDirection||B.getCurrentLanguageDirection();e===b.MAIN_UI?(c.dontAsk=IDSafe.settings.getDoNotAskAgain(),c.forceSyncInProgress=IDSafe.mainUI.forceSyncInProgress,IDSafe.mainUI.getCurrentSiteName(function(b){c.currentSite=p(b);IDSafe.mainUI.getMatchLoginIdDictByURL(b,
function(b){c.currentSiteLoginCount=Object.keys(b).length;c.logins=IDSafe.mainUI.getLoginsInOrder(b);c.hideFavicon=IDSafe.settings.getHideFavicon();a(e,c)})})):a(e,c)})},setBrowserActionIcon:function(a){a=a?IDSafe.extension.getIconOnPath():IDSafe.extension.getIconOffPath();SymBfw.extensionAdapter.setBrowserIcon({path:a})},handleMessage:function(a,b,f){if(-1<d.indexOf(a.id))return a.id===k.POPUP_LOGIN_ITEM_SELECTED&&IDSafe.fillCaptureHandler.addAutFilledItemGuid(f.id,a.payload.itemID),SymBfw.extensionAdapter.sendMessageToTab(f,
a,function(a){b(a)}),!0;switch(a.id){case c.INIT:return h.getBrowserActionPopupType(function(a,d){b({popupType:a,data:d})}),!0}}};e.IDSafe.uiService=h})(executionContext);
(function(e){e.IDSafe.statusReporter=function(a,e,f){var c={},b=a.utils.isNil,g=a.utils.isntNil,k=a.localizer,p=a.utils.isSuccessCode,l=f.vaultManager.constructor.state,m=a.notificationCenter,d=e.sso;c.defaultStrings={DEFAULT_SESSION_EXPIRY_STRING:"Your session has expired. Please log in to your Norton Account.",DEFAULT_ERROR_STRING:"Sorry, something went wrong. Please try again.",DEFAULT_LOGIN_ADD_STRING:"Your new login has been successfully saved.",DEFAULT_LOGIN_UPDATE_STRING:"Your login has been successfully updated.",
DEFAULT_VAULT_UNLOCK_STRING:"Please unlock your vault and try again.",DEFAULT_VAULT_SYNC_STRING:"Vault sync is complete."};c.context={LOGIN_ADD:"Login_Add",LOGIN_UPDATE:"Login_Update",MERGE:"Merge"};c.reportHttpStatusCode=function(d,g,e){if(b(d))throw Error("Http code cannot be null");var h=null;if(p(d)){switch(g){case c.context.LOGIN_ADD:h="Your new login has been successfully saved.";break;case c.context.LOGIN_UPDATE:h="Your login has been successfully updated.";break;case c.context.MERGE:h="Vault sync is complete."}c.addNotification(f.notificationIcon.getGoodIcon(),
h,e)}else d===a.constants.httpStatusCodes.UNAUTHORIZED||d===a.constants.httpStatusCodes.BAD_REQUEST?(h="Your session has expired. Please log in to your Norton Account.",c.logoutCheckBasedOnSSOToken()):h="Sorry, something went wrong. Please try again.",c.addNotification(f.notificationIcon.getErrorIcon(),h,e)};c.reportVaultState=function(a,d){if(b(a))throw Error("Vault State cannot be null");switch(a){case l.SSO_UNAUTHORIZED:a="Your session has expired. Please log in to your Norton Account.";var g=
f.notificationIcon.getErrorIcon();break;case l.CLIENT_UNAUTHORIZED:a="Please unlock your vault and try again.";g=f.notificationIcon.getErrorIcon();f.session.closeVault();break;case l.VAULT_SYNCED:a="Vault sync is complete.";g="content/images/ic-logo-good.svg";break;case l.NETWORK_ERROR:case l.O2_RATE_LIMITED_ERROR:a="Sorry, something went wrong. Please try again.";g=f.notificationIcon.getErrorIcon();break;default:a="Sorry, something went wrong. Please try again.",g=f.notificationIcon.getErrorIcon()}c.addNotification(g,
a,d)};c.logoutCheckBasedOnSSOToken=function(){d.getTokensFromRefreshToken(function(a,b){p(a)?f.session.closeVault():(f.session.logoutNA(null,!1),c.reportVaultState(l.SSO_UNAUTHORIZED))})};c.addNotification=function(d,c,f){if(b(d))throw Error("Notification image cannot be null");if(b(c)&&b(f))throw Error("No default string or localized string provided");var e=a.localizer.getLocalizedString("__LONG_PRODUCT_NAME__");g(f)?d=new a.TimedNotification(f,d,e):(c=k.getLocalizedString(c),d=new a.TimedNotification(c,
d,e));m.addNotification(d)};return c}(e.SymBfw,e.SymO2,e.IDSafe)})(executionContext);
(function(e){e.IDSafe.extension=function(a,e,f){var c={},b=a.utils.isNil,g=a.utils.isntNil,k=a.localizer,p=a.extensionAdapter;c.initializeInformation=function(a){if(b(a))throw Error("Callback cannot be null");if(g(c.manifestDict))setTimeout(function(){a(!0)},1);else{c.productName=k.getLocalizedStringFromNativeLocalizer("extensionName");var f=new XMLHttpRequest;f.open("GET",p.getExtensionURL("manifest.json"),!0);f.addEventListener("load",function(b){200===b.target.status?(c.manifestDict=JSON.parse(b.target.response),
c.version=c.manifestDict.version,a(!0)):a(!1)});f.send(null)}};c.getClientID=function(){if(b(f.globalSettings.getValue(f.constants.CGUID)))if(b(f.cguid))var a=e.authSCD.getMachineGUID();else f.globalSettings.setValue(f.constants.CGUID,f.cguid),a=f.cguid;else a=f.globalSettings.getValue(f.constants.CGUID);return a};c.getVersion=function(){return this.version};c.getProductName=function(){return this.productName};c.getManifestDict=function(){return this.manifestDict};c.getIconOnPath=function(){return f.uiConstants.BROWSER_ACTION_POPUP.ICON_ON_PATH};
c.getIconOffPath=function(){return f.uiConstants.BROWSER_ACTION_POPUP.ICON_OFF_PATH};return c}(e.SymBfw,e.SymO2,e.IDSafe)})(executionContext);
(function(e){e.IDSafe.verifyPasswordRequest=function(a,e,f){var c=a.utils.isNil,b=a.utils.isntNil,g=a.extensionAdapter,k=f.uiConstants.VERIFY_VAULT_PASSWORD,p=k.messages,l=a.logger,m=0,d={_objectMap:{},_windowIDsToCloseMap:{},_tabIDsToCloseMap:{},beginOrContinueVerifyVaultPasswordFlow:function(a,b,f,e,k){if(c(a))throw Error("TabID cannot be null");if(c(b))throw Error("WindowID cannot be null");if(c(f))throw Error("Callback function cannot be null");var h=this,l=this._objectMap[a];if(c(l)){l={};l.requestorTabID=
a;l.requestorWindowID=b;l.callback=f;l.uniqueID=e;l.description=k;this._objectMap[a]=l;var n=d.getKey(l.requestorWindowID,l.requestorTabID);this._windowIDsToCloseMap[n]=l.requestorTabID;this._tabIDsToCloseMap[l.requestorTabID]=l.requestorTabID;g.createTab(g.getExtensionURL("content/ui/verify-vault-password.html"),function(b){l.tabID=g.getTabID(b);l.windowID=g.getWindowIDForTab(b);var c=d.getKey(l.windowID,l.tabID);h._windowIDsToCloseMap[c]=l.requestorTabID;h._tabIDsToCloseMap[g.getTabID(b)]=l.requestorTabID;
l.timeout=d.timeoutFlow(a)})}else{var q=l.tabID;g.getTab(q,function(h){c(h)?(d.removeFlow(q),setTimeout(function(){d.beginOrContinueVerifyVaultPasswordFlow(a,b,f,e,k)},1)):(g.activateTab(g.getTabID(h)),g.focusWindow(g.getWindowIDForTab(h)))})}},timeoutFlow:function(a){return setTimeout(function(){d.removeFlow(a)},6E4)},removeFlow:function(a,b){b=void 0===b?!0:b;var f=this._objectMap[a];if(!c(f)){clearTimeout(f.timeout);var e=f.callback;b&&e(!1);b=f.tabID;e=d.getKey(f.windowID,b);var h=f.requestorTabID;
f=d.getKey(f.requestorWindowID,h);delete this._objectMap[a];delete this._windowIDsToCloseMap[e];delete this._windowIDsToCloseMap[f];delete this._tabIDsToCloseMap[b];delete this._tabIDsToCloseMap[h];g.closeTab(b)}},handleMessage:function(h,q,r){var t=h.id;if(!c(r)){r=g.getTabID(r);var u=d._tabIDsToCloseMap[r];if(!c(u)){var v=d._objectMap[u];if(!c(v)){var w=v.requestorWindowID;switch(t){case p.UI_INIT:m=0;h={};h.direction=a.localizer.getCurrentLanguageDirection();h.strings=a.localizer.getLocalizedStrings(k.strings);
Object.assign(h.strings,a.localizer.getLocalizedStringsWithFormat(k.formatStrings));b(v.description)&&(t=a.localizer.getLocalizedString(v.description),h.strings.description=t);h.passwordHint=f.appNode.getPasswordHint();h.email=e.session.getEmail();q(h);break;case p.VAULT_PASSWORD_VERIFY:return f.vaultKeys.compareWithVaultPassword(h.payload.password,function(a){if(a){try{v.callback(a)}catch(A){l.error(A)}d.removeFlow(u,!1);g.activateTab(u);g.focusWindow(w)}else(m++,a=3<=m,a)?a&&(d.removeFlow(u),f.loginUnlock.showLoginAttemptsExceededNotification()):
q({status:!1,maxRetryCountExceed:a})}),!0;case p.SHOW_LOGIN_ATTEMPT_EXCEEDED_NOTIFICATION:try{v.callback(!1)}catch(n){l.error(n)}d.removeFlow(u)}}}}},handleTabClose:function(a,b){a=d._tabIDsToCloseMap[a];c(a)||d.removeFlow(a)},handleWindowClose:function(a){for(var b in d._windowIDsToCloseMap){var c=d.getWindowIDFromKey(b),f=d.getTabIDFromKey(b);if(Number(c)===a)try{d.removeFlow(f)}catch(u){l.error(u)}}},getTabIDFromKey:function(a){return a.split("-")[1]},getWindowIDFromKey:function(a){return a.split("-")[0]},
getKey:function(a,b){return a+"-"+b}};a.extensionAdapter.addMessageListener(d.handleMessage);a.extensionAdapter.addTabRemovedEventListener(d.handleTabClose);a.extensionAdapter.addWindowRemovedEventListener(d.handleWindowClose);return d}(e.SymBfw,e.SymO2,e.IDSafe)})(executionContext);
(function(e){e.IDSafe.mainUI=function(a,e,f){function c(a){return{id:a.getPath(),username:a.getUsername(),siteName:a.getSiteName(),loginURL:a.getLoginURL(),favorite:a.getFavorite(),secure:a.getSecure()}}var b={},g=a.utils.isNil,k=a.utils.isntNil,p=a.utils.isFunction,l=a.logger,m=e.authSCD,d=f.vaultManager,h=d.constructor.state,q=f.extension,r=f.constants;e=f.uiConstants;var t=e.BROWSER_ACTION_POPUP.MESSAGES,u=e.MESSAGES,v=a.extensionAdapter;b.settingsContainer=null;b.forceSyncInProgress=!1;b.openOnlineVault=
function(){var b=a.localizer.getLocale(),d=b;2<b.length&&(d=b.substr(0,2)+"-"+b.substr(3,2));v.createTab(m.IDSAFE_PORTAL_URL+"/"+d)};b.onTabClosed=function(a){g(this._settingsTabId)||this._settingsTabId!==a||(this._settingsWindowId=this._settingsTabId=null)};b.onWindowClosed=function(a){g(this._settingsWindowId)||this._settingsWindowId!==a||(this._settingsWindowId=this._settingsTabId=null)};b.syncVault=function(a){if(g(a))throw Error("UI callback cannot be null");var b=f.statusReporter;d.forceSyncVault(function(d,
c){c=d.getState();switch(c){case h.CLIENT_UNAUTHORIZED:case h.NETWORK_ERROR:case h.VAULT_LOCKED:a(!1,d);b.reportVaultState(c);break;case h.VAULT_SYNCED:a(!0,d),b.reportVaultState(c)}})};b.openHelp=function(){b.openSiteDirector(r.HELP_SSDCAT)};b.openPrivacyPolicy=function(){b.openSiteDirector(r.PRIVACY_POLICY_SSDCAT)};b.openEula=function(){b.openSiteDirector(r.EULA_SSDCAT)};b.openMobileUnlockKB=function(){var b=r.MOBILE_UNLOCK_KB_URL,d=a.localizer.getNavigatorLanguage().split("-"),c=d[0];d=d[1];g(d)&&
"ja"===c&&(d="JP");g(d)&&(d="US");c=["product="+r.NORTON_IDENTITY_SAFE,"version="+q.getVersion(),"language="+c,"country="+d];b=encodeURI(b+c.join("&"));v.createTab(b)};b.openSiteDirector=function(b){var d=r.SITE_DIRECTOR_URL,c=a.localizer.getNavigatorLanguage().split("-"),f=c[0];c=c[1];g(c)&&"ja"===f&&(c="JP");g(c)&&(c="US");c=XIDSafe.constants.ISO2_ISO3_COUNTRY[c.toUpperCase()];f=r.ISO2_ISO3_LANGUAGE[f.toUpperCase()];d=d.replace("ISO3_COUNTRY_CODE",c);d=d.replace("ISO3_LAN_CODE",f);d=d.replace("SSDCAT_VALUE",
b);v.createTab(d)};b.launchURL=function(a){if(g(a))throw Error("Login Object is NULL");a=d.getItemManager(d.constructor.LOGIN_MANAGER).getItem(a).getLoginURL();var b=new URI(a);""===b.protocol()&&0!==a.indexOf("http")&&(a="https://"+a);b=new URI(a);""!==b.hostname()&&v.createTab(a)};b.openFeedback=function(){var a=r.FEEDBACK_URL,b=q.getProductName(),d=q.getVersion();v.getActiveTab(function(c){var f;g(c)?l.log("Tab is not available"):f=c.url;c=["product="+b,"version="+d];k(f)&&c.push("url="+f);f=encodeURI(a+
c.join("&"));v.createTab(f)})};b.closeVault=function(a){HeartbeatSDK.hbRecurrentPingManager.stop(f.constants.HEARTBEAT.ACTIVE_VAULT_USERS);f.session.closeVault();f.uiService.setBrowserActionIcon(!1);k(a)&&f.settings.setDoNotAskAgain(a,!0)};b.getCurrentSiteName=function(a){if(!p(a))throw Error("callback must be a function");v.getActiveTab(function(b){return k(v.getLastError())?a(null):a(b.url)})};b.getMatchLoginIdDictByURL=function(a,b){var c={};d.getItemManager(d.constructor.LOGIN_MANAGER).search(a,
function(a,d){for(var f in a)d=a[f],d=d.getPath(),c[d]=!0;b(c)})};b.getLoginsInOrder=function(b){var f=r.performanceReporter.TYPE.POPUP_HTML+":"+Date.now();a.performanceReporterFactory.reportStartForComponent(r.performanceReporter.COMPONENT.IDSAFE,f);var e=d.getItemManager(d.constructor.LOGIN_MANAGER).getItems(),g=[],h;for(h in b){var k=c(e[h]);g.push(k)}var l=[];for(h in e)h in b||(k=c(e[h]),l.push(k));l.sort(function(a,b){a=a.siteName.toLowerCase();b=b.siteName.toLowerCase();return a<b?-1:a>b?1:
0});a.performanceReporterFactory.reportStopForComponent(r.performanceReporter.COMPONENT.IDSAFE,f);return g.concat(l)};b.handleMessage=function(a){if(!g(a)&&!g(a.eventID))switch(a.eventID){case t.MISC_OPTIONS_ONLINE_VAULT_CLICKED:f.vaultUnlockManager.removeWelcomeNotification(f.vaultUnlockManager.welcomeNotificationId);f.vaultTabUI.controller.openVaultTabUI();break;case t.MISC_OPTIONS_SETTINGS_CLICKED:f.vaultUnlockManager.removeWelcomeNotification(f.vaultUnlockManager.welcomeNotificationId);f.vaultTabUI.controller.showSettingsModal();
break;case t.MISC_OPTIONS_IMPORT_CLICKED:f.vaultUnlockManager.removeWelcomeNotification(f.vaultUnlockManager.welcomeNotificationId);f.vaultTabUI.controller.showImportModal();break;case t.MISC_OPTIONS_DASHBOARD_CLICKED:f.vaultTabUI.controller.showDashboardtModal();break;case t.MISC_OPTIONS_GENERATE_PASSWORD_CLICKED:f.vaultUnlockManager.removeWelcomeNotification(f.vaultUnlockManager.welcomeNotificationId);f.vaultTabUI.controller.showPasswordGeneratorModal();break;case t.MISC_OPTIONS_SYNC_VAULT:return b.forceSyncInProgress=
!0,b.syncVault(function(a,d){v.sendMessage({id:u.FORCE_SYNC_COMPLETED,payload:{success:a}});b.forceSyncInProgress=!1}),!0;case t.MISC_OPTIONS_HELP_CLICKED:b.openHelp();break;case t.MISC_OPTIONS_PRIVACY_POLICY_CLICKED:b.openPrivacyPolicy();break;case t.MISC_OPTIONS_FEEDBACK_CLICKED:b.openFeedback();break;case t.MISC_OPTIONS_EXPORT_CLICKED:f.exportData.openExportTab();break;case t.CLOSE_VAULT_CLICKED:b.closeVault(a.dontAsk);break;case t.MISC_OPTIONS_MOBILE_UNLOCK_KB_CLICKED:b.openMobileUnlockKB();break;
case t.MISC_OPTIONS_EULA_CLICKED:b.openEula();break;case t.LOGINS_VIEW_LOGIN_CLICKED:b.launchURL(a.loginId)}};return b}(e.SymBfw,e.SymO2,e.IDSafe)})(executionContext);
(function(e){e.IDSafe.Contact=function(a,e){var f=a.utils.isNil,c=a.utils.isntNil,b=e.vaultManager,g=function(){this.identityItem=new e.Identity;this.addressItem=new e.Address};g.prototype.getFavorite=function(){return this.identityItem.getFavorite()};g.prototype.createItemFromKey=function(a){var g=b.getItemManager(b.constructor.IDENTITY_MANAGER),k=b.getItemManager(b.constructor.ADDRESS_MANAGER);this.identityItem=g.getItem(a);a=this.identityItem.getAddressGuid();c(a)&&(this.addressItem=k.getItem(a));
f(this.addressItem)&&(this.addressItem=new e.Address)};g.prototype.initFromDictionary=function(b){var c=b.identityNode;b=b.addressNode;f(b)&&(b={});if(f(c.addressGuid)||f(b.path)||c.addressGuid!==b.path){var e="{"+a.utils.createNewGuid()+"}";c.addressGuid=e;b.path=e}this.identityItem.initFromDictionary(c);this.addressItem.initFromDictionary(b)};g.prototype.updateFromDictionary=function(a){var b=a.identityNode;a=a.addressNode;if(f(b.addressGuid)||f(a.path)||b.addressGuid!==a.path)throw Error("Invalid arguments to Contact.updateFromDictionary");
b=this.identityItem.updateFromDictionary(b);a=this.addressItem.updateFromDictionary(a);return b||a};g.prototype.schemaForKey=function(a){var b=this.identityItem.schemaForKey(a);f(b)&&(b=this.addressItem.schemaForKey(a));return b};g.prototype.serializeNode=function(){var a=this.addressItem.serializeNode(!1,!1),b=JSON.parse(a);b.id=b.path;delete b.path;a=this.identityItem.serializeNode(!1,!1);a=JSON.parse(a);a.id=a.path;delete a.path;var c={};c.addressNode=b;c.identityNode=a;return c};return g}(e.SymBfw,
e.IDSafe)})(executionContext);
(function(e){e.IDSafe.contactHelper=function(a,e){var f=a.utils.isNil,c=a.utils.isntNil,b=a.utils.isEmptyObject,g=e.vaultManager,k=a.utils.isSuccessCode,p=e.uiConstants.VAULT_TAB,l=a.localizer,m=a.logger,d={addItem:function(b,d){g.getItemManager(g.constructor.IDENTITY_MANAGER).addItem(b.identityItem);g.getItemManager(g.constructor.ADDRESS_MANAGER).addItem(b.addressItem);e.nodeSync.uploadNodes([b.identityItem.clone().serializeNode(),b.addressItem.clone().serializeNode()],function(d,c,f){c=e.statusReporter;
var g=k(d);a.utils.createCustomHTMLEvent(e.constants.EVENTS.VAULT_SYNC,{name:p.EVENT_NAME.ADDRESS_BOOK_ADDED,isSuccess:g});!1===g?(m.error("Failed to add node: "+b.identityItem.getPath()+"error: "+f.toString()),c.reportHttpStatusCode(d)):(f=b.identityItem.getCardName(),f=l.getLocalizedStringWithFormat("Your new {0} Address has been saved successfully.",[f]),c.reportHttpStatusCode(d,null,f))},null)},updateItem:function(b){g.getItemManager(g.constructor.IDENTITY_MANAGER).updateItem(b.identityItem);
g.getItemManager(g.constructor.ADDRESS_MANAGER).updateItem(b.addressItem);e.nodeSync.uploadNodes([b.identityItem.clone().serializeNode(),b.addressItem.clone().serializeNode()],function(d,c,f){c=e.statusReporter;var g=k(d);a.utils.createCustomHTMLEvent(e.constants.EVENTS.VAULT_SYNC,{name:p.EVENT_NAME.ADDRESS_BOOK_UPDATED,isSuccess:g});!1===g?(m.error("Failed to add node: "+b.identityItem.getPath()+"error: "+f.toString()),c.reportHttpStatusCode(d)):(f=b.identityItem.getCardName(),f=l.getLocalizedStringWithFormat("Your new {0} Address has been successfully updated.",
[f]),c.reportHttpStatusCode(d,null,f))},null)},deleteItem:function(b,d){var c=g.getItemManager(g.constructor.IDENTITY_MANAGER),h=g.getItemManager(g.constructor.ADDRESS_MANAGER),l=c.getItem(b),q=l.getAddressGuid();d=h.getItem(q);if(f(d)||f(l))throw Error("Invalid argument key to contactHelper.deleteItem");c.deleteItem(b);h.deleteItem(q);c=l.serializeNode(!0);d=d.serializeNode(!0);e.nodeSync.uploadNodes([c,d],function(d,c,f){d=k(d);a.utils.createCustomHTMLEvent(e.constants.EVENTS.VAULT_SYNC,{name:p.EVENT_NAME.ADDRESS_BOOK_DELETED,
guid:b,isSuccess:d});!1===d&&m.error("Failed to delete node: "+b+"error: "+f.toString())},null)},uiSearch:function(a,d){var e=g.getItemManager(g.constructor.IDENTITY_MANAGER).getItems();if(b(e))return m.info("Empty identityItems"),null;var h=g.getItemManager(g.constructor.ADDRESS_MANAGER),k=h.getItems();if(b(k))return m.info("Empty addressItems"),null;k=[];for(var l in e){var q=e[l];if(!0===d){var n=q.getFavorite();if(f(n)||!1===n)continue}n=q.getAddressGuid();var p=h.getItem(n);c(p)&&(a=a.toLowerCase(),
n=q.getCardName(),p=p.getCity(),q=q.getFirstName(),n=n?n:"",p=p?p:"",q=q?q:"",(-1<n.toLowerCase().indexOf(a)||-1<p.toLowerCase().indexOf(a)||-1<q.toLowerCase().indexOf(a))&&k.push(l))}return k},getItem:function(a){var b=new e.Contact;b.createItemFromKey(a);return b},getItems:function(){var a={},b=g.getItemManager(g.constructor.IDENTITY_MANAGER).getItems(),c;for(c in b)a[c]=d.getItem(c);return a}};return d}(e.SymBfw,e.IDSafe)})(executionContext);
(function(e){e.IDSafe.browserImportSettings=function(a,e){var f={},c=a.settings,b=e.constants,g=a.utils.isNil,k=a.utils.isntNil,p=a.logger;f.settingsContainer=null;f.initialize=function(){var a=c.loadSettingsContainer(b.BROWSER_PASSWORD_IMPORT_CONTAINER,!1);if(g(a))return p.error("failed to load BROWSER_PASSWORD_IMPORT_CONTAINER"),!1;this.settingsContainer=a;return!0};f.resetContainer=function(){if(!g(this.settingsContainer))try{c.resetSettingsCollection(b.BROWSER_PASSWORD_IMPORT_CONTAINER,function(a,
b){a||p.error("Couldn't reset browser import container. Error : "+b)})}catch(l){p.error("Couldn't reset browser import container. Error : "+l)}};f.getImportMgrKey=function(){var a=f.getValue(b.IMPORT_MGR_DECRYPT_KEY);return g(a)?null:a};f.setImportMgrIV=function(a){k(a)&&f.setValue(b.IMPORT_MGR_DECRYPT_IV,a,!1)};f.getImportMgrIV=function(){var a=f.getValue(b.IMPORT_MGR_DECRYPT_IV);return g(a)?null:a};f.setImportMgrKey=function(a){k(a)&&f.setValue(b.IMPORT_MGR_DECRYPT_KEY,a,!1)};f.setImportMgrHashKey=
function(a){k(a)&&f.setValue(b.IMPORT_MGR_HASH_KEY,a,!1)};f.setImportMgrTag=function(a){k(a)&&f.setValue(b.IMPORT_MGR_TAG,a,!1)};f.getImportMgrTag=function(){var a=f.getValue(b.IMPORT_MGR_TAG);return g(a)?null:a};f.getImportMgrHashKey=function(){var a=f.getValue(b.IMPORT_MGR_HASH_KEY);return g(a)?null:a};f.setValue=function(a,b){g(this.settingsContainer)?p.error("settings not initialized"):this.settingsContainer.setObject(a,b)};f.getValue=function(a){if(g(this.settingsContainer))p.error("settings not initialized");
else return this.settingsContainer.getObject(a)};return f}(e.SymBfw,e.IDSafe)})(executionContext);
(function(e){e.IDSafe.ImportCompetitorUtils=function(a,e){var f=a.utils.isNil,c=a.utils.isntNil,b=a.utils.isArray,g=a.utils.getDomain,k=a.utils.urlWithoutQueryParameters,p=e.constants.IMPORT_MANAGER.JSON_DATA_CONTENT,l=e.constants.IMPORT_MANAGER.COMPETITOR_IMPORT_JSON_SCHEMA,m={createLoginItemDict:function(a){if(f(a)||f(a[l.USERNAME])||f(a[l.PASSWORD])||f(a[l.SITE_NAME])||f(a[l.SITE_URL]))return null;var b={};b.username=a[l.USERNAME];b.password=a[l.PASSWORD];b.siteName=a[l.SITE_NAME];b.loginURL=a[l.SITE_URL];
return b},convertToVaultLoginFormat:function(a){if(!b(a))return null;var d=[];a.forEach(function(a){a=m.createLoginItemDict(a);c(a)&&d.push(a)});return d},createProcessLoginsResponse:function(a,b){var d={};return d[p.STATUS]=a,d[p.LOGINDATA]=b,d},getDomainFromUrl:function(a){if(f(a))return null;a=k(a,!0);a=g(a);return c(a)?a:null}};return m}(e.SymBfw,e.IDSafe)})(executionContext);
(function(e){var a=function(){return window.CompromisedPasswordSDK.ICompromisedPasswordClient.call(this)||this};$jscomp.inherits(a,window.CompromisedPasswordSDK.ICompromisedPasswordClient);a.prototype.getConfig=function(){return IDSafe.compromisedPasswordHelper.getConfig()};a.prototype.getAllLoginAccounts=function(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(a){return a.return(IDSafe.compromisedPasswordHelper.getAllLoginAccounts())})};a.prototype.onSchedulerCompleted=function(a){IDSafe.compromisedPasswordHelper.onSchedulerCompleted(a)};
a.prototype.onSchedulerStarted=function(){IDSafe.compromisedPasswordHelper.onSchedulerStarted()};a.prototype.handleCompromisedPasswordResult=function(a){IDSafe.compromisedPasswordHelper.handleCompromisedPasswordResult(a)};e.IDSafe.CompromisedPasswordClient=a})(executionContext);
(function(e){e.IDSafe.compromisedPasswordHelper=function(a,e,f){var c=f.CompromisedPasswordClient,b=a.extensionAdapter,g=a.logger,k=a.utils.isntNil,p=f.uiConstants.MESSAGES,l=f.uiConstants.COMPROMISED_PASSWORD_RIBBON.MESSAGES,m={_IDSafeCreatedTab:null,_IDSafeClosedTab:null,_ribbonState:{isInProgress:!1,isLoggedIn:null,domain:null},_compromisedPasswordTimeout:null,_strings:{heading1:{"Compromised Password":[]},paragraph1:{"If you have a compromised password, you should change it immediately.":[]},
paragraph2:{"A password is considered compromised when it\u2019s discovered in known lists of stolen account data. Cybercriminals compile these lists and use their passwords to run automated attacks and try to take over user accounts.":[]},paragraph3:{"{0} can assist you by auto-changing your compromised password. It will create a new and strong replacement as a defense against possible threats.":["__LONG_PRODUCT_NAME__"]},paragraph4:{"(To help protect your privacy, {0} does not copy nor transmit your password at any time.)":["__LONG_PRODUCT_NAME__"]},
button:{"Got it":[]},footer1:{"Compromised password data is from":[]},footer2:{"Have I Been pwned":[]}},initialize:function(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(a){if(1==a.nextAddress)return a.yield(CompromisedPasswordSDK.compromisedPasswordManager.init(new c),2);b.addMessageListener(m._handleMessage);b.addTabRemovedEventListener(m._onTabClosed);b.addTabUpdatedEventListener(m._onTabUpdated);window.addEventListener(f.constants.IDSAFE_CREATED_TAB,m._onTabCreated);window.addEventListener(f.constants.IDSAFE_CLOSED_TAB,
m._onIDSafeClosedTab);a.jumpToEnd()})},_onIDSafeClosedTab:function(a){a=a.detail.tabId;m.isCompromisedPasswordFlowInProgress()&&(m._IDSafeClosedTab=a)},_onTabCreated:function(a){a=a.detail.tabId;m.isCompromisedPasswordFlowInProgress()&&(m._IDSafeCreatedTab=a)},_onTabClosed:function(a){m.isCompromisedPasswordFlowInProgress()&&m._IDSafeCreatedTab===a&&m._IDSafeClosedTab!==a&&f.fillCaptureHandler.resetCompromisedPasswordFlowState()},_onTabUpdated:function(d,c){var g=c.status;c=c.url;var h=a.utils.baseURL(c);
g&&c&&m.isCompromisedPasswordFlowInProgress()&&m._IDSafeCreatedTab===d&&!f.constants.CCT_DOMAIN.includes(h)&&!c.startsWith(e.authSCD.SSO_LOGIN_URL)&&!c.startsWith(b.getExtensionURL("content/ui/"))&&f.fillCaptureHandler.resetCompromisedPasswordFlowState()},_initLocalizationForModal:function(b){var c={},d={},f;for(f in b){var e=$jscomp.makeIterator(Object.keys(b[f])).next().value;c[e]=b[f][e]}var g=a.localizer.getLocalizedStringsWithFormat(c);Object.keys(b).forEach(function(a){var c=$jscomp.makeIterator(Object.keys(b[a])).next().value;
d[a]=g[c]});return d},_handleMessage:function(c,e,k){var d=c.id;c=c.payload;b.getTabID(k);switch(d){case p.COMPROMISED_PASSWORD_CHECK:CompromisedPasswordSDK.compromisedPasswordManager.startPasswordCheck(c.fetchFromServer,c.accountLogin,function(a){b.sendMessageToTab(k,{id:p.COMPROMISED_PASSWORD_CHECK_RESPONSE,payload:{compromisedPasswordResult:a}})}).catch(function(a){return g.error(a)});break;case l.RIBBON_INIT:e(m._ribbonState);break;case f.uiConstants.COMPROMISED_PASSWORD_MODAL.MESSAGES.MODAL_INIT:d=
m._initLocalizationForModal(m._strings),d.dir=a.localizer.getCurrentLanguageDirection(),e(d)}},getConfig:function(){return{POLL_FREQUENCY_IN_MINS:f.constants.COMPROMISED_PASSWORD_CONFIG.POLL_FREQUENCY_IN_MINS}},getAllLoginAccounts:function(){if(f.vaultKeys.isLocked())return null;var b=[],c=f.vaultManager.getItemManager(f.vaultManager.constructor.LOGIN_MANAGER).getItems();if(a.utils.isEmptyObject(c))return[];try{for(var e in c){var k=c[e].serializeNode(!1,!1),l=JSON.parse(k);b.push({username:l.username,
password:l.password})}}catch(u){return g.error("Error while getting login items "+u),null}return b},onSchedulerStarted:function(){g.log("[IDSAFE] Compromised passwords scheduler has started")},onSchedulerCompleted:function(a){g.log("[IDSAFE] Scheduler completed result: "+JSON.stringify(a))},handleCompromisedPasswordResult:function(a){g.log("[IDSAFE] Scheduler checked result: "+JSON.stringify(a))},setRibbonState:function(a){m._ribbonState={isInProgress:a.isInProgress,isLoggedIn:a.isLoggedIn,domain:a.domain}},
doesVaultExists:function(){return new Promise(function(a,b){f.session.doesVaultExist(function(b,c,d){k(d)&&g.error(d);a(b)})})},isUserLoggedIn:function(){return new Promise(function(a,b){e.session.isLoggedIn(function(b,c){k(c)&&g.error(c);a(b)})})},promptToLoginToNortonAccount:function(a,b){f.signIn.openLoginFlow();m.setRibbonState({isInProgress:!0,isLoggedIn:a,domain:b})},promptToCreateVault:function(a,b){f.signIn.openNoVaultPage(!0);m.setRibbonState({isInProgress:!0,isLoggedIn:a,domain:b})},promptToOpenVault:function(a,
b){f.signIn.openVaultLoginPage();m.setRibbonState({isInProgress:!0,isLoggedIn:a,domain:b})},checkCompromisedPassword:function(a){var b=[{password:a.password,guid:a.path}];return new Promise(function(a,c){CompromisedPasswordSDK.compromisedPasswordManager.startPasswordCheck(!0,b,function(b){return a(b)}).catch(function(a){c(a)})})},setCompromisedPasswordTimeout:function(){m._compromisedPasswordTimeout=setTimeout(function(){k(m._IDSafeCreatedTab)&&b.closeTab(m._IDSafeCreatedTab);f.fillCaptureHandler.resetCompromisedPasswordFlowState()},
3E5)},resetCompromisedPasswordTimeout:function(){k(m._compromisedPasswordTimeout)&&(clearTimeout(m._compromisedPasswordTimeout),m._compromisedPasswordTimeout=null)},setCompromisedPasswordFlowInProgress:function(a){m._compromisedPasswordFlowInProgress=a;m.resetCompromisedPasswordTimeout();a&&m.setCompromisedPasswordTimeout()},isCompromisedPasswordFlowInProgress:function(){return m._compromisedPasswordFlowInProgress},_compromisedNotificationVisible:!1,setCompromisedNotificationVisible:function(a){m._compromisedNotificationVisible=
a},isCompromisedNotificationVisible:function(){return m._compromisedNotificationVisible},isCompromisedPasswordFlowEnabled:function(){return f.constants.COMPROMISED_PASSWORD_CONFIG.FEATURE_ENABLED}};return m}(e.SymBfw,e.SymO2,e.IDSafe)})(executionContext);
(function(e){e.IDSafe.importUtils=function(a,e){var f={},c=a.utils.isNil,b=a.utils.isArray,g=a.utils.urlProtocol,k=e.constants.VAULT_VALIDATION.LOGIN_DATA,p=e.constants.IMPORT_MANAGER,l=e.constants;f._isSizeWithinRange=function(a,b,f){return c(a)||a.length<b||a.length>f?!1:!0};f._setHTTPSProtocol=function(a){var b=g(a);if(c(b))return a=l.HTTPS_PROTOCOL+"://"+a;b===l.HTTP_PROTOCOL&&(a=a.replace(l.HTTP_PROTOCOL,l.HTTPS_PROTOCOL));return a};f.sanitizeLoginData=function(a,c){if(!b(c))return c;var d=[],
e;for(e in c)f._isSizeWithinRange(c[e].siteName,k.SITE_NAME_MIN_SIZE,k.SITE_NAME_MAX_SIZE)&&f._isSizeWithinRange(c[e].siteUrl,k.SITE_URL_MIN_SIZE,k.SITE_URL_MAX_SIZE)&&(c[e].siteUrl=f._setHTTPSProtocol(c[e].siteUrl),f._isSizeWithinRange(a===p.BROWSER?c[e].login:c[e].username,k.USERNAME_MIN_SIZE,k.USERNAME_MAX_SIZE)&&f._isSizeWithinRange(c[e].password,k.PASSWORD_MIN_SIZE,k.PASSWORD_MAX_SIZE)&&d.push(c[e]));return d};return f}(e.SymBfw,e.IDSafe)})(executionContext);
(function(e){e.IDSafe.competitorImport=function(){var a=function(){};a.prototype.convertToVaultFormat=function(a){throw Error("Should be implemented in the derived class");};a.prototype.processLogins=function(a){throw Error("Should be implemented in the derived class");};a.prototype.cleanupSettings=function(){throw Error("Should be implemented in the derived class");};return a}()})(executionContext);
(function(e){e.IDSafe.LastPassImport=function(a,e){var f=e.competitorImport,c=e.ImportCompetitorUtils,b=a.utils.isntNil,g=a.utils,k=a.utils.urlWithoutQueryParameters,p=e.constants.IMPORT_MANAGER.VAULT_FORMAT_DATA,l=e.constants.IMPORT_MANAGER.RESPONSE_CODE,m={url:0,username:1,password:2,extra:3,name:4,grouping:5,fav:6},d=function(){f.call(this);this.schema=m;var a={};this.vaultData=(a[p.LOGINS]=[],a)};d.prototype=Object.create(f.prototype);d.createLastPassImport=function(){return new d};d.prototype.processLogins=
function(a){if(g.isEmptyObject(a))return c.createProcessLoginsResponse(l.UPLOAD_ERROR,{});var f=null;try{f=JSON.parse(a)}catch(u){return c.createProcessLoginsResponse(l.UPLOAD_ERROR,{})}if(g.isEmptyObject(f))return c.createProcessLoginsResponse(l.UPLOAD_ERROR,{});a=[];for(var e in f)if(0==e){if(!d._isValidLastPassSchema(f[e]))return c.createProcessLoginsResponse(l.UPLOAD_ERROR,{})}else{var h=d._createLastPassLoginItem(f[e]);b(h)&&a.push(h)}return c.createProcessLoginsResponse(l.SUCCESS,a)};d._isValidLastPassSchema=
function(a){for(var b in a)if(m[a[b]]!=b)return!1;return!0};d._createLastPassLoginItem=function(a){if(!d._isValidLastPassLogin(a))return null;var b={};b.username=a[m.username];b.password=a[m.password];b.siteUrl=a[m.url];g.isntNil(a[m.name])&&(b.siteName=a[m.name]);return b};d._isValidLastPassLogin=function(a){return g.isEmptyObject(a[m.username])||g.isEmptyObject(a[m.password])||g.isEmptyObject(a[m.url])||(a=k(a[m.url]),!b(a)||a===e.constants.IMPORT_MANAGER.LASTPASS_NOTES_URL)?!1:!0};d.prototype.convertToVaultFormat=
function(a){this.vaultData[p.LOGINS]=c.convertToVaultLoginFormat(a);return this.vaultData};d.prototype.cleanupSettings=function(){var a={};this.vaultData=(a[p.LOGINS]=[],a)};return d}(e.SymBfw,e.IDSafe)})(executionContext);
(function(e){e.IDSafe.DashlaneImport=function(a,e){var f=e.competitorImport,c=e.ImportCompetitorUtils,b=a.utils.isNil,g=a.utils.isntNil,k=a.utils,p=a.utils.isArray,l=e.constants.IMPORT_MANAGER.VAULT_FORMAT_DATA,m=e.constants.IMPORT_MANAGER.RESPONSE_CODE,d={url:0,siteName:1,username:2,password:3},h={url:0,siteName:1,username:2,password:4},q={url:0,siteName:1,username:2,password:5},r=[5,6,7],t=function(){f.call(this);var a={};this.vaultData=(a[l.LOGINS]=[],a)};t.prototype=Object.create(f.prototype);
t.createDashlaneImport=function(){return new t};t.prototype.processLogins=function(a){if(k.isEmptyObject(a))return c.createProcessLoginsResponse(m.UPLOAD_ERROR,{});var b=null;try{b=JSON.parse(a)}catch(A){return c.createProcessLoginsResponse(m.UPLOAD_ERROR,{})}if(k.isEmptyObject(b))return c.createProcessLoginsResponse(m.UPLOAD_ERROR,{});a=[];for(var d in b){var f=t._createDashlaneLoginItem(b[d]);g(f)&&a.push(f)}return c.createProcessLoginsResponse(m.SUCCESS,a)};t._getSchemaForColumn=function(a){var b=
null;switch(a){case 5:b=d;break;case 6:b=h;break;case 7:b=q}return b};t._createDashlaneLoginItem=function(a){if(!t._isValidDashlaneLogin(a))return null;var b=t._getSchemaForColumn(a.length),c={};c.username=a[b.username];c.password=a[b.password];c.siteUrl=a[b.url];g(a[b.siteName])&&(c.siteName=a[b.siteName]);return c};t._isValidDashlaneLogin=function(a){if(!p(a)||0>r.indexOf(a.length))return!1;var c=t._getSchemaForColumn(a.length);return b(c)||k.isEmptyObject(a[c.url])||k.isEmptyObject(a[c.siteName])||
a[c.url]!==a[c.siteName]?!1:!0};t.prototype.convertToVaultFormat=function(a){this.vaultData[l.LOGINS]=c.convertToVaultLoginFormat(a);return this.vaultData};t.prototype.cleanupSettings=function(){var a={};this.vaultData=(a[l.LOGINS]=[],a)};return t}(e.SymBfw,e.IDSafe)})(executionContext);
(function(e){e.IDSafe.OnePassImport=function(a,e){var f=e.competitorImport,c=e.ImportCompetitorUtils,b=a.utils.isNil,g=a.utils.isntNil,k=a.utils,p=a.utils.isArray,l=a.utils.isString,m=e.constants.IMPORT_MANAGER.VAULT_FORMAT_DATA,d=e.constants.IMPORT_MANAGER.RESPONSE_CODE,h=e.constants.IMPORT_MANAGER.COMPETITOR_IMPORT_JSON_SCHEMA,q=[[{field:h.SITE_URL,type:"REGEX_HEADER",value:/URL/ig},{field:h.SITE_NAME,type:"REGEX_HEADER",value:/Title/ig},{field:h.USERNAME,type:"REGEX_HEADER",value:/Username/ig},
{field:h.PASSWORD,type:"REGEX_HEADER",value:/Password/ig}],[{field:h.SITE_URL,type:"EXACT_HEADER",value:"URL"},{field:h.SITE_NAME,type:"EXACT_HEADER",value:"URL"},{field:h.USERNAME,type:"REGEX_HEADER",value:/(.*)\(smtp_username\)/},{field:h.PASSWORD,type:"REGEX_HEADER",value:/(.*)\(password\)/}],[{field:h.SITE_URL,type:"EXACT_HEADER",value:"urls"},{field:h.SITE_NAME,type:"EXACT_HEADER",value:"title"},{field:h.USERNAME,type:"EXACT_HEADER",value:"ainfo"},{field:h.PASSWORD,type:"NON_EMPTY_VALUE_HEADERS",
ignoredHeaders:["urls","title","ainfo","autosubmit","email","Modified","notesPlain","scope","tags","uuid",/section:.*/],ignoredFieldValue:"ainfo"}]],r=function(){f.call(this);var a={};this.vaultData=(a[m.LOGINS]=[],a)};r.prototype=Object.create(f.prototype);r.createOnePassImport=function(){return new r};r._getIndexOfPrefixColumn=function(a,c){var d=[],f;for(f in a){var e=c.exec(a[f]);b(e)||(1===e.length&&d.push(e[0]),2===e.length&&d.push(e[1]))}for(var g in d)if(c=a.indexOf(d[g]),-1!==c)return c;
return-1};r._isHeaderInIgnoredList=function(a,c){for(var d in c)if(l(c[d])){if(c[d]===a)return!0}else{var f=c[d].exec(a);if(!b(f))return!0}return!1};r._getPossibleHeaderIndices=function(a,b){var c=[],d;for(d in a)!1===r._isHeaderInIgnoredList(a[d],b)&&c.push(d);return 0===c.length?null:c};r._getSchema=function(a){for(var c in q){var d={},f=!1,e=q[c],g;for(g in e){var h=e[g],k=-1;if("EXACT_HEADER"===h.type)k=a.indexOf(h.value);else if("REGEX_HEADER"===h.type)k=r._getIndexOfPrefixColumn(a,h.value);
else if("NON_EMPTY_VALUE_HEADERS"===h.type){k=r._getPossibleHeaderIndices(a,h.ignoredHeaders);if(b(k)){f=!0;d={};break}d[h.field]=k;continue}if(-1===k){f=!0;d={};break}d[h.field]=k}if(!1===f)return d}return null};r.prototype.processLogins=function(a){if(k.isEmptyObject(a))return c.createProcessLoginsResponse(d.UPLOAD_ERROR,{});var f=null;try{f=JSON.parse(a)}catch(A){return c.createProcessLoginsResponse(d.UPLOAD_ERROR,{})}if(k.isEmptyObject(f))return c.createProcessLoginsResponse(d.UPLOAD_ERROR,{});
a=[];var e=null,h;for(h in f)if(0==h){if(e=r._getSchema(f[h]),b(e))return c.createProcessLoginsResponse(d.UPLOAD_ERROR,{})}else{var l=r._createLoginItem(f[h],e);g(l)&&a.push(l)}return c.createProcessLoginsResponse(d.SUCCESS,a)};r._createLoginItem=function(a,d){var f={},e;for(e in d)if(p(d[e])){var g=d[e],k=!1,l;for(l in g)if(!(b(a[g[l]])||1>a[g[l]].length)){if(-1===Object.values(f).indexOf(a[g[l]])){f[e]=a[g[l]];k=!0;break}f[e]=a[g[l]];k=!0}if(!1===k)return null}else{if(b(a[d[e]]))return null;f[e]=
a[d[e]]}f[h.SITE_NAME]===f[h.SITE_URL]&&(f[h.SITE_NAME]=c.getDomainFromUrl(f[h.SITE_URL]));return f};r.prototype.convertToVaultFormat=function(a){this.vaultData[m.LOGINS]=c.convertToVaultLoginFormat(a);return this.vaultData};r.prototype.cleanupSettings=function(){var a={};this.vaultData=(a[m.LOGINS]=[],a)};return r}(e.SymBfw,e.IDSafe)})(executionContext);
(function(e){e.IDSafe.importMgr=function(a,e){var f={},c=e.vaultManager,b=e.constants.IMPORT_MANAGER,g=e.uiConstants.IMPORTMANAGER.MESSAGES,k=e.constants.IMPORT_MANAGER.RESPONSE_CODE,p=e.constants.IMPORT_MANAGER.VAULT_FORMAT_DATA,l=e.constants.IMPORT_MANAGER.JSON_DATA_CONTENT,m=e.uiConstants.VAULT_TAB,d=a.utils.isFunction,h=a.utils.isNil,q=a.utils.isntNil,r=a.utils,t=a.extensionAdapter,u=e.browserImportSettings,v=e.LastPassImport,w=e.DashlaneImport,n=e.OnePassImport,A=a.localizer,E=e.eventUITelemetryWrapper.constants,
D=a.constants.uiConstants,x=e.importUtils,z=e.constants;f._init=function(){t.addMessageListener(f._handleMessage);t.addOnBeforeRequestEventListener(f._onBeforeRequest,[b.PORTAL_PROCESSING_URL],["blocking"])};var C={};f.mapMsgIdToCompetitor=(C[g.IMPORT_BROWSER_LOGINS]=b.BROWSER,C[g.IMPORT_LASTPASS_LOGINS]=b.LASTPASS,C[g.PROCESS_BROWSER_LOGINS]=b.BROWSER,C[g.PROCESS_LASTPASS_LOGINS]=b.LASTPASS,C[g.IMPORT_DASHLANE_LOGINS]=b.DASHLANE,C[g.PROCESS_DASHLANE_LOGINS]=b.DASHLANE,C[g.IMPORT_ONEPASS_LOGINS]=
b.ONEPASS,C[g.PROCESS_ONEPASS_LOGINS]=b.ONEPASS,C);f._handleMessage=function(a,c,d){d=a.id;a=a.payload;switch(d){case g.IMPORT_BROWSER_LOGINS:case g.IMPORT_LASTPASS_LOGINS:case g.IMPORT_DASHLANE_LOGINS:case g.IMPORT_ONEPASS_LOGINS:return setTimeout(f._importLogins,b.MESSAGE_HANDLE_TIMEOUT,f.mapMsgIdToCompetitor[d],a,c),!0;case g.PROCESS_BROWSER_LOGINS:case g.PROCESS_LASTPASS_LOGINS:case g.PROCESS_DASHLANE_LOGINS:case g.PROCESS_ONEPASS_LOGINS:return f._importedFileName=a.fileName,setTimeout(f._processCompetitorLogins,
b.MESSAGE_HANDLE_TIMEOUT,f.mapMsgIdToCompetitor[d],a.data,c),!0;case g.OPEN_COMPETITOR_LEARNMORE:setTimeout(f._openLearnMoreLink,b.MESSAGE_HANDLE_TIMEOUT)}};f._openLearnMoreLink=function(){var b=z.LEARN_MORE_URL,c=a.localizer.getNavigatorLanguage();b=b.replace("ISO3_LAN_CODE",c);t.createTab(b)};f._onBeforeRequest=function(c){var d=new URI(c.url);if(r.urlWithoutQueryParameters(c.url,!0)===b.PORTAL_BASE_URL)if(d=d.query(!0),h(d.K1)||h(d.K2)||h(d.K3)||h(d.K4))t.closeTab(c.tabId);else if(u.setImportMgrKey(d.K1),
u.setImportMgrIV(d.K2),u.setImportMgrHashKey(d.K3),u.setImportMgrTag(d.K4),e.vaultKeys.isLocked()){e.vaultTabUI.controller.isImportDiscontinueFlow=!0;d=e.notificationIcon.getUnsureIcon();var f=a.localizer.getLocalizedString("Would you like to continue importing your Logins into your vault?");d=new a.QuestionNotification(f,{},a.localizer.getLocalizedString("Import"),function(a){e.signIn.openLoginFlow();(new Promise(function(a,b){setTimeout(function(){a()},500)})).then(function(a){return t.closeTab(c.tabId)});
e.eventUITelemetryWrapper.sendImportLoginNotificationEventTelemetry(E.action.CLICK,E.elementId.IMPORT_NOTIFICATION_BUTTON,D.NOTIFICATION.HTML)},d);d.addSecondaryLink(a.localizer.getLocalizedString("No, thanks"),function(){t.closeTab(c.tabId);e.eventUITelemetryWrapper.sendImportLoginNotificationEventTelemetry(E.action.CLICK,E.elementId.IMPORT_LOGIN_NO_THANKS,D.NOTIFICATION.HTML);e.vaultTabUI.controller.isImportDiscontinueFlow=!1});d.addCloseButtonAction(function(){t.closeTab(c.tabId);e.eventUITelemetryWrapper.sendImportLoginNotificationEventTelemetry(E.action.CLICK,
E.elementId.IMPORT_NOTIFICATION_CLOSE,D.NOTIFICATION.HTML);e.vaultTabUI.controller.isImportDiscontinueFlow=!1});a.notificationCenter.addNotification(d)}else e.vaultTabUI.controller.isImportDiscontinueFlow=!0,e.vaultTabUI.controller.showImportModal(),t.closeTab(c.tabId)};f._createBrowserImport=function(){return new e.browserImport};f._competitorImportFactory={};f._competitorImportFactory[b.BROWSER]=f._createBrowserImport;f._competitorImportFactory[b.LASTPASS]=v.createLastPassImport;f._competitorImportFactory[b.DASHLANE]=
w.createDashlaneImport;f._competitorImportFactory[b.ONEPASS]=n.createOnePassImport;f._processCompetitorLogins=function(a,c,e){var g={};g=(g[l.STATUS]=k.UPLOAD_ERROR,g[l.LOGINDATA]=[],g);try{if(!d(f._competitorImportFactory[a])){e({payload:g});return}g=f._competitorImportFactory[a]().processLogins(c);if(a!==b.BROWSER){g.loginData=x.sanitizeLoginData(a,g.loginData);e({payload:g});return}if(h(g.loginData)){e({payload:g});return}var n=g.loginData.allLogins;if(h(n)){e({payload:g});return}Object.keys(n).forEach(function(b){var c=
n[b].logins;h(c)||Object.keys(c).forEach(function(b){b=c[b];h(b.items)||(b.items=x.sanitizeLoginData(a,b.items))})})}catch(J){c={},g=(c[l.STATUS]=k.UPLOAD_ERROR,c[l.LOGINDATA]=[],c)}e({payload:g})};f._importLogins=function(a,b,c){var e={};e=(e[l.STATUS]=k.VAULT_SYNCH_FAILED,e);if(h(a))c({payload:e});else try{var g=null;if(d(f._competitorImportFactory[a])){var n=f._competitorImportFactory[a]();g=n.convertToVaultFormat(b);n.cleanupSettings()}h(g)?c({payload:e}):f._addToVault(g,c)||c({payload:e})}catch(F){c({payload:e})}};
f._addToVault=function(a,b){var d=c.getItemManager(c.constructor.LOGIN_MANAGER);if(h(d))return!1;try{if(!a.hasOwnProperty(p.LOGINS))return!1;var g=[];a[p.LOGINS].forEach(function(a){var b=new e.Login;b.initFromDictionary(a);g.push(b)});d.addItems(g,!0,f._createVaultSynchCallback(b));return!0}catch(O){return!1}};f._createVaultSynchCallback=function(b){return f._vaultSynchCallback=function(c,d,g){d={};d=(d[l.STATUS]=k.VAULT_SYNCH_FAILED,d);try{if(!1===r.isSuccessCode(c))e.statusReporter.reportHttpStatusCode(c);
else if(d[l.STATUS]=k.VAULT_SYNCH_SUCCESS,a.utils.createCustomHTMLEvent(e.constants.EVENTS.VAULT_SYNC,{name:m.EVENT_NAME.LOGIN_ITEM_ADDED}),q(f._importedFileName)){var h=A.getLocalizedString("Norton recommends deleting the")+" "+f._importedFileName+" "+A.getLocalizedString("file to help protect your personal data."),n=A.getLocalizedString("Delete File"),p=A.getLocalizedString("OK"),y=new a.QuestionNotification(h,{},p,function(a){},e.notificationIcon.getAlertIcon(),n);a.notificationCenter.addNotification(y)}b({payload:d})}catch(Q){b({payload:d})}}};
f._init();return f}(e.SymBfw,e.IDSafe)})(executionContext);
(function(e){e.IDSafe.browserImport=function(a,e){var f=e.competitorImport,c=e.constants,b=c.IMPORT_MANAGER.RESPONSE_CODE,g=c.IMPORT_MANAGER.JSON_DATA_CONTENT,k=c.IMPORT_MANAGER.BROWSER_IMPORT_JSON_SCHEMA,p=c.IMPORT_MANAGER.VAULT_FORMAT_DATA,l=e.browserImportSettings,m=e.cryptoUtils,d=a.utils.isNil,h=a.utils.isntNil,q=a.utils.isArray,r=SymO2.utils,t=function(){f.call(this);var a={};this.vaultData=(a[p.LOGINS]=[],a)};t.prototype=Object.create(f.prototype);t.prototype.convertToVaultFormat=function(a){if(!q(a))return null;
a.forEach(function(a){a=t._createLoginItemDict(a);h(a)&&this.vaultData[p.LOGINS].push(a)}.bind(this));return this.vaultData};t._createLoginItemDict=function(a){if(d(a)||d(a[k.USERNAME])||d(a[k.PASSWORD])||d(a[k.SITE_NAME])||d(a[k.SITE_URL]))return null;var b={};b.username=a[k.USERNAME];b.password=a[k.PASSWORD];b.siteName=a[k.SITE_NAME];b.loginURL=a[k.SITE_URL];return b};t.prototype.cleanupSettings=function(){l.resetContainer()};t.prototype.processLogins=function(a){if(d(a))return t._createDecryptResponse(b.UPLOAD_ERROR,
{});var e=l.getImportMgrKey(),f=l.getImportMgrIV(),h=l.getImportMgrTag();try{a=JSON.parse(a);if(d(f)||d(e)||d(h)||!a.hasOwnProperty(g.DATA)||!t._check_data_integrity(a))return t._createDecryptResponse(b.UPLOAD_ERROR,{});e=atob(e);f=atob(f);h=atob(h);var k=m.decryptData(c.AES_ALGORITHM.GCM,e,f,atob(a[g.DATA]),h);return t._processDecryptedData(k)}catch(E){return t._createDecryptResponse(b.UPLOAD_ERROR,{})}};t._check_data_integrity=function(a){var b=l.getImportMgrHashKey();if(d(b)||!a.hasOwnProperty(g.CODE))return!1;
var c=forge.hmac.create();c.start("sha256",atob(b));c.update(atob(a[g.DATA]));return btoa(c.digest().getBytes())!==a[g.CODE]?!1:!0};t._processDecryptedData=function(a){if(a instanceof ArrayBuffer||a instanceof Uint8Array)a=r.createStringBufferFromUint8Buffer(a);return this._getLoginsData(a)};t._getLoginsData=function(a){var c=b.UPLOAD_ERROR;try{a=JSON.parse(a);var d=0,e=0;if(a.allLogins.hasOwnProperty(g.STATUS)&&a.allLogins[g.STATUS]==g.FAILURE)return t._createDecryptResponse(c,{});for(var f in g.BROWSERS)if(e++,
a.allLogins[g.BROWSERS[f]].status==g.FAILURE)a.allLogins[g.BROWSERS[f]].statusMessage==g.ERROR_MASTER_PWD&&(c=b.MASTER_PWD_USED);else if(a.allLogins[g.BROWSERS[f]].status==g.SUCCESS){d++;for(var h=a.allLogins[g.BROWSERS[f]].logins,k=0;k<h.length;k++)if(h[k].items.length)return t._createDecryptResponse(b.SUCCESS,a)}return d===e?t._createDecryptResponse(b.SUCCESS,a):t._createDecryptResponse(c,a)}catch(x){return t._createDecryptResponse(c,{})}};t._createDecryptResponse=function(a,b){var c={};return c[g.STATUS]=
a,c[g.LOGINDATA]=b,c};return t}(e.SymBfw,e.IDSafe)})(executionContext);
(function(e){(e.IDSafe.vaultTabUI=e.IDSafe.vaultTabUI||{}).utils=function(a,e,f){var c=a.utils.isNil,b=a.utils.isEmptyObject,g=f.constants,k=a.extensionAdapter,p=f.vaultManager,l=f.uiConstants.VAULT_TAB,m=f.contactHelper,d={isVaultAvailable:function(){return c(e.session.getEmail())||f.vaultKeys.isLocked()?!1:!0},getItemValuesArray:function(e){if(c(e))throw Error("itemManagerType cannot be null");var g=[],h=Object.keys(f.vaultTabUI.controller.getItemManager(e).getItems());if(0==h.length)return g;switch(e){case l.ITEM_TYPE.LOGIN:var k=
["username","password","siteName","loginURL","notes"];var m=["Username","Password","Title","Login URL","Notes"];var p=d._loginDetails;break;case l.ITEM_TYPE.WALLET_CARD:k="cardName cardType identityCard cardNumber nameOnCard expMonth expYear startDay startYear issueNumber cardComments countryRegion".split(" ");m="Payment Title;Card;Identity Card;Card Number;Name On Card;Expiry Month;Expiry Year;Start Day;Start Year;Issue Number;Card Comments;Region".split(";");p=d._cardDetails;break;case l.ITEM_TYPE.WALLET_BANK:k=
["accountName","ownerName","routingNumber","accountNumber","bankName"];m=["Payment Title","Account Owner Name","Routing Number","Bank Account Number","Bank Name"];p=d._bankAccountDetails;break;case l.ITEM_TYPE.ADDRESS:p=d._addressDetails;k="salutation firstName middleName lastName lastName2 dobDay dobMonth dobYear email work home mobile extension gender cardName city postal state street street2 street3 apt firstNameAlphabet lastNameAlphabet lastNameRoman cityAlphabet streetAlphabet street2Alphabet addressName region".split(" ");
m="Title;First Name;MI;Last Name;LastName 2;Date Of Birth Day;Date Of Birth Month;Date Of Birth Year;Email;Work Phone;Home Phone;Mobile Phone;Extension;Gender;Title;City;Postal Code;State;Address;Address 2;Address 3;Apt/Suite;First Name (phonetic);Last Name (phonetic);Last Name (Roman);City (phonetic);Address (phonetic);Address 2 (phonetic);Address Name;Region".split(";");break;case l.ITEM_TYPE.NOTES:k=["title","information"];m=["Title","Text"];p=d._noteDetails;break;default:throw Error("Unsupported View Type");
}for(var w=a.localizer.getLocalizedString(m[0]),n=1;n<m.length;n++)w=w+","+a.localizer.getLocalizedString(m[n]);g.push(w);for(m=0;m<h.length;m++)if(w=p.apply(d,[h[m],!0]),!c(w)){e===l.ITEM_TYPE.ADDRESS&&(w=Object.assign({},w.addressNode,w.identityNode),w.gender=w.gender?"Male":"Female");n=[];for(var A=0;A<k.length;A++)n.push(w[k[A]]);!1===b(n)&&(w=n.join(","),g.push(w))}return g},getSortableValueForItem:function(a,b){if(c(a))throw Error("Current type cannot be null");if(c(b))throw Error("Item cannot be null");
var d=null;switch(a){case l.ITEM_TYPE.LOGIN:d=g.LOGINS.DEFAULT_SORT_KEY;break;case l.ITEM_TYPE.WALLET_CARD:d=g.CREDIT_CARDS.DEFAULT_SORT_KEY;break;case l.ITEM_TYPE.WALLET_BANK:d=g.BANK_ACCOUNTS.DEFAULT_SORT_KEY;break;case l.ITEM_TYPE.ADDRESS:d=g.IDENTITY.DEFAULT_SORT_KEY;b=b.identityItem;break;case l.ITEM_TYPE.NOTES:d=g.NOTE.DEFAULT_SORT_KEY}a=b.schemaForKey(d);if(c(a))throw Error("Schema cannot be null for sort key");b=a.getter.apply(b);c(b)&&(b="");return b},itemDetails:function(a,b,e){e||(e=!1);
if(c(a))throw Error("Current Type cannot be null");if(c(b))throw Error("Item Key/GUID cannot be null");switch(a){case l.ITEM_TYPE.LOGIN:a=d._loginDetails;break;case l.ITEM_TYPE.WALLET_CARD:a=d._cardDetails;break;case l.ITEM_TYPE.WALLET_BANK:a=d._bankAccountDetails;break;case l.ITEM_TYPE.ADDRESS:a=d._addressDetails;break;case l.ITEM_TYPE.NOTES:a=d._noteDetails;break;default:throw Error("Unsupported Item Type");}return a.apply(d,[b,e])},getFieldValue:function(a,b){if(c(a))throw Error("Item ID cannot be null");
if(c(b))throw Error("Field Type cannot be null");var d=null;switch(b){case l.FIELD_TYPES.PASSWORD_FIELD:b=p.getItemManager(p.constructor.LOGIN_MANAGER);a=b.getItem(a);if(a.encrypted)break;d=a.getPassword();break;case l.FIELD_TYPES.CARDNUMBER_FIELD:b=p.getItemManager(p.constructor.CREDIT_CARD_MANAGER);a=b.getItem(a);if(a.encrypted)break;d=a.getCardNumber();break;case l.FIELD_TYPES.USERNAME_FIELD:b=p.getItemManager(p.constructor.LOGIN_MANAGER);a=b.getItem(a);if(a.encrypted)break;d=a.getUsername();break;
case l.FIELD_TYPES.ACCOUNTNUMBER_FIELD:b=p.getItemManager(p.constructor.BANK_ACCOUNT_MANAGER);a=b.getItem(a);if(a.encrypted)break;d=a.getAccountNumber();break;default:throw Error("Unsupported Field Type");}return d},activateOrCreatePage:function(a){c(a)||k.getAllTabs(function(b){for(var c=0;c<b.length;c++)if(b[c].url===a){b=k.getTabID(b[c]);k.activateTab(b);return}k.createTab(a)})},_loginDetails:function(a,b){var c=p.getItemManager(p.constructor.LOGIN_MANAGER).getItem(a);if(c.encrypted)return null;
var d=c.getUsername(),e=c.getSecure(),f=c.getSiteName(),g=c.getFavorite(),h=f?f.substr(0,2).toUpperCase():"",k=c.getLoginURL();a={username:d,siteName:f,isSecure:e,id:a,iconText:h,favorite:g,loginURL:k};if(!1===b&&!0===e)return a;!0===b&&(b=c.getPassword(),a.password=b);return a},_cardDetails:function(a,b){var c=p.getItemManager(p.constructor.CREDIT_CARD_MANAGER).getItem(a);if(c.encrypted)return null;var d=c.getSecure(),e=c.getCardType(),f=c.getCardName(),g=c.getFavorite();a={id:a,isSecure:d,cardType:e,
cardName:f,favorite:g};if(!1===b&&!0===d)return a;a.lastFourOnCard=c.getLastFourOnCard();!0===b&&(a.cardNumber=c.getCardNumber(),a.nameOnCard=c.getNameOnCard(),a.expMonth=c.getExpMonth(),a.expYear=c.getExpYear(),a.cardComments=c.getCardComments());return a},_bankAccountDetails:function(a,b){var c=p.getItemManager(p.constructor.BANK_ACCOUNT_MANAGER).getItem(a);if(c.encrypted)return null;var d=c.getSecure(),e=c.getBankName(),f=c.getAccountName(),g=c.getFavorite();a={id:a,isSecure:d,bankName:e,accountName:f,
favorite:g};if(!1===b&&!0===d)return a;a.lastFourOnCard=c.getLastFourOnCard();!0===b&&(a.accountNumber=c.getAccountNumber(),a.ownerName=c.getOwnerName(),a.routingNumber=c.getRoutingNumber());return a},_addressDetails:function(a){var b=m.getItem(a).serializeNode();b.id=a;return b},_noteDetails:function(a){a=p.getItemManager(p.constructor.NOTE_MANAGER).getItem(a).serializeNode(!1,!1);a=JSON.parse(a);a.id=a.path;delete a.path;return a}};return d}(e.SymBfw,e.SymO2,e.IDSafe)})(executionContext);
(function(e){(e.IDSafe.vaultTabUI=e.IDSafe.vaultTabUI||{}).controller=function(a,e,f){var c=a.utils.isNil,b=a.utils.isntNil,g=f.constants,k=a.logger,p=f.uiConstants,l=p.VAULT_TAB.MESSAGES,m=a.extensionAdapter,d=f.vaultManager,h=p.VAULT_TAB,q=h.strings,r=h.SPLASH_TYPE,t=h.ITEM_VIEWS,u=h.ITEM_TYPE,v=f.contactHelper,w=f.vaultTabUI.utils,n={_itemManager:null,_currentType:u.LOGIN,_sortedItems:null,_currentPageIndex:0,_modalType:null,_showModal:!1,_tabViewType:h.VIEW_TYPES.TILE_VIEW,_currentView:t.LOGIN_VIEW},
A=f.vaultUnlockSettings;n.checkIfTabExistElseCreate=function(d,e){var f=g.performanceReporter.TYPE.VAULT_TAB_UI+":"+Date.now();a.performanceReporterFactory.reportStartForComponent(g.performanceReporter.COMPONENT.IDSAFE,f);b(d)?m.getTab(d,function(a){b(m.getLastError())||c(a)?m.createTab(e,function(a){n._tabID=m.getTabID(a);n._windowID=m.getWindowIDForTab(a);n.addEventListeners()}):(m.activateTab(m.getTabID(a)),m.focusWindow(m.getWindowIDForTab(a)))}):m.createTab(e,function(b){n._tabID=m.getTabID(b);
n._windowID=m.getWindowIDForTab(b);n.addEventListeners();a.performanceReporterFactory.reportStopForComponent(g.performanceReporter.COMPONENT.IDSAFE,f)})};n.handleTabUpdated=function(b,d,e){d=m.getExtensionURL("content/ui/vault-tab-ui.html");if(!c(n._tabID)&&n._tabID===b&&(b=a.globals.BROWSER,e.url!==d)){if("Firefox"===b&&(e=e.title,(new URI(d)).protocol()+"://"+e===d))return;n._tabID=null;n._windowID=null;n.removeEventListeners()}};n.openVaultTabUI=function(){c(e.session.getEmail())?k.error("Trying to open vault tab UI when user hasn't signed in. Seems like a bug."):
f.vaultKeys.isLocked()?k.error("Trying to open vault tab UI when vault is locked. Seems like a bug."):this.checkIfTabExistElseCreate(this._tabID,m.getExtensionURL("content/ui/vault-tab-ui.html"))};n.onTabClosed=function(a){c(this._tabID)||a!==this._tabID||(this._windowID=this._tabID=null,n.removeEventListeners())};n.closeUI=function(){c(this._tabID)||(n.removeEventListeners(),function(a){m.getAllWindows(function(b){1===b.length?m.getAllTabs(function(b){1===b.length&&m.createTab();m.closeTab(a)}):
m.closeTab(a)})}(this._tabID))};n.removeUITab=function(){c(this._tabID)||this.closeUI()};n.onWindowClosed=function(a){c(this._windowID)||a!==this._windowID||(this._tabID=this._windowID=null,n.removeEventListeners())};n._originCheck=function(a){return c(a)||m.getTabID(a)!==n._tabID?!1:!0};n._performInitialCheck=function(a){var b=n._originCheck(a);a=m.getTabID(a);return!1===b?(m.closeTab(a),!1):!1===w.isVaultAvailable()?!1:!0};n._setModalType=function(a){this._modalType=a;this._showModal=!0};n._resetModalType=
function(){this._modalType=null;this._showModal=!1};n._resetImportFlowInfo=function(a){a===h.MODAL_TYPE.IMPORT&&(f.vaultTabUI.controller.isImportDiscontinueFlow=!1)};n._getModalData=function(a){switch(a){case h.MODAL_TYPE.SETTINGS:a=f.vaultUnlockSettings.getRegisteredDevice();var c=null;b(a)&&(a=f.proto.devices.Device.decode64(a),c=a.name);return{settings:f.settings.getSettings(),deviceName:c,registeredDate:f.vaultUnlockSettings.getRegisteredTime(),autoMobileUnlockRequest:f.vaultUnlockSettings.isAutoMobileUnlockRequestEnabled()}}};
n._getImportFlowInfo=function(a){if(a===h.MODAL_TYPE.IMPORT)return f.vaultTabUI.controller.isImportDiscontinueFlow};n.showSettingsModal=function(){b(this._tabID)?(n.checkIfTabExistElseCreate(this._tabID,m.getExtensionURL("content/ui/vault-tab-ui.html")),n.sendMessageToVaultTab({name:h.EVENT_NAME.OPEN_SETTINGS_MODAL})):(n._setModalType(h.MODAL_TYPE.SETTINGS),n.openVaultTabUI())};n.showImportModal=function(){b(this._tabID)?(n.checkIfTabExistElseCreate(this._tabID,m.getExtensionURL("content/ui/vault-tab-ui.html")),
!0===f.vaultTabUI.controller.isImportDiscontinueFlow?(n.sendMessageToVaultTab({name:h.EVENT_NAME.OPEN_IMPORT_MODAL_DISCONTINUE_FLOW}),f.vaultTabUI.controller.isImportDiscontinueFlow=!1):n.sendMessageToVaultTab({name:h.EVENT_NAME.OPEN_IMPORT_MODAL})):(n._setModalType(h.MODAL_TYPE.IMPORT),n.openVaultTabUI())};n.showDashboardtModal=function(){b(this._tabID)?(n.checkIfTabExistElseCreate(this._tabID,m.getExtensionURL("content/ui/vault-tab-ui.html")),n.sendMessageToVaultTab({name:h.EVENT_NAME.OPEN_DASHBORD_MODAL})):
(n._setModalType(h.MODAL_TYPE.DASHBOARD_DIALOG),n.openVaultTabUI())};n.showPasswordGeneratorModal=function(){b(this._tabID)?(n.checkIfTabExistElseCreate(this._tabID,m.getExtensionURL("content/ui/vault-tab-ui.html")),n.sendMessageToVaultTab({name:h.EVENT_NAME.OPEN_PASSWORD_GENERATOR_MODAL})):(n._setModalType(h.MODAL_TYPE.PASSWORD_GENERATOR),n.openVaultTabUI())};n._uiInitialize=function(){var c={};c.hideFavicon=f.settings.getHideFavicon();c.strings=a.localizer.getLocalizedStrings(q);Object.assign(c.strings,
a.localizer.getLocalizedStringsWithFormat(h.formatStrings));c.email=e.session.getEmail();var d=n._getViewsCount();c.loginCount=d.loginCount;c.walletCount=d.walletCount;c.addressCount=d.addressCount;c.notesCount=d.notesCount;c.favoritesCount=d.favoritesCount;c.splashScreen={show:!A.getIsSplashScreenShown(),type:r.SEAMLESS_UNLOCK};c.direction=a.localizer.getCurrentLanguageDirection();c.language=a.localizer.getLocale();c.ribbonData=f.securityDashboard.engine.getRibbonData();c.tabViewType=n._tabViewType;
n._currentType===u.WALLET_BANK?n._currentType=u.WALLET_CARD:n._currentView===t.FAVORITES_VIEW&&(n._currentType=u.LOGIN);c.tabType=n._currentType;c.itemView=n._currentView;c.viewToggleDisabled=n._currentView==t.LOGIN_VIEW?!1:!0;n._resetState(n._currentType);c.nextItemSet=n._getNextSetItems();!0===this._showModal&&b(this._modalType)&&(c.modalType=this._modalType,c.showModal=!0,c.modalData=n._getModalData(this._modalType),c.importFlowInfo=n._getImportFlowInfo(this._modalType),n._resetImportFlowInfo(this._modalType),
n._resetModalType());return c};n._resetState=function(a){this._itemType=a=void 0===a?u.LOGIN:a;switch(a){case u.LOGIN:this._itemManager=d.getItemManager(d.constructor.LOGIN_MANAGER);break;case u.WALLET_CARD:this._itemManager=d.getItemManager(d.constructor.CREDIT_CARD_MANAGER);break;case u.WALLET_BANK:this._itemManager=d.getItemManager(d.constructor.BANK_ACCOUNT_MANAGER);break;case u.ADDRESS:this._itemManager=v;break;case u.NOTES:this._itemManager=d.getItemManager(d.constructor.NOTE_MANAGER);break;
default:throw Error("Cannot pass a view type that isn't current supported");}this._currentType=a;n._sortItems()};n._sortItems=function(){this._sortedItems=[];this._currentPageIndex=0;var a=Object.keys(this._itemManager.getItems());this._currentView===t.FAVORITES_VIEW&&(a=a.filter(n._isFavouriteItem));this._sortedItems=a.sort(n._compareItems)};n._isFavouriteItem=function(a){return n._itemManager.getItem(a).getFavorite()};n._getViewsCount=function(){var a={},b=Object.keys(d.getItemManager(d.constructor.LOGIN_MANAGER).getItems()),
c=Object.keys(d.getItemManager(d.constructor.CREDIT_CARD_MANAGER).getItems()),e=Object.keys(d.getItemManager(d.constructor.BANK_ACCOUNT_MANAGER).getItems()),f=Object.keys(d.getItemManager(d.constructor.IDENTITY_MANAGER).getItems()),g=Object.keys(d.getItemManager(d.constructor.NOTE_MANAGER).getItems()),h=n._getFavoriteItems(b,d.constructor.LOGIN_MANAGER),k=n._getFavoriteItems(c,d.constructor.CREDIT_CARD_MANAGER),l=n._getFavoriteItems(e,d.constructor.BANK_ACCOUNT_MANAGER),m=n._getFavoriteItems(f,d.constructor.IDENTITY_MANAGER),
p=n._getFavoriteItems(g,d.constructor.NOTE_MANAGER);a.loginCount=b.length;a.walletCount=c.length+e.length;a.addressCount=f.length;a.notesCount=g.length;a.favoritesCount=h.length+k.length+l.length+m.length+p.length;return a};n._getFavoriteItems=function(a,b){var c=d.getItemManager(b);return a.filter(function(a){return c.getItem(a).getFavorite()})};n._deleteItemObject=function(a,b){n.getItemManager(b).deleteItem(a,!0)};n._addItemObject=function(a,b){var c=n.getItemManager(b);switch(b){case h.ITEM_TYPE.LOGIN:b=
new f.Login;break;case h.ITEM_TYPE.WALLET_CARD:b=new f.CreditCard;break;case h.ITEM_TYPE.WALLET_BANK:b=new f.BankAccount;break;case h.ITEM_TYPE.ADDRESS:b=new f.Contact;break;case h.ITEM_TYPE.NOTES:b=new f.Note;break;default:throw Error("Cannot pass a view type that isn't current supported");}b.initFromDictionary(a);c.addItem(b,!0)};n._updateItemObject=function(a,b){b=n.getItemManager(b);var c=b.getItem(a.path);c.updateFromDictionary(a)&&b.updateItem(c,!0)};n.getItemManager=function(a){switch(a){case h.ITEM_TYPE.LOGIN:return a=
d.getItemManager(d.constructor.LOGIN_MANAGER);case h.ITEM_TYPE.WALLET_CARD:return a=d.getItemManager(d.constructor.CREDIT_CARD_MANAGER);case h.ITEM_TYPE.WALLET_BANK:return a=d.getItemManager(d.constructor.BANK_ACCOUNT_MANAGER);case h.ITEM_TYPE.ADDRESS:return a=v;case h.ITEM_TYPE.NOTES:return a=d.getItemManager(d.constructor.NOTE_MANAGER);default:throw Error("Cannot pass a view type that isn't current supported");}};n._getItem=function(a,b){var d=n.getItemManager(b).getItem(a),e={};return c(d)?e:e=
f.vaultTabUI.utils.itemDetails(b,a,!0)};n._compareItems=function(a,b){a=n._itemManager.getItem(a);b=n._itemManager.getItem(b);a=w.getSortableValueForItem(n._currentType,a);b=w.getSortableValueForItem(n._currentType,b);a=a.toLowerCase();b=b.toLowerCase();return a<b?-1:a>b?1:0};n._getNextSetItems=function(){if(!(this._currentPageIndex>=this._sortedItems.length)){var a=this._currentPageIndex+h.PAGE_SIZE;a=a<this._sortedItems.length?a:this._sortedItems.length;for(var b=[],d=this._currentPageIndex;d<a;d++){var e=
w.itemDetails(this._currentType,this._sortedItems[d]);c(e)||b.push(e)}this._currentPageIndex=a;return b}};n._handleSearchEvent=function(a){var d=[];a=n._itemManager.uiSearch(a,n._currentView===t.FAVORITES_VIEW);if(c(a))return d;if(n._currentType==u.LOGIN){var e=["siteName","loginURL","username"],f=[],g;for(g in e){var h=a[e[g]];b(h)&&(h.sort(n._compareItems),f=f.concat(h))}for(var k in f)a=w.itemDetails(n._currentType,f[k]),d.push(a)}else for(f in a.sort(n._compareItems),a)k=w.itemDetails(n._currentType,
a[f]),d.push(k);return d};n._handleCopyFieldValue=function(a,b){if(!c(a)&&!c(b))return w.getFieldValue(a,b)};n._isDuplicateItem=function(a){var c=[];switch(a.itemType){case u.LOGIN:var e=d.getItemManager(d.constructor.LOGIN_MANAGER).getItems();b(e)&&(c=Object.keys(e).filter(function(b){return e[b].siteName==a.itemDict.siteName}));break;case u.WALLET_CARD:var f=d.getItemManager(d.constructor.CREDIT_CARD_MANAGER).getItems();b(f)&&(c=Object.keys(f).filter(function(b){return f[b].cardName==a.itemDict.cardName}));
break;case u.ADDRESS:var g=d.getItemManager(d.constructor.IDENTITY_MANAGER).getItems();b(g)&&(c=Object.keys(g).filter(function(b){return g[b].cardName==a.itemDict.identityNode.cardName}));break;case u.WALLET_BANK:var h=d.getItemManager(d.constructor.BANK_ACCOUNT_MANAGER).getItems();b(h)&&(c=Object.keys(h).filter(function(b){return h[b].accountName==a.itemDict.accountName}))}return 0<c.length&&!c.includes(a.itemDict.path)?!0:!1};n.handleMessage=function(a,d,e){var g={},h=a.payload,k=!1;switch(a.id){case l.SHOW_SETTINGS_MODEL:k=
n._performInitialCheck(e);if(!1===k)break;n.showSettingsModal();break;case l.UI_INIT:k=n._performInitialCheck(e);if(!1===k)break;g=n._uiInitialize();d(g);break;case l.NEXT_ITEMSET:k=n._performInitialCheck(e);if(!1===k)break;g.vaultItems=n._getNextSetItems();g.itemType=n._currentType;d(g);break;case l.SWITCH_ITEM:k=n._performInitialCheck(e);if(!1===k)break;n._currentView=h.itemView;n._resetState(h.itemType);g.vaultItems=n._getNextSetItems();g.itemType=h.itemType;g.itemView=h.itemView;d(g);break;case l.SEARCH_EVENT:k=
n._performInitialCheck(e);if(!1===k)break;g=h.searchKey;if(c(g))break;b(h.itemType)&&n._resetState(h.itemType);n._currentView=h.itemView;h=n._handleSearchEvent(g);d(h);break;case l.GET_FIELD_VALUE:k=n._performInitialCheck(e);if(!1===k)break;g=h.id;h=h.type;if(c(g)||c(h))break;g=w.getFieldValue(g,h);d(g);break;case l.COPY_FIELD_VALUE:k=n._performInitialCheck(e);if(!1===k)break;h=n._handleCopyFieldValue(h.id,h.type);d(h);break;case l.REFRESH_VIEW:k=n._performInitialCheck(e);if(!1===k)break;n._resetState(h.itemType);
g={};g.itemType=n._currentType;g.vaultItems=n._getNextSetItems();h=n._getViewsCount();g.itemView=n._currentView;g.loginCount=h.loginCount;g.walletCount=h.walletCount;g.addressCount=h.addressCount;g.notesCount=h.notesCount;g.favoritesCount=h.favoritesCount;d(g);break;case l.DELETE_ITEM:k=n._performInitialCheck(e);if(!1===k)break;n._deleteItemObject(h.key,h.itemType);break;case l.ADD_ITEM:k=n._performInitialCheck(e);if(!1===k)break;[u.LOGIN,u.WALLET_CARD,u.ADDRESS,u.WALLET_BANK].includes(h.itemType)?
n._isDuplicateItem(h)?d(!1):(n._addItemObject(h.itemDict,h.itemType),d(!0)):(n._addItemObject(h.itemDict,h.itemType),d(!0));break;case l.TAB_VIEW_TYPE:n._tabViewType=h.tabViewType;break;case l.UPDATE_ITEM:k=n._performInitialCheck(e);if(!1===k)break;[u.LOGIN,u.WALLET_CARD,u.ADDRESS,u.WALLET_BANK].includes(h.itemType)?n._isDuplicateItem(h)?d(!1):(n._updateItemObject(h.itemDict,h.itemType),d(!0)):(n._updateItemObject(h.itemDict,h.itemType),d(!0));break;case l.GET_ITEM:k=n._performInitialCheck(e);if(!1===
k)break;g=n._getItem(h.id,h.itemType);d(g);break;case l.VERIFY_VAULT_PASSWORD:k=n._performInitialCheck(e);if(!1===k)break;f.vaultKeys.compareWithVaultPassword(a.payload.password,function(a){d({status:a})});return!0;case l.LAUNCH_CHANGE_PASSWORD:k=n._performInitialCheck(e);if(!1===k)break;h=m.getExtensionURL(f.uiConstants.CHANGE_PASSWORD.HTML);w.activateOrCreatePage(h);n.closeUI();break;case l.SPLASH_SHOWN:k=n._performInitialCheck(e),!1!==k&&A.splashScreenShown(!0)}};m.addMessageListener(n.handleMessage);
n.spocCallbackEventHandler=function(a){n.sendMessageToVaultTab({name:h.EVENT_NAME.SPOC_BUMP_RECEIVED})};n.vaultCloseEventHandler=function(a){n.closeUI()};n.signOutEventHandler=function(a){n.closeUI()};n.sendMessageToVaultTab=function(a){m.getTab(this._tabID,function(b){c(b)||m.sendMessageToTab(b,a)})};n.vaultSyncEventHandler=function(a){n.sendMessageToVaultTab(a.detail)};n.addEventListeners=function(){window.addEventListener(f.constants.EVENTS.SPOC_CALLBACK,n.spocCallbackEventHandler);window.addEventListener(f.constants.EVENTS.VAULT_CLOSED,
n.vaultCloseEventHandler);window.addEventListener(f.constants.EVENTS.SIGN_OUT,n.signOutEventHandler);window.addEventListener(f.constants.EVENTS.VAULT_SYNC,n.vaultSyncEventHandler)};n.removeEventListeners=function(){window.removeEventListener(f.constants.EVENTS.SPOC_CALLBACK,n.spocCallbackEventHandler);window.removeEventListener(f.constants.EVENTS.VAULT_CLOSED,n.vaultCloseEventHandler);window.removeEventListener(f.constants.EVENTS.SIGN_OUT,n.signOutEventHandler);window.removeEventListener(f.constants.EVENTS.VAULT_SYNC,
n.vaultSyncEventHandler)};m.addTabUpdatedEventListener(n.handleTabUpdated);return n}(e.SymBfw,e.SymO2,e.IDSafe)})(executionContext);
(function(e){e.IDSafe.exportData=function(a,e){var f={},c=a.utils.isNil,b=a.utils.isntNil,g=a.extensionAdapter,k=e.uiConstants.BROWSER_TYPE,p=e.uiConstants.EXPORT_VAULT.MESSAGES,l=e.uiConstants.EXPORT_VAULT.STRINGS,m=e.uiConstants.VAULT_TAB,d=e.vaultTabUI.utils;f._checkIfTabExistElseCreate=function(a){b(this._tabID)?g.getTab(this._tabID,function(d){b(g.getLastError())||c(d)?g.createTab(a,function(a){f._tabID=g.getTabID(a);f._windowID=g.getWindowIDForTab(a);f.addEventListeners()}):(g.activateTab(g.getTabID(d)),
g.focusWindow(g.getWindowIDForTab(d)))}):g.createTab(a,function(a){f._tabID=g.getTabID(a);f._windowID=g.getWindowIDForTab(a);f.addEventListeners()})};f.handleTabUpdated=function(b,d,e){if(!c(f._tabID)&&f._tabID===b&&(d=a.globals.BROWSER,b=g.getExtensionURL("content/ui/vault-export-data.html"),e.url!==b)){if(d===k.FIREFOX&&(e=e.title,(new URI(b)).protocol()+"://"+e===b))return;f._tabID=null;f._windowID=null;f.removeEventListeners()}};f.onTabClosed=function(a){c(this._tabID)||a!==this._tabID||(this._windowID=
this._tabID=null,f.removeEventListeners())};f.onWindowClosed=function(a){c(this._windowID)||a!==this._windowID||(this._tabID=this._windowID=null,f.removeEventListeners())};f.handleMessage=function(b,c,e){switch(b.id){case p.VAULT_DATA:if(!1!==f._performInitialCheck(e)){b={};e=d.getItemValuesArray(m.ITEM_TYPE.LOGIN);var g=d.getItemValuesArray(m.ITEM_TYPE.WALLET_CARD),h=d.getItemValuesArray(m.ITEM_TYPE.WALLET_BANK),k=d.getItemValuesArray(m.ITEM_TYPE.ADDRESS),q=d.getItemValuesArray(m.ITEM_TYPE.NOTES);
b.vaultData=e.concat(g,h,k,q);0===b.vaultData.length&&(e=a.localizer.getLocalizedString("No Data to Export"),b.vaultData.push(e));b.strings=a.localizer.getLocalizedStrings(l);b.direction=a.localizer.getCurrentLanguageDirection();c(b)}}};f.openExportTab=function(){f._checkIfTabExistElseCreate(g.getExtensionURL("content/ui/vault-export-data.html"))};f._originCheck=function(a){return c(a)||g.getTabID(a)!==f._tabID?!1:!0};f._performInitialCheck=function(a){var b=f._originCheck(a);a=g.getTabID(a);return!1===
b?(g.closeTab(a),!1):!0};f.closeUI=function(){c(this._tabID)||(f.removeEventListeners(),function(a){g.getAllWindows(function(b){1===b.length?g.getAllTabs(function(b){1===b.length&&g.createTab();g.closeTab(a)}):g.closeTab(a)})}(this._tabID))};f.closeExportTabUI=function(){f.closeUI()};f.addEventListeners=function(){window.addEventListener(e.constants.EVENTS.VAULT_CLOSED,f.closeExportTabUI);window.addEventListener(e.constants.EVENTS.SIGN_OUT,f.closeExportTabUI)};f.removeEventListeners=function(){window.removeEventListener(e.constants.EVENTS.VAULT_CLOSED,
f.closeExportTabUI);window.removeEventListener(e.constants.EVENTS.SIGN_OUT,f.closeExportTabUI)};g.addMessageListener(f.handleMessage);g.addTabUpdatedEventListener(f.handleTabUpdated);return f}(e.SymBfw,e.IDSafe)})(executionContext);
(function(e){e.IDSafe.fillCaptureHandler=function(a,e,f,c){var b={},g=a.utils.baseURL,k=a.utils.getDomain,p=a.utils.isNil,l=a.utils.isntNil,m=a.utils.isString,d=a.utils.isFunction,h=a.utils.isArray,q=a.logger,r=a.notificationCenter,t=a.localizer,u=a.utils.urlProtocol,v=a.constants.uiConstants,w=a.extensionAdapter,n=c.eventUITelemetryWrapper.constants,A=c.vaultManager,E=c.constants,D=c.uiConstants,x=c.compromisedPasswordHelper,z=c.constants.SECURITY_DASHBOARD.PASSWORD_CHANGE_SUCCESS_TEXT,C=c.uiConstants.COMPROMISED_PASSWORD_MODAL.MESSAGES;
b._partialSubmissions={};b._autFilledItems={};b._passwordAutochangeInProgress=!1;b._signInToNortonSession=!1;b._tabId=null;b._tempLoginStorage=new Map;b.setTempLogin=function(a){b._tempLoginStorage.set("tempLoginInfo",a)};b.getTempLogin=function(){return b._tempLoginStorage.get("tempLoginInfo")};b._clearTempLogin=function(){b._tempLoginStorage.clear()};b.addAutFilledItemGuid=function(a,c){b._autFilledItems[a]=c};b._isAutochangeSupported=function(a){return c.securityDashboard.utils._autoChangeSupported(a)};
b.getLoginsByUrl=function(a,e,f,k){if(!m(a))throw Error("getLoginsByUrl: url must be a string");if(p(e))throw Error("getLoginsByUrl: tabId should not be Nil");if(!d(f))throw Error("getLoginsByUrl: received nil or non-function callback parameter");l(b._autFilledItems)&&b._autFilledItems.hasOwnProperty(e)&&delete b._autFilledItems[e];var n=[],q=null;c.vaultKeys.isLocked()?f(n,q):k&&u(a)!==E.HTTPS_PROTOCOL?(c.telemetryWrapper.sendWaxFillHttpsNotFoundFailure(g(a)),f(n,q)):A.getItemManager(A.constructor.LOGIN_MANAGER).search(a,
function(a,c){if(l(c))q=c;else if(h(a)){var d=b._partialSubmissions[e],g=!1;a.forEach(function(a){var b=a.getUsername(),c=a.getSiteName(),e=a.getPath(),f=a.getAutoFill();a=a.getSecure();if(l(d)&&!g){var h=!1;d.username===b&&(h=f,g=!0);n.unshift({id:e,sitename:c,username:b,autofill:h,secure:a,partiallyFilled:!0})}else n.push({id:e,sitename:c,username:b,autofill:f,secure:a})});f(n,q)}else q=Error("getLoginsByUrl: login manager search returned null or undefined collection")})};b._saveNewLogin=function(b){var d=
A.getItemManager(A.constructor.LOGIN_MANAGER),e=new c.Login;b.path="{"+a.utils.createNewGuid()+"}";b.lastUpdate=(new Date).getTime()/1E3;e.initFromDictionary(b);d.addItem(e,!0);q.debug("Saved new login for: "+g(b.loginURL));c.eventUITelemetryWrapper.sendSaveLoginUIEventTelemetry(n.action.CLICK,n.elementId.SAVE_NEW_LOGIN,v.NOTIFICATION.HTML)};b._replacePassword=function(a,b){var d=A.getItemManager(A.constructor.LOGIN_MANAGER);a=d.getItem(a);p(a)||(a.setPassword(b),a.setLastUpdate((new Date).getTime()/
1E3),c.compromisedPasswordHelper.isCompromisedPasswordFlowInProgress()&&c.telemetryWrapper.sendPasswordReplacedMOT(),d.updateItem(a,!0),q.debug("Replaced password for "+g(a.loginURL)))};b._handleSaveNewLoginFlow=function(d,e){if(e===D.SETTINGS.LOGIN_SAVING_TYPE.ALWAYS)b._saveNewLogin(d);else if(e===D.SETTINGS.LOGIN_SAVING_TYPE.ASK){var f=g(d.loginURL),h=d.username;e=c.notificationIcon.getUnsureIcon();f=t.getLocalizedStringWithFormat("Would you like to save your new {0} login: {1}?",[f,h]);d=new a.QuestionNotification(f,
d,t.getLocalizedString("Save"),b._saveNewLogin,e);d.addSecondaryLink(t.getLocalizedString("No, thanks"),function(){c.eventUITelemetryWrapper.sendSaveLoginUIEventTelemetry(n.action.CLICK,n.elementId.SAVE_NEW_LOGIN_NO_THANKS,v.NOTIFICATION.HTML)});r.addNotification(d)}};b._handleReplacePasswordFlow=function(d,e){var f=g(d.getLoginURL()),h=d.getUsername(),k=e.password;d=d.getPath();f=t.getLocalizedStringWithFormat("Do you want to replace your saved {0} password for {1}?",[f,h]);h=c.notificationIcon.getUnsureIcon();
k=new a.QuestionNotification(f,{id:d,password:k},t.getLocalizedString("Replace"),function(a){b._replacePassword(a.id,a.password);c.eventUITelemetryWrapper.sendUpdateLoginUIEventTelemetry(n.action.CLICK,n.elementId.UPDATE_LOGIN,v.NOTIFICATION.HTML)},h);k.addSecondaryLink(t.getLocalizedString("No, thanks"),function(){var a=b.getTempLogin();l(a)&&a.loginURL===e.loginURL&&b.resetCompromisedPasswordFlowState();c.eventUITelemetryWrapper.sendUpdateLoginUIEventTelemetry(n.action.CLICK,n.elementId.UPDATE_LOGIN_NO_THANKS,
v.NOTIFICATION.HTML)});k.addCloseButtonAction(function(){var a=b.getTempLogin();l(a)&&a.loginURL===e.loginURL&&b.resetCompromisedPasswordFlowState()});r.addNotification(k)};b._processPartialLoginFormSubmission=function(a,c){var d=g(a.loginURL);if(m(a.username)||m(a.password))if(m(a.password))if(p(b._partialSubmissions[c]))q.debug("processPartialLoginFormSubmission: no username and nothing pending; ignoring partial submission for tab "+c+": "+d);else{var e=b._partialSubmissions[c];g(e.loginURL)!==
d?q.debug("processPartialLoginFormSubmission: ignoring partial submission for different domain for tab "+c+": "+d):(q.debug("processPartialLoginFormSubmission: merging partial submissions for tab "+c+": "+d),e.password=a.password,b.processLoginFormSubmission(e,c))}else q.debug("processPartialLoginFormSubmission: no password; holding partial submission for tab "+c+": "+d),b._partialSubmissions[c]=a;else q.debug("processPartialLoginFormSubmission: no username and no password; ignoring partial submission for tab "+
c+": "+d)};b._processChangePasswordFormSubmission=function(a){var c=a.vaultItemID;p(c)||(c=A.getItemManager(A.constructor.LOGIN_MANAGER).getItem(c),p(c)?q.error("login manager search returned null or undefined collection"):b._handleReplacePasswordFlow(c,a))};b._getLoginsForUrl=function(a){return new Promise(function(b,c){A.getItemManager(A.constructor.LOGIN_MANAGER).search(a,function(a,d){if(l(d))return c(d);if(!h(a))return c(Error("login manager search returned null or undefined collection"));b(a)})})};
b.findLoginItemInVault=function(a){var c,d,e,f,g,h,l,n,m,r;return $jscomp.asyncExecutePromiseGeneratorProgram(function(y){if(1==y.nextAddress)return y.setCatchFinallyBlocks(2),y.yield(b._getLoginsForUrl(a.loginURL),4);if(2!=y.nextAddress){c=y.yieldResult;d=t.getLocalizedString(z);for(e in c)if(f=c[e],g=f.getLoginURL(),h=f.getSiteName(),l=f.getUsername(),n=f.getPath(),m=b._autFilledItems[b._tabId],(p(m)||n===m)&&l===a.username&&k(g)===k(a.loginURL)&&!h.includes(d))return y.return(f);return y.return(null)}r=
y.enterCatchBlock();q.error(r);y.jumpToEnd()})};b._handleLogin=function(a){var d,e,f;return $jscomp.asyncExecutePromiseGeneratorProgram(function(h){if(1==h.nextAddress)return h.yield(b.findLoginItemInVault(a),2);d=h.yieldResult;if(p(d))return b._handleSaveNewLoginFlow(a,c.settings.getLoginsSaving()),h.return();e=d.getLoginURL();f=d.getPassword();if(f===a.password)return q.debug("[fillCaptureHandler._handleLogin] not saving due to match: "+e),h.return();if(g(e)===g(a.loginURL))return b._handleReplacePasswordFlow(d,
a),h.return();b._handleSaveNewLoginFlow(a,c.settings.getLoginsSaving());h.jumpToEnd()})};b.resetCompromisedPasswordFlowState=function(){x.resetCompromisedPasswordTimeout();b._tabId=null;b._clearTempLogin();x.setCompromisedNotificationVisible(!1);x.setCompromisedPasswordFlowInProgress(!1);x.setRibbonState({isInProgress:!1,isLoggedIn:null,domain:null});x._IDSafeCreatedTab=null;x._IDSafeClosedTab=null};b._handleStandardFormSubmissionFlow=function(a){c.vaultKeys.isLocked()||b._handleLogin(a).catch(function(a){return q.error(a)})};
b.handleUnlockVaultSuccess=function(){var a;return $jscomp.asyncExecutePromiseGeneratorProgram(function(c){if(!x.isCompromisedPasswordFlowInProgress())return c.return();a=b.getTempLogin();return p(a)?c.return():c.yield(b._processTempLogin(),0)})};b._prepareLoginInfo=function(b){p(b.path)&&(b.path="{"+a.utils.createNewGuid()+"}");p(b.lastUpdate)&&(b.lastUpdate=(new Date).getTime()/1E3)};b._saveNewTempLogin=function(){var a=b.getTempLogin(),d=A.getItemManager(A.constructor.LOGIN_MANAGER),e=new c.Login;
e.initFromDictionary(a);d.addItem(e,!0)};b._startPasswordAutochange=function(a){x.isCompromisedPasswordFlowInProgress()&&c.passwordChanger.startAutoChangeFromCP([a])};b._processTempLogin=function(){var a,c,d,e;return $jscomp.asyncExecutePromiseGeneratorProgram(function(f){if(1==f.nextAddress)return a=b.getTempLogin(),f.yield(b.findLoginItemInVault(a),2);c=f.yieldResult;if(l(c)&&(d=c.getUsername(),e=c.getPassword(),d===a.username)){if(e!==a.password)return b._registerOnSaveLoginEventListener(),b._handleReplacePasswordFlow(c,
a),f.return();b._startPasswordAutochange(c.path);b.resetCompromisedPasswordFlowState();return f.return()}b._registerOnSaveLoginEventListener();b._saveNewTempLogin();f.jumpToEnd()})};b._onSavedLoginListenerCallback=function(a){var d=a.detail;a=d.item;if(l(d.error))b.resetCompromisedPasswordFlowState();else{d=b.getTempLogin();var e=a.getLoginURL();a.getUsername()===d.username&&g(e)===g(d.loginURL)&&(b._startPasswordAutochange(a.path),b.resetCompromisedPasswordFlowState(),window.removeEventListener(c.constants.ON_LOGIN_SAVED,
b._onSavedLoginListenerCallback))}};b._registerOnSaveLoginEventListener=function(){window.addEventListener(c.constants.ON_LOGIN_SAVED,b._onSavedLoginListenerCallback)};b._onAutochangeStartedListenerCallback=function(){b._passwordAutochangeInProgress=!0};b._registerOnAutochangeStartedListener=function(){window.addEventListener(c.constants.AUTOCHANGE_STARTED,b._onAutochangeStartedListenerCallback)};b._onAutochangeFinishedListenerCallback=function(){b._passwordAutochangeInProgress=!1;b.resetCompromisedPasswordFlowState()};
b._registerOnAutochangeFinishedListener=function(){window.addEventListener(c.constants.AUTOCHANGE_FINISHED,b._onAutochangeFinishedListenerCallback)};b._onSignInToNortonListenerCallback=function(){b._signInToNortonSession=!1;window.removeEventListener(c.constants.NORTON_SIGN_IN_SESSION,b._onSignInToNortonListenerCallback);b._registerOnSignInToNortonListener()};b._registerOnSignInToNortonListener=function(){window.addEventListener(c.constants.NORTON_SIGN_IN_SESSION,b._onSignInToNortonListenerCallback)};
b._compromisedPasswordFlowNotificationCallback=function(){c.telemetryWrapper.sendCompromisedPasswordNotificationClicked();x.setCompromisedNotificationVisible(!1);x.setCompromisedPasswordFlowInProgress(!0);(function(){var a,d,e,f,h,k;return $jscomp.asyncExecutePromiseGeneratorProgram(function(l){switch(l.nextAddress){case 1:return l.setCatchFinallyBlocks(2),l.yield(x.isUserLoggedIn(),4);case 4:return a=l.yieldResult,l.yield(x.doesVaultExists(),5);case 5:d=l.yieldResult;e=c.vaultKeys.isLocked();f=b.getTempLogin();
h=f.loginURL;if(!a||!d){a&&!d?x.promptToCreateVault(a,g(h)):(b._registerOnSignInToNortonListener(),b._signInToNortonSession=!0,x.promptToLoginToNortonAccount(a,g(h)));l.jumpTo(6);break}return e?(x.promptToOpenVault(a,g(h)),l.return()):l.yield(b._processTempLogin(),6);case 6:l.leaveTryBlock(0);break;case 2:k=l.enterCatchBlock(),q.error(k),b.resetCompromisedPasswordFlowState(),l.jumpToEnd()}})})()};b._compromisedPasswordNotificationSecondaryCallback=function(){c.telemetryWrapper.sendLearnMoreClickedCP();
a.extensionAdapter.getActiveTab(function(b){a.extensionAdapter.sendMessageToTab(b,{id:C.MODAL_SHOW})});b._createCompromisedPasswordNotification();return null};b._createCompromisedPasswordNotification=function(){var d,e,f,h,k,l,n,m,p,q;return $jscomp.asyncExecutePromiseGeneratorProgram(function(w){switch(w.nextAddress){case 1:return c.telemetryWrapper.sendCompromisedPasswordNotificationShown(),x.setCompromisedNotificationVisible(!0),w.yield(x.isUserLoggedIn(),2);case 2:d=w.yieldResult;e="Continue";
if(!d){e="Get Started";w.jumpTo(3);break}return w.yield(x.doesVaultExists(),4);case 4:(f=w.yieldResult)||(e="Get Started");case 3:h=b.getTempLogin(),k=g(h.loginURL),l=c.notificationIcon.getAlertIcon(),n=t.getLocalizedString("__LONG_PRODUCT_NAME__"),m=t.getLocalizedStringWithFormat("{0} can help protect you by automatically changing your site password with a strong replacement and saving it in your vault.",[n]),p=t.getLocalizedStringWithFormat("You used a compromised password for {0}.",[k]),q=new a.QuestionNotification(m,
h,t.getLocalizedString(e),b._compromisedPasswordFlowNotificationCallback,l,p),q.addSecondaryLink(t.getLocalizedString("Learn More"),b._compromisedPasswordNotificationSecondaryCallback),q.addCloseButtonAction(function(){b._handleStandardFormSubmissionFlow(h);b.resetCompromisedPasswordFlowState();c.telemetryWrapper.sendNotificationDismissedCp()}),r.addNotification(q),w.jumpToEnd()}})};b.processLoginFormSubmission=function(a,d){var f,g,h,k;return $jscomp.asyncExecutePromiseGeneratorProgram(function(l){switch(l.nextAddress){case 1:if(p(a))throw Error("Invalid loginInfo");
if(p(d))throw Error("Invalid tabId");if(b._signInToNortonSession&&x.isCompromisedPasswordFlowInProgress()||b._tabId===d&&x.isCompromisedPasswordFlowInProgress())return l.return();if(a.formType===e.constants.groupType.CHANGE_PASSWORD_PAGE)return b._processChangePasswordFormSubmission(a,d),l.return();if(!m(a.username)||!m(a.password))return b._processPartialLoginFormSubmission(a,d),l.return();b._tabId=d;if(!x.isCompromisedPasswordFlowEnabled()||x.isCompromisedNotificationVisible()||x.isCompromisedPasswordFlowInProgress())return b._handleStandardFormSubmissionFlow(a),
l.return();b._prepareLoginInfo(a);l.setCatchFinallyBlocks(2);return l.yield(x.checkCompromisedPassword(a),4);case 4:f=l.yieldResult;g=f.error;h=f.data;if(g)return q.error(g),b._handleStandardFormSubmissionFlow(a),l.return();if(!h.isLeaked)return b._handleStandardFormSubmissionFlow(a),l.return();if(!b._isAutochangeSupported(a.loginURL))return b._handleStandardFormSubmissionFlow(a),c.telemetryWrapper.sendAutochangeNotSupportedCP(a.loginURL),l.return();c.telemetryWrapper.sendCompromisedPasswordDetected();
if(!b._passwordAutochangeInProgress&&p(b.getTempLogin()))b.setTempLogin(a);else return b._handleStandardFormSubmissionFlow(a),l.return();b._registerOnAutochangeFinishedListener();return l.yield(b._createCompromisedPasswordNotification(),5);case 5:l.leaveTryBlock(0);break;case 2:k=l.enterCatchBlock(),q.error(k),q.info("Handled login submit when compromised password check has failed"),b._handleStandardFormSubmissionFlow(a),l.jumpToEnd()}})};b._onTabRemoved=function(a){delete b._partialSubmissions[a]};
b._onTabUpdated=function(a,c){c=c.url;if(!p(c)){var d=b._partialSubmissions[a];p(d)||k(d.loginURL)!==k(c)&&delete b._partialSubmissions[a]}};b._initListeners=function(){x.isCompromisedPasswordFlowEnabled()&&(b._registerOnAutochangeStartedListener(),b._registerOnAutochangeFinishedListener());w.addTabRemovedEventListener(b._onTabRemoved);w.addTabUpdatedEventListener(b._onTabUpdated)};b.onTabReplaced=function(a,c){if(p(a)||p(c))q.error("fillCaptureHandler.onTabReplaced: tabId cannot be Nil");else{var d=
b._partialSubmissions[c];p(d)||(b._partialSubmissions[a]=d,delete b._partialSubmissions[c])}};b.getCardItems=function(a,b){if(!m(a))throw Error("getCardItems: url must be a string");var d=[];if(c.vaultKeys.isLocked())q.error("vault is locked");else if(b&&u(a)!==E.HTTPS_PROTOCOL)c.telemetryWrapper.sendWaxFillHttpsNotFoundFailure(g(a));else{a=A.getItemManager(A.constructor.CREDIT_CARD_MANAGER).getItems();for(var e in a)if(a.hasOwnProperty(e)){b=a[e].getPath();var f=a[e].getCardName(),h=a[e].getLastFourOnCard(),
k=a[e].getCardType(),l=a[e].getSecure(),n=a[e].getExpYear(),p=a[e].getNameOnCard(),r=a[e].getExpMonth();d.push({id:b,cardname:f,cardnumber:h,cardtype:k,secure:l,expYear:n,expMonth:r,cardHolderName:p})}return d}};b._initListeners();return b}(e.SymBfw,e.SymWax,e.SymO2,e.IDSafe)})(executionContext);
(function(e){(e.IDSafe.securityDashboard={}).utils=function(a,e){var f=a.utils.isNil,c=a.logger,b=a.utils.isntNil;a=e.constants.SECURITY_DASHBOARD;var g=void 0===a.PASSWORD_CATEGORY_LIST?[]:a.PASSWORD_CATEGORY_LIST,k={maxScore:10,getPasswordInfo:function(a){if(f(a))throw Error("Password cannot be null");a=zxcvbn(a);var b=a.guesses,e=a.feedback||{};a=void 0===e.suggestions?[]:e.suggestions;e=void 0===e.warning?"":e.warning;if(f(b))return c.error("Library Bug: Guesses cannot be null"),null;b=k._internalScore(b);
var d=k._getPasswordCategory(b);return{strength:b,category:d,warning:e,suggestions:a}},_internalScore:function(a){return 15>a?0:105>a?1:1005>a?2:10005>a?3:100005>a?4:1000005>a?5:a<1E7+5?6:a<1E8+5?7:a<1E9+5?8:a<1E10+5?9:k.maxScore},_getPasswordCategory:function(a){a=void 0===a?0:a;return g.find(function(b){return a<=b.strength}).category},_getDomain:function(a){return(new URI(a)).domain()},_autoChangeSupported:function(a){if(b(a)&&0<a.length&&(a=k._getDomain(a),b(a)&&0<a.length)){var c=e.passwordChanger.getPasswordChangerRule();
if(b(c)&&(a=c.getPasswordChangerJSONRuleForPage(a),b(a)&&a.hasOwnProperty("startingPage")))return!0}return!1},getDashboardCategory:function(a){a=void 0===a?50:a;return e.uiConstants.VAULT_TAB.DASHBOARD_HEALTH_CATEGORIES.find(function(b){return a<=b.score}).category}};return k}(e.SymBfw,e.IDSafe)})(executionContext);
(function(e){e.IDSafe.securityDashboard.engine=function(a,e){var f=a.utils.isNil,c=a.utils.isntNil,b=a.utils.isEmptyObject,g=e.securityDashboard.utils,k=e.vaultManager,p=a.extensionAdapter,l=a.settings,m=a.localizer,d=e.constants,h=e.uiConstants.SECURITY_DASHBOARD.MESSAGES,q=e.constants.SECURITY_DASHBOARD,r=q.LIST_VIEW_FILTERS,t=q.LIST_VIEW_SORTING_COLUMN,u=q.SORT_ORDER,v=q.PASSWORD_CATEGORY_LIST,w=e.uiConstants.VAULT_TAB.EVENT_NAME,n=w.LOGIN_ITEM_ADDED,A=w.LOGIN_ITEM_DELETED,E=w.LOGIN_ITEM_UPDATED,
D=w.LOGIN_ITEMS_DELETED,x=a.logger,z={AGED_PASSWORD_THRESHOLD_DAYS:180,_initDashboardLocalStorage:function(){l.loadSettingsContainer(d.IDSAFE_SECURITY_DASHBOARD_CONTAINER,!0,function(a,b,c){!1===a||f(b)?x.error("failed to load IDSAFE_GLOBAL_SETTINGS_CONTAINER"):z._settingsContainer=b})},_getDashboardVisitCount:function(){return f(z._settingsContainer)?(x.log("Cannot retrieve elements when key or settings container are null"),!0):z._settingsContainer.getObject(d.SECURITY_DASHBOARD_VISITED)||!1},_setDashboardVisitCount:function(a){f(z._settingsContainer)?
x.log("Cannot set to settings container when key or settingsContainer are null"):z._settingsContainer.setObject(d.SECURITY_DASHBOARD_VISITED,a)},_init:function(){p.addMessageListener(z._handleMessage);z._initDashboardLocalStorage();window.addEventListener(e.constants.EVENTS.VAULT_SYNC,z.debounce(z._loginItemsListeners,10));window.addEventListener(e.constants.EVENTS.SPOC_CALLBACK,z.debounce(z._loginItemsListeners,10))},getReusedPasswordInformation:function(a){var b={};for(g in a){var c=a[g],d=c.getPassword();
f(b[d])&&(b[d]=[]);b[d].push(c.getPath())}for(var e in b){var g=$jscomp.makeIterator(b[e]);for(c=g.next();!c.done;c=g.next())a[c.value].passwordDuplicateCount=b[e].length}},_isLoginItemAged:function(a){return f(a)?(x.log("Cannot determine the age without time argument"),!1):(Math.round((new Date).getTime()/1E3)-a)/86400>z.AGED_PASSWORD_THRESHOLD_DAYS?!0:!1},_dashboardStrength:function(a){var b=Object.keys(a).length;if(0===b)return 100;var c=0,d;for(d in a)c+=a[d].strength*g.maxScore/100;return Math.round(c/
(10*b)*100)},_getLastUpdatedTimeString:function(a,b,c){a=b-a;b=Math.floor(a/31536E3);if(0<b)return 2<=b?c["{0} years ago"].replace("{0}",b):c["1 year ago"];b=Math.floor(a/2592E3);if(0<b)return 2<=b?c["{0} months ago"].replace("{0}",b):c["1 month ago"];b=Math.floor(a/86400);if(0<b)return 2<=b?c["{0} days ago"].replace("{0}",b):c["1 day ago"];b=Math.floor(a/3600);if(0<b)return 2<=b?c["{0} hours ago"].replace("{0}",b):c["1 hour ago"];b=Math.floor(a/60);return 0<b&&2<=b?c["{0} minutes ago"].replace("{0}",
b):c["1 minute ago"]},_collectAutoCreatedItem:function(a){var b=[m.getLocalizedString(q.PASSWORD_CHANGE_FAILLURE_TEXT),m.getLocalizedString(q.PASSWORD_CHANGE_SUCCESS_TEXT)];return Object.keys(a).filter(function(c){return!0===z._isAutoCreatedItem(c,a,b)}).reduce(function(b,c){return b[c]=a[c],b},{})},_removeAutoCreatedItem:function(a){var b=[m.getLocalizedString(q.PASSWORD_CHANGE_FAILLURE_TEXT),m.getLocalizedString(q.PASSWORD_CHANGE_SUCCESS_TEXT)];return Object.keys(a).filter(function(c){return!0!==
z._isAutoCreatedItem(c,a,b)}).reduce(function(b,c){return b[c]=a[c],b},{})},_isAutoCreatedItem:function(a,b,c){return-1!==b[a].getSiteName().indexOf(c[1])?!0:!1},_prepareSecurityDashboardDataItem:function(a,b,d,f,h,k){var l={};l.loginURL=a.getLoginURL();l.path=a.getPath();l.siteName=a.getSiteName();l.username=a.getUsername();l.lastUpdate=a.getLastUpdate();l.isSecure=!0===a.getSecure()?!0:!1;l.passwordDuplicateCount=a.passwordDuplicateCount;l.autoChange=g._autoChangeSupported(a.getLoginURL());l.lastUpdatedDisplayString=
z._getLastUpdatedTimeString(a.getLastUpdate(),d,z.localizedVaultTabStrings);l.isRecentlyChanged=e.passwordChanger.isRecentlyChangedSuccessLogin(a.getPath());l.guidAutoChangeStatus="ready";c(h)&&(h=h.getStatus(k),c(h)&&(l.guidAutoChangeStatus=h));h=a.getPassword();c(h)?(h=g.getPasswordInfo(h),c(h)&&(d=Math.round((d-a.getLastUpdate())/f),f=h.strength,f=e.securityDashboardScore.calculateScore(f,d,a.passwordDuplicateCount,b),l.category=g._getPasswordCategory(f),l.strength=Math.round(f/g.maxScore*100))):
(l.strength=0,l.category=v[0].category);return l},_prepareSecurityDashboardData:function(){var b=k.getItemManager(k.constructor.LOGIN_MANAGER).getItems(),c=z._removeAutoCreatedItem(b);b=z._collectAutoCreatedItem(b);var d={},g={},h=e.passwordChanger._passwordChangerSession;if(f(c))return x.log("engine._prepareDataForSecurityDashboardPage - Vault is empty"),null;var l=Object.keys(c).length;f(z.localizedVaultTabStrings)&&(z.localizedVaultTabStrings=a.localizer.getLocalizedStrings(e.uiConstants.VAULT_TAB.strings));
var n=Math.round(Date.now()/1E3);z.getReusedPasswordInformation(c);for(var m in c){var q=z._prepareSecurityDashboardDataItem(c[m],l,n,2592E3,h,m);d[q.path]=q}for(var p in b)c=b[p],c.passwordDuplicateCount=1,c=z._prepareSecurityDashboardDataItem(c,l,n,2592E3,h,p),g[c.path]=c;return{loginItemsResult:d,loginAutoCreatedItemsResult:g}},_filterAndSortSecurityDashboardData:function(a,b,d,e,g){g=void 0===g?u.ASCENDING_ORDER:g;if(f(a)||0>=Object.keys(a).length)return x.log("engine._sortSecurityDashboardData - loginItems is not a valid vault login list"),
null;if(f(b)||b<r.None||b>r.Archived)return x.log("engine._sortSecurityDashboardData - filterCategory is not a valid value"),null;if(f(d)||d<t.None||d>t.Action)return x.log("engine._sortSecurityDashboardData - sortingColumn is not a valid value"),null;if(f(g)||g<u.None||g>u.DESCENDING_ORDER)return x.log("engine._sortSecurityDashboardData - sortingOrder is not a valid vault login list"),null;var h=[];switch(b){case r.Strength:for(var l in a){var n=a[l];n.category!==v[3].category&&n.category!==v[4].category&&
h.push(n)}break;case r.Duplicate:for(n in a)l=a[n],1<l.passwordDuplicateCount&&h.push(l);break;case r.Age:for(var p in a)l=a[p],!0===z._isLoginItemAged(l.lastUpdate)&&h.push(l);break;case r.None:for(var w in a)h.push(a[w]);break;case r.Archived:for(var A in e)h.push(e[A]);for(var D in a)-1!==a[D].siteName.indexOf(m.getLocalizedString(q.PASSWORD_CHANGE_FAILLURE_TEXT))&&h.push(a[D])}switch(d){case t.Strength:h.sort(function(a,b){return g===u.ASCENDING_ORDER?a.strength-b.strength:b.strength-a.strength});
break;case t.Duplicate:h.sort(function(a,b){return g===u.DESCENDING_ORDER?a.passwordDuplicateCount-b.passwordDuplicateCount:b.passwordDuplicateCount-a.passwordDuplicateCount});a=[];d=k.getItemManager(k.constructor.LOGIN_MANAGER);for(l=0;l<h.length;l++)if(n=h[l],c(n))for(a.push(n),n=d.getItem(n.path).getPassword(),h[l]=null,p=l+1;p<h.length;p++)b=h[p],c(b)&&n===d.getItem(b.path).getPassword()&&(a.push(b),h[p]=null);h=a;break;case t.Age:h.sort(function(a,b){return g===u.DESCENDING_ORDER?a.lastUpdate-
b.lastUpdate:b.lastUpdate-a.lastUpdate});break;case t.SiteName:h.sort(function(a,b){a=a.siteName.toLocaleLowerCase();b=b.siteName.toLocaleLowerCase();return g===u.DESCENDING_ORDER?a>b?-1:a<b?1:0:a>b?1:a<b?-1:0});break;case t.Action:h.sort(function(a,b){return g===u.DESCENDING_ORDER?a.autoChange-b.autoChange:b.autoChange-a.autoChange})}return h},_getDashboardData:function(a,b){if(f(a)||f(a.filterColumn)||f(a.sortingColumn)||f(a.sortingOrder))return x.log("engine._getDashboardData - invalid arguments - payload = ",
JSON.stringify(a)),null;var d=z._prepareSecurityDashboardData(),e=d.loginItemsResult,g=d.loginAutoCreatedItemsResult;d=Object.keys(e).length+Object.keys(g).length;var h=0,k=0,l=0;var n=0;var p=new Date;p.setDate(p.getDate()-z.AGED_PASSWORD_THRESHOLD_DAYS);for(A in e){var w=e[A];w.category!==v[3].category&&w.category!==v[4].category&&h++;1<w.passwordDuplicateCount&&k++;new Date(1E3*w.lastUpdate)<p&&l++;-1!==w.siteName.indexOf(m.getLocalizedString(q.PASSWORD_CHANGE_FAILLURE_TEXT))&&n++}var A=h+k+l;
n=Object.keys(g).length+n;if(c(a.isTelemetryData)&&!0===a.isTelemetryData)b({weak_logins_count:h,aged_logins_count:l,reused_logins_count:k});else{if(a.filterColumn===r.None&&a.sortingColumn===t.None&&a.sortingOrder===u.None)return{dashboard_score:z._dashboardStrength(e),logins_count_total:Object.keys(e).length,total_issues:A};a=z._filterAndSortSecurityDashboardData(e,a.filterColumn,a.sortingColumn,g,a.sortingOrder);e={dashboard_score:z._dashboardStrength(e),logins_count_total:Object.keys(e).length,
total_issues:A,weak_logins_count:h,reused_logins_count:k,aged_logins_count:l,data:a,archived_logins_count:n,allItemCount:d,dashboardVisited:z._getDashboardVisitCount()};b(e)}},_passwordForLoginItem:function(a,b){if(f(b)||f(a)||f(a.login_guid))x.log("engine._passwordForLoginItem - invalid arguments - payload = ",JSON.stringify(a)),b(null);else{a=k.getItemManager(k.constructor.LOGIN_MANAGER).getItem(a.login_guid);var d=null;c(a)&&(d=a.getPassword(),f(d)&&(d=""));b(d)}},_clearGuidStatusObject:function(a){e.passwordChanger._passwordChangerSession.clearStatus(a)},
_handleMessage:function(a,b,c){c=a.payload;switch(a.id){case h.REQUEST_LIST_VIEW_DATA:return z._getDashboardData(c,b),!0;case h.REQUEST_RIBBON_DATA:return z.getRibbonData(b),!0;case h.REQUEST_PASSWORD_FOR_LOGIN_ITEM:return z._passwordForLoginItem(c,b),!0;case h.CLEAR_GUID_STATUS_MAP:return z._clearGuidStatusObject(c.guid),z._getDashboardData(c,b),!0;case h.REQUEST_DASHBOARD_VISIT_STATUS:return z._setDashboardVisitCount(c),!0;case h.OPEN_LEARNMORE:return z._openDashboardLearnMoreLink(),!0}},getDashboardStrengthCategory:function(){var a=
z._prepareSecurityDashboardData();a=z._dashboardStrength(a.loginItemsResult);return g.getDashboardCategory(a)},checkAndSendVaultStatusPing:function(){z._getDashboardData({isTelemetryData:!0,filterColumn:r.None,sortingColumn:t.None,sortingOrder:u.None},function(a){if(f(a)||b(a))x.log("Resultant data cannot be null or empty");else{var d=e.globalSettings.getValue(e.constants.VAULT_HEALTH_STATUS_NEXT_PING),g=(new Date).getTime();c(d)&&d>g?x.log("Time hasnt been lapsed to display the dashboard health status again"):
(d=z.getDashboardStrengthCategory(),e.telemetryWrapper.sendVaultHealthStatus({weakLogins:a.weak_logins_count,aged:a.aged_logins_count,reused:a.reused_logins_count,category:d}),a=new Date,a=a.setDate(a.getDate()+30),e.globalSettings.setValue(e.constants.VAULT_HEALTH_STATUS_NEXT_PING,a))}})},_loginItemsListeners:function(a){var b=void 0===a?{}:a;a=b.type;b=(b.detail||{}).name;var c={};((c[n]=n,c[A]=A,c[E]=E,c[D]=D,c)[b]||a===e.constants.EVENTS.SPOC_CALLBACK)&&z.preFetchRibbonData()},debounce:function(a,
b){var c;return function(){var d=arguments,e=!c;clearTimeout(c);c=setTimeout(function(){c=null},b);e&&a.apply(this,d)}},preFetchRibbonData:function(){z.ribbonData=z._getDashboardData({filterColumn:r.None,sortingColumn:t.None,sortingOrder:u.None})},getRibbonData:function(a){c(a)&&a(z.ribbonData);return z.ribbonData},_openDashboardLearnMoreLink:function(){var b=q.LEARN_MORE_URL,c=a.localizer.getNavigatorLanguage();b=b.replace("SITE_DIRECTOR_LAN_CODE",c);p.createTab(b)}};z._init();return z}(e.SymBfw,
e.IDSafe)})(executionContext);
(function(e){(e.XIDSafe=e.XIDSafe||{}).constants={eventName:{EXIT:"FC74D3C2-A0A8-4CD6-B12A-6F52535C2756",SHOW:"0016619E-7611-4D49-BC67-F2D62103DCE5",HIDE:"3FBE1BA2-4A54-4057-8C3A-14630B5EC714",SHOW_PROGRESS:"33B01B42-B245-49C7-B84A-92E7E7149083",HIDE_PROGRESS:"A9A6F7CF-5C68-4E3F-80D0-9D67225FA5A3",LAUNCH_URL:"F68FEFAC-D494-4092-99C7-6D7671C8119A",LAUNCH_PURCHASE:"B82C4AF1-62DF-48CE-81E0-2E050B2E01B5",PROCESS:"05F17E96-BE75-46B0-A9DD-F64E93E0681E",GET_ELEMENTS:"509B8702-B55B-44A6-B5E7-1A85A84CE3F2",SET_ELEMENTS:"EB4BE41E-11B2-4159-B9F7-3CAA8514393C",
GET_LOCALSTORAGE:"833389F0-578A-40B8-93E2-C93687BC1DA5",SET_LOCALSTORAGE:"B226C6C4-B012-4E44-AD9E-AA061670C55B"},requestEvent:"103FC480-47AB-4717-A195-45D7B60E5D84",responseEvent:"3C399BB3-8CC7-4C25-9A9A-EC6DD1CB9322",ISO2_ISO3_COUNTRY:{AX:"ALA",AF:"AFG",AL:"ALB",DZ:"DZA",AS:"ASM",AD:"AND",AO:"AGO",AI:"AIA",AQ:"ATA",AG:"ATG",AR:"ARG",AM:"ARM",AW:"ABW",AU:"AUS",AT:"AUT",AZ:"AZE",BS:"BHS",BH:"BHR",BD:"BGD",BB:"BRB",BY:"BLR",BE:"BEL",BZ:"BLZ",BJ:"BEN",BM:"BMU",BT:"BTN",BO:"BOL",BA:"BIH",BW:"BWA",BV:"BVT",
BR:"BRA",IO:"IOT",BN:"BRN",BG:"BGR",BF:"BFA",BI:"BDI",KH:"KHM",CM:"CMR",CA:"CAN",CV:"CPV",KY:"CYM",CF:"CAF",TD:"TCD",CL:"CHL",CN:"CHN",CX:"CXR",CC:"CCK",CO:"COL",KM:"COM",CD:"COD",CG:"COG",CK:"COK",CR:"CRI",CI:"CIV",HR:"HRV",CU:"CUB",CY:"CYP",CZ:"CZE",DK:"DNK",DJ:"DJI",DM:"DMA",DO:"DOM",EC:"ECU",EG:"EGY",SV:"SLV",GQ:"GNQ",ER:"ERI",EE:"EST",ET:"ETH",FK:"FLK",FO:"FRO",FJ:"FJI",FI:"FIN",FR:"FRA",GF:"GUF",PF:"PYF",TF:"ATF",GA:"GAB",GM:"GMB",GE:"GEO",DE:"DEU",GH:"GHA",GI:"GIB",GR:"GRC",GL:"GRL",GD:"GRD",
GP:"GLP",GU:"GUM",GT:"GTM",GN:"GIN",GW:"GNB",GY:"GUY",HT:"HTI",HM:"HMD",HN:"HND",HK:"HKG",HU:"HUN",IS:"ISL",IN:"IND",ID:"IDN",IR:"IRN",IQ:"IRQ",IE:"IRL",IL:"ISR",IT:"ITA",JM:"JAM",JP:"JPN",JO:"JOR",KZ:"KAZ",KE:"KEN",KI:"KIR",KP:"PRK",KR:"KOR",KW:"KWT",KG:"KGZ",LA:"LAO",LV:"LVA",LB:"LBN",LS:"LSO",LR:"LBR",LY:"LBY",LI:"LIE",LT:"LTU",LU:"LUX",MO:"MAC",MK:"MKD",MG:"MDG",MW:"MWI",MY:"MYS",MV:"MDV",ML:"MLI",MT:"MLT",MH:"MHL",MQ:"MTQ",MR:"MRT",MU:"MUS",YT:"MYT",MX:"MEX",FM:"FSM",MD:"MDA",MC:"MCO",MN:"MNG",
MS:"MSR",MA:"MAR",MZ:"MOZ",MM:"MMR",NA:"NAM",NR:"NRU",NP:"NPL",NL:"NLD",AN:"ANT",NC:"NCL",NZ:"NZL",NI:"NIC",NE:"NER",NG:"NGA",NU:"NIU",NF:"NFK",MP:"MNP",NO:"NOR",OM:"OMN",PK:"PAK",PW:"PLW",PS:"PSE",PA:"PAN",PG:"PNG",PY:"PRY",PE:"PER",PH:"PHL",PN:"PCN",PL:"POL",PT:"PRT",PR:"PRI",QA:"QAT",RE:"REU",RO:"ROU",RU:"RUS",RW:"RWA",SH:"SHN",KN:"KNA",LC:"LCA",PM:"SPM",VC:"VCT",WS:"WSM",SM:"SMR",ST:"STP",SA:"SAU",SN:"SEN",CS:"SCG",SC:"SYC",SL:"SLE",SG:"SGP",SK:"SVK",SI:"SVN",SB:"SLB",SO:"SOM",ZA:"ZAF",GS:"SGS",
ES:"ESP",LK:"LKA",SD:"SDN",SR:"SUR",SJ:"SJM",SZ:"SWZ",SE:"SWE",CH:"CHE",SY:"SYR",TW:"TWN",TJ:"TJK",TZ:"TZA",TH:"THA",TL:"TLS",TG:"TGO",TK:"TKL",TO:"TON",TT:"TTO",TN:"TUN",TR:"TUR",TM:"TKM",TC:"TCA",TV:"TUV",UG:"UGA",UA:"UKR",AE:"ARE",GB:"GBR",US:"USA",UM:"UMI",UY:"URY",UZ:"UZB",VU:"VUT",VA:"VAT",VE:"VEN",VN:"VNM",VG:"VGB",VI:"VIR",WF:"WLF",EH:"ESH",YE:"YEM",ZM:"ZMB",ZW:"ZWE"},IDENTITY_JOB:"IDENTITY"}})(executionContext);
(function(e){e=e.IDSafe=e.IDSafe||{};var a=dcodeIO.ProtoBuf.newBuilder({})["import"]({"package":null,messages:[{name:"devices",fields:[],options:{java_package:"com.symantec.vault.devices.messages",optimize_for:"SPEED"},messages:[{name:"DeviceArray",fields:[{rule:"repeated",type:"Device",name:"device",id:1}]},{name:"Device",fields:[{rule:"required",type:"string",name:"id",id:1},{rule:"required",type:"bytes",name:"pubKey",id:2},{rule:"required",type:"string",name:"name",id:3},{rule:"required",type:"string",
name:"os",id:4},{rule:"optional",type:"string",name:"type",id:5}]}]},{name:"unlock",fields:[],options:{java_package:"com.symantec.vault.unlock.messages",optimize_for:"SPEED"},messages:[{name:"UnlockResponse",fields:[{rule:"optional",type:"string",name:"enc_key",id:1},{rule:"required",type:"string",name:"bump_sessionid",id:2},{rule:"optional",type:"int32",name:"status_code",id:3}]},{name:"UnlockRequest",fields:[{rule:"required",type:"bytes",name:"enc_key",id:1},{rule:"required",type:"bytes",name:"enc_sessionkey",
id:2},{rule:"required",type:"string",name:"bump_sessionid",id:3},{rule:"required",type:"string",name:"deviceID",id:4},{rule:"required",type:"uint64",name:"uTime",id:5},{rule:"optional",type:"DesktopInfo",name:"desktopinfo",id:6}]},{name:"DesktopInfo",fields:[{rule:"optional",type:"string",name:"productName",id:1},{rule:"optional",type:"string",name:"productVersion",id:2}]}]}]}).build();e.proto=a})(executionContext);
(function(e){(e.IDSafe=e.IDSafe||{}).apiGateWay=function(a){var e=SymBfw.utils.isNil,f=SymBfw.utils.isntNil,c=a.constants,b=SymBfw.logger,g=c.CCT_URL_PARAMKEY.ACCESS_TOKEN,B=function(){};B.prototype.getAPIClient=function(){var a=this,b,e,d,g,k,r;return $jscomp.asyncExecutePromiseGeneratorProgram(function(h){switch(h.nextAddress){case 1:return h.yield(a.getIDToken(),2);case 2:b=h.yieldResult,e=c.VAULT_UNLOCK.PROVIDER_URL,d={},g={IdentityPoolId:c.VAULT_UNLOCK.POOL_ID,Logins:(d[e]=b,d)},k=0;case 3:if(!(3>
k)){h.jumpTo(5);break}return h.yield(a.getAWSSDKInterface(g),6);case 6:r=h.yieldResult;if(f(r))return h.return(r);k++;h.jumpTo(3);break;case 5:return h.return(null)}})};B.prototype.getAWSSDKInterface=function(a){var e,f;return $jscomp.asyncExecutePromiseGeneratorProgram(function(d){if(1==d.nextAddress)return AWS.config.region=c.VAULT_UNLOCK.AWS_REGION,AWS.config.credentials=new AWS.CognitoIdentityCredentials(a),d.setCatchFinallyBlocks(2),d.yield(AWS.config.credentials.getPromise(),4);if(2!=d.nextAddress)return e=
apigClientFactory.newClient({accessKey:AWS.config.credentials.accessKeyId,secretKey:AWS.config.credentials.secretAccessKey,sessionToken:AWS.config.credentials.sessionToken,region:c.VAULT_UNLOCK.AWS_REGION}),d.return(e);f=d.enterCatchBlock();b.debug(f);return d.return(null)})};B.prototype.getIDToken=function(){var a;return $jscomp.asyncExecutePromiseGeneratorProgram(function(b){a=SymO2.session.getIDToken();return f(a)?b.return(a):b.return(new Promise(function(b,c){SymO2.sso.getTokensFromRefreshToken(function(d){200===
d?(a=SymO2.session.getIDToken(),b(a)):c(null)})}))})};B.prototype.getDeviceList=function(){var b=this,c,f,d,h,k,r;return $jscomp.asyncExecutePromiseGeneratorProgram(function(l){if(1==l.nextAddress)return l.yield(b.getAPIClient(),2);if(3!=l.nextAddress){c=l.yieldResult;if(e(c))throw Error("API Authorization Failed");f={};d={headers:(f[g]=SymO2.session.getAccessToken(),f)};return l.yield(c.deviceGet(null,{},d),3)}h=l.yieldResult;k=a.proto.devices.DeviceArray;r=k.decode64(h.data);return l.return(r)})};
B.prototype.deleteDevice=function(a){var b=this,c,d,f,k,p;return $jscomp.asyncExecutePromiseGeneratorProgram(function(h){if(1==h.nextAddress){if(e(a))throw Error("Device canno be null");return h.yield(b.getAPIClient(),2)}if(3!=h.nextAddress){c=h.yieldResult;if(e(c))throw Error("API Authorization Failed");d={};f={headers:(d[g]=SymO2.session.getAccessToken(),d)};k={device:a};return h.yield(c.deviceDelete(null,k,f),3)}p=h.yieldResult;return h.return(p)})};B.prototype.unlockRequest=function(a){var b=
this,c,d,f,k,p;return $jscomp.asyncExecutePromiseGeneratorProgram(function(h){if(1==h.nextAddress){if(e(a))throw Error("request canno be null");return h.yield(b.getAPIClient(),2)}if(3!=h.nextAddress){c=h.yieldResult;if(e(c))throw Error("API Authorization Failed");d={};f={headers:(d[g]=SymO2.session.getAccessToken(),d)};k={request:a};return h.yield(c.unlockRequestPost(null,k,f),3)}p=h.yieldResult;return h.return(p)})};return new B}(IDSafe,SymBfw)})(executionContext);
(function(e){e.IDSafe.init=function(a,e){var f={},c=e.constants,b=SymBfw.utils.isNil,g=SymBfw.utils.isntNil,k=SymBfw.settings,p=SymBfw.logger,l=e.signIn,m=e.extension;f.supported_languages={el:!0,en:!0,pt_br:!0,it:!0,ar:!0,cs:!0,es:!0,ru:!0,nl:!0,pt:!0,no:!0,nb:!0,tr:!0,ro:!0,pl:!0,fr:!0,zh_tw:!0,de:!0,da:!0,fi:!0,hu:!0,ja:!0,he:!0,zh_cn:!0,ko:!0,sv:!0};f.initializeLocalizer=function(){return new Promise(function(a,b){SymBfw.localizer.initialize(f.supported_languages,function(c,d){!0===c?a("localizer is ready"):
b("localizer initialize failed: "+d)})})};f.initializeExtensionInformation=function(){return new Promise(function(b,c){a.session.initialize(["idsc_read","idsc_write","email"],"https://accesstoken.idsafe.norton.com/","VEF4GPDMZZ/accesstoken.idsafe.norton.com/symantec");m.initializeInformation(function(a){a?b("Extension information is ready."):c("Error occurred while loading the extension information")})})};f.initializeSignInSession=function(){return new Promise(function(a,e){var d=k.loadSettingsContainer(c.SIGNIN_SESSION_CONTAINER,!1);b(d)?e("Failed to load signIn session container"):
(l.setContainer(d),a("Signin session ready"))})};f.initializeBrowserImportContainer=function(){return new Promise(function(a,b){e.browserImportSettings.initialize()?a("Browser Import settings initialized"):b("Failed to initialize browser import settings")})};f.initializeSecurityDashboardNotificationSettings=function(){return new Promise(function(a,b){e.securityDashboard.securityDashboardNotificationMgr.initialize(function(c){c?a("Security dashboard nortification settings initialized"):b("Failed to initialize security dashboard notification settings")})})};
f.initializeGlobalSettings=function(){return new Promise(function(a,b){e.globalSettings.initialize(function(c){c?a("Global settings initialized"):b("Failed to initialize global settings")})})};f.initializeTelemetry=function(){return new Promise(function(a,b){var c=SymBfw.telemetryConstants;c={APPLICATION_NAME:"Norton Identity Safe_"+SymBfw.extensionAdapter.getExtensionId(),APPLICATION_VERSION:e.extension.getVersion(),CLIENT_ID:e.extension.getClientID(),DATA_SOURCE:c.dataSource.BROWSER_EXTENSION,TRACKING_ID:e.constants.TELEMETRY_TRACKING_ID,
USER_LANGUAGE:navigator.language,ANONYMIZE_IP:1,GOOGLE_ANALYTICS_PROTOCOL_VERSION:1};try{SymBfw.telemetry.init(c,function(c){!0===c?a("Telemetry initialized"):b("Failed to initialize telemetry")})}catch(r){b("Failed to initialize telemetry. Error: "+r)}})};f._initializeWAXTelemetry=function(){var a=e.telemetryWrapper.getDefaultParametersForWaxTelemetry();SymWax.telemetryWrapperBG.setDefaultParameter(a)};f._initializeWAX=function(a){return SymWax.init.initializeWaxFormDataLoaderSettings(a)};f._handleInstall=
function(){var a=e.globalSettings.getValue(e.constants.STORED_VERSION);return b(a)?e.chromeGlobal.onInstall():Promise.resolve(!0)};f.initializeCompromisedPassword=function(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(a){return e.compromisedPasswordHelper.isCompromisedPasswordFlowEnabled()?a.yield(e.compromisedPasswordHelper.initialize(),0):a.jumpTo(0)})};f.ready=function(){if(g(f.readyPromise))return f.readyPromise;f.readyPromise=function(){var b,c;return $jscomp.asyncExecutePromiseGeneratorProgram(function(d){switch(d.nextAddress){case 1:return d.setCatchFinallyBlocks(2),
SymBfw.extensionAdapter.init(),d.yield(Promise.all([a.init.ready(),f.initializeLocalizer(),f.initializeSignInSession(),f.initializeBrowserImportContainer(),f.initializeExtensionInformation(),f.initializeGlobalSettings(),f.initializeSecurityDashboardNotificationSettings(),f.initializeCompromisedPassword()]),4);case 4:return d.yield(f._handleInstall(),5);case 5:return b=SymBfw.localizer.getLocale(),d.yield(Promise.all([f.initializeTelemetry(),f._initializeWAX(b)]),6);case 6:return d.return(Promise.resolve("IDSafe is ready"));
case 2:return c=d.enterCatchBlock(),p.error("IDSafe initialize failed: "+c),d.return(Promise.reject("IDSafe initialize failed: "+c))}})}();return f.readyPromise};return f}(e.SymO2,e.IDSafe)})(executionContext);
(function(e){e.IDSafe.cctWorker=function(a,e,f){var c=e.signIn,b=e.constants,g=f.constants.eventName,k=a.extensionAdapter,p=a.utils.isNil,l=SymO2.cct,m=e.session,d=a.localizer,h=e.telemetryWrapper,q=e.globalSettings,r={_tabID:null,_isSignInTabAlreadyCaptured:!1,_isSignInSession:!1,_browserLocale:null,_newTab:[],initializeCCTWorker:function(a){p(a)?r._browserLocale=navigator.language:r._browserLocale=a},startSignInSession:function(){r._isSignInSession=!0;r._isSignInTabAlreadyCaptured=!1;k.addTabUpdatedEventListener(r.handleTabUpdated);
k.addTabRemovedEventListener(r.onTabClosed);k.addOnBeforeRequestEventListener(r._onBeforeRequest,[b.CCT_URL+"?*"],["blocking"])},_onBeforeRequest:function(a){!1===r._isSignInTabAlreadyCaptured&&!0===r._isSignInSession&&(r._tabID=a.tabId,r._isSignInTabAlreadyCaptured=!0,h.sendCCTLaunched());k.removeOnBeforeRequestEventListener(r._onBeforeRequest)},_originCheck:function(a){return p(a)||k.getTabID(a)!==r._tabID?!1:!0},handleTabUpdated:function(c,d,e){p(r._tabID)||p(e)||p(e.url)||r._tabID!==c||(c=a.utils.baseURL(e.url),
-1===b.CCT_URL.indexOf(c)&&-1===e.url.indexOf(SymO2.authSCD.SSO_LOGIN_URL)&&r._resetSignInSession())},onTabClosed:function(a){p(r._tabID)||a===r._tabID&&r._resetSignInSession()},_resetSignInSession:function(){p(r._tabID)||(r._isSignInSession=!1,r._tabID=null,c.resetContainer(),a.utils.createCustomHTMLEvent(e.constants.NORTON_SIGN_IN_SESSION))},handleMessage:function(d,e,f){if(r._originCheck(f)&&!p(d)&&!p(d.id)){var h=k.getTabID(f),l=d.payload;f={};f.eventID=d.id;switch(d.id){case g.EXIT:r._newTab=
[];f.response=!0;k.getAllTabs(function(c){1===c.length&&k.createTab("about:blank",function(a){r._newTab.push(a.id)});k.closeTab(h);r._resetSignInSession();a.utils.createCustomHTMLEvent(b.IDSAFE_CLOSED_TAB,{tabId:h})});break;case g.SHOW:c.openCCTPage();f.response=!0;break;case g.HIDE:f.response=!0;break;case g.SHOW_PROGRESS:f.response=!0;break;case g.HIDE_PROGRESS:f.response=!0;break;case g.LAUNCH_URL:f.response=!0;break;case g.LAUNCH_PURCHASE:f.response=!0;break;case g.PROCESS:for(var m in l)r._processJobHandler(l[m],
e);return;case g.GET_ELEMENTS:d=r.getElements(l);f.code=!0;f.data=d;break;case g.SET_ELEMENTS:f.response=!0;break;case g.GET_LOCALSTORAGE:f.response=!0;break;case g.SET_LOCALSTORAGE:f.response=!0;break;default:return}e(f)}},getElements:function(a){var c=r._browserLocale.split("-"),e=c[0];c=c[1];p(c)&&"ja"===e&&(c="JP");p(c)&&(c="US");e={Action:b.CCT.ACTION,LayoutMediaSKU:b.CCT.LAYOUTMEDIA_SKU,LayoutProductLanguage:d.getLocale(),OSLanguage:d.getLocale(),Fingerprint:q.getFingerprint(),EndPointId:SymO2.authSCD.getMachineGUID(),
MachineName:navigator.platform,OSLocale:d.getNavigatorLanguage(),RequesterIds:b.CCT.REQUESTERIDS,PartnerUnitId:b.CCT.PARTNER_UNITID,Country:c};c={};for(var f in a){var g=a[f],h=e[g];p(h)&&(h=null);c[g]=h}return c},_processJobHandler:function(b,d){b.Job===e.constants.IDENTITY_JOB&&(l.storeOIDCTokensAndConnectToOxygen(b.Data,function(b,d){c.resetState();!1===b?(m.logoutNA(null,!1),c.removeSignInTab(),b=a.localizer.getLocalizedString("Sorry, something went wrong. Please try again."),d=a.localizer.getLocalizedString("__LONG_PRODUCT_NAME__"),
b=new a.TimedNotification(b,e.notificationIcon.getErrorIcon(),d),a.notificationCenter.addNotification(b)):(r._isSignInSession=!1,r._tabID=null,c.processVaultFlow(),k.closeTab(r._newTab))}),h.sendCCTSuccess(),d({eventID:g.PROCESS,state:!0,jobName:b.Job,responseData:null}))}};k.addMessageListener(r.handleMessage);return r}(e.SymBfw,e.IDSafe,e.XIDSafe)})(executionContext);
(function(e){e.IDSafe.PasswordChangerRule=function(a,e){a=function(){};a.prototype.getPasswordChangerRuleForPage=function(a){throw Error("Abstract method!");};a.prototype.initialize=function(){throw Error("initialize Abstract method!");};return a}(e.SymBfw,e.IDSafe)})(executionContext);
(function(e){e.IDSafe.PasswordChangerJSONRule=function(a,e){var f=a.utils.isNil,c=a.utils.isString,b=a.utils.isntNil,g=a.logger,k=a.utils,p=k.isSuccessCodeLocalFile,l=e.constants.passwordJSONURL,m=a.extensionAdapter.getExtensionURL("content/PasswordChangerRule/password_changer_rules.json"),d=k.urlProtocol(m),h=e.constants.passwordRuleRootCA,q=e.constants.CERT_INFO;var r=["https",d];var t=["json"];var u={UNSUCCESSFUL_RESPONSE:"Unsuccessful response with status code",INVALID_URL:"Invalid JSON url",
JSON_TAMPERED:"Passworchanged JSON has been tampered",JSON_FETCH_TELEMENTRY:"SERVER_JSON_Fetch_Failed"};d=function(){e.PasswordChangerRule.apply(this);this._version=this._rulesJson=null};d.prototype=Object.create(e.PasswordChangerRule.prototype);d.prototype.initialize=function(){this._getRulesJson()};d.prototype._getRulesJson=function(){var a=this;return new Promise(function(c,d){if(b(a._rulesJson))return c(a._rulesJson);a._getJSON(l,h,q,m).then(function(b){if(f(b))return d(Error("Failed to parse rules json"));
a._rulesJson=b.rules;a._version=b.version;c()},function(a){d(Error("Failed to parse rules json"))})})};d.prototype._getJSON=function(b,c,d,f){var h=this;return a.cdnFileDownloader.getPayloadFromCdnFile(b,c,d).then(function(a){return a}).catch(function(a){e.telemetryWrapper.autoPasswordChanger(u.JSON_FETCH_TELEMENTRY+"-"+a+"-"+b);return h._getLocalJSON(f)}).catch(function(a){g.error(a+"-"+f);throw a;})};d.prototype._getLocalJSON=function(a){var b=this;return this._isValidJSONUrl(a)?k.safeFetch(a).then(function(a){if(p(a.status)&&
b._isValidJSONUrl(a.url))return a.json();throw u.UNSUCCESSFUL_RESPONSE+" "+a.status;}).then(function(a){return void 0===a.payload?{}:a.payload}).catch(function(a){throw a;}):Promise.reject(u.INVALID_URL)};d.prototype._isValidJSONUrl=function(a){a=void 0===a?"":a;try{var b=k.urlProtocol(a),c=(k.pathName(a)||"").split(".").pop()||"";return-1!==r.indexOf(b)&&-1!==t.indexOf(c)}catch(A){return!1}};d.prototype.getPasswordChangerJSONRuleForPage=function(a){if(!c(a))g.error("Invalid parameters passed to getPasswordChangerJSONRuleForPage");
else if(!f(this._rulesJson)){var b={};this._rulesJson.hasOwnProperty(a)&&(b=this._rulesJson[a]);return b}};return d}(e.SymBfw,e.IDSafe)})(executionContext);
(function(e){e.IDSafe.passwordChangerRuleFactory=function(a,e){var f=a.utils.isntNil,c=a.utils.isFunction,b={_createPasswordChangerJSONRule:function(){return new e.PasswordChangerJSONRule},_ruleFactory:{}};b._ruleFactory[e.constants.JSONRule]=b._createPasswordChangerJSONRule;b.createRuleObject=function(a){return c(b._ruleFactory[a])&&(a=b._ruleFactory[a](),f(a))?a:null};return b}(e.SymBfw,e.IDSafe)})(executionContext);
(function(e){e.IDSafe.PasswordChangerPageManager=function(a,e){var f=a.utils.isNil;a=function(a){this._pages=a};a.prototype.getPages=function(){return this._pages};a.prototype.setPage=function(a){this._pages=a};a.prototype.preparePageRule=function(a,b,e){var c=JSON.parse(JSON.stringify(this.getPages()));if(!f(c)){var g=c.Pages;Object.keys(g).forEach(function(k){for(var l=g[k].Actions,d=0;d<l.length;d++)switch(l[d].Data){case "__USER_NAME__":c.Pages[k].Actions[d].Data=f(a)?"":a;break;case "__OLD_PASSWORD__":c.Pages[k].Actions[d].Data=
f(b)?"":b;break;case "__NEW_PASSWORD__":c.Pages[k].Actions[d].Data=f(e)?"":e}});this.setPage(c)}};a.prototype.getStartingPage=function(){var a=this.getPages();return f(a)||f(a.startingPage)?null:a.startingPage};a.prototype.getExcludedSymbols=function(){var a=this.getPages();return f(a)||f(a.excludeSymbols)?null:a.excludeSymbols};a.prototype.getURL=function(){var a=this.getPages();return f(a)||f(a.url)?null:a.url};a.prototype.getAllowedURL=function(){var a=this.getPages();return f(a)||f(a.allowedUrl)?
null:a.allowedUrl};a.prototype.getPageForKey=function(a){var b=this.getPages();if(f(b)||!b.Pages.hasOwnProperty(a))return null;a=b.Pages[a];if(f(b.allowedUrl))return null;a.allowedUrl=b.allowedUrl;return a};return a}(e.SymBfw,e.IDSafe)})(executionContext);
(function(e){e.IDSafe.passwordChanger=function(a,e){var f=a.utils.isNil,c=a.utils.isFunction,b=a.utils.isntNil,g=a.logger,k=a.extensionAdapter,p=e.constants,l=e.uiConstants.SECURITY_DASHBOARD.MESSAGES,m={_passwordChangerRule:null,_passwordChangerSession:null,_passwordChangerSuccessLogin:{},_cachedTelemetryData:[],PASSWORD_STATUS_TIMEOUT:15,initialize:function(){k.addMessageListener(m.handleMessage);k.addTabUpdatedEventListener(m.handleTapUpdated);k.addTabReplacedEventListener(m.handleTabReplace);
k.addTabRemovedEventListener(m.handleTabClose);k.addWindowRemovedEventListener(m.handleWindowClose);m._passwordChangerRule=e.passwordChangerRuleFactory.createRuleObject(p.JSONRule);m._passwordChangerRule.initialize()},clearCachedTelemetryData:function(){m._cachedTelemetryData=[]},addTelemetryDataItemIntoCach:function(a){m._cachedTelemetryData.push(a)},getCachedTelemetryData:function(){m._cachedTelemetryData;var a="",b;for(b in m._cachedTelemetryData)a+=m._cachedTelemetryData[b]+"\n";return a},addRecentlyChangedSuccessLogin:function(a){m._passwordChangerSuccessLogin[a]=
new Date},isRecentlyChangedSuccessLogin:function(a){return!1===m._passwordChangerSuccessLogin.hasOwnProperty(a)?!1:(new Date-m._passwordChangerSuccessLogin[a])/6E4>m.PASSWORD_STATUS_TIMEOUT?(delete m._passwordChangerSuccessLogin[a],!1):!0},getPasswordChangerRule:function(){return m._passwordChangerRule},getPasswordChangerRuleVersion:function(){return m._passwordChangerRule._version},handleTabClose:function(a,c){b(m._passwordChangerSession)&&(c.isWindowClosing&&c.isWindowClosing?m._passwordChangerSession.clearTab():
m._passwordChangerSession.clearTab(a))},handleWindowClose:function(a){b(m._passwordChangerSession)&&m._passwordChangerSession.clearTab()},handleTabReplace:function(a,b){},handleTapUpdated:function(b,c,e){f(m._passwordChangerSession)||(m._notifyPages(e),c.status===a.constants.NAVIGATION_COMPLETE&&(m._cancelForUserNavigation(e,b),g.log("Tab updated"),m._executeNextStep(b)))},_cancelForUserNavigation:function(a,b){f(m._passwordChangerSession)||m._passwordChangerSession.cancelForUserNavigation(a,b)},
_startSession:function(b,c){c=void 0===c?!1:c;a.utils.isntNil(m._passwordChangerSession)&&delete m._passwordChangerSession;m._passwordChangerSession=new e.PasswordChangerSession(b,c);m._passwordChangerSession.startSession()},_executeNextStep:function(a){f(m._passwordChangerSession)||m._passwordChangerSession.processNextStep(a)},_processTaskStatus:function(a,b){f(this._passwordChangerSession)||m._passwordChangerSession.processTaskStatus(a,b)},_cancelSesssion:function(){f(m._passwordChangerSession)||
m._passwordChangerSession.cancelSession()},isAutoChangeRunning:function(a){var c=!1;b(m._passwordChangerSession)&&(c=m._passwordChangerSession.notifyAutoChangeRunning(k.getTabID(a),a.url));return c},_notifyPages:function(a,b){var c=m.isAutoChangeRunning(a);b?b(c):k.sendMessageToTab(a,{id:l.AUTO_CHANGE_RUNNING,isAutoChangeRunning:c},function(a){})},handleMessage:function(a,b,e){if(!f(a)&&c(b))switch(a.id){case l.CHANGE_LOGIN_PASSWORD:m._startSession(a.guids);break;case l.CANCEL_CHANGE_LOGIN_PASSWORD:m._cancelSesssion();
break;case l.TASK_STATUS:m._processTaskStatus(a,k.getTabID(e));break;case l.AUTO_CHANGE_RUNNING:m._notifyPages(e,b)}},startAutoChangeFromCP:function(a){m._startSession(a,!0)}};m.initialize();return m}(e.SymBfw,e.IDSafe)})(executionContext);
(function(e){e.IDSafe.PasswordChangerSession=function(a,e){var f=a.utils.isNil,c=a.utils.isntNil,b=a.logger,g=a.extensionAdapter,k=e.constants.passwordChangerState,p=e.vaultManager,l=e.uiConstants.SECURITY_DASHBOARD.MESSAGES,m=e.uiConstants.SECURITY_DASHBOARD.TASK_STATUS,d=e.telemetryWrapper,h=a.localizer,q=e.uiConstants.AUTO_PASSWORD_CHANGER_OVERLAY.TYPES,r=a.utils.urlWithoutQueryParameters,t=e.statusReporter,u={LAUNCHED:"AutoChange_Launched",COMPLETED:"AutoChange_Completed",ERROR:"AutoChange_Error",
FAILED:"AutoChange_Failed",INTERRUPTED:"AutoChange_Interrupted",USER_UPDATED_PASSWORD:"AutoChange_UserUpdatedPassword",INTERACTIVE:{COMPLETED:"AutoChange_Completed_with_Interactive",ERROR:"AutoChange_Error_with_Interactive",FAILED:"AutoChange_Failed_with_Interactive",INTERRUPTED:"AutoChange_Interrupted_with_Interactive",USER_UPDATED_PASSWORD:"AutoChange_UserUpdatedPassword_with_Interactive"}},v=function(a,b){this._guids=a;this._guidsStatus={};this._currentGuidIndex=0;this._mapTapSession={};this._currentTabID=
null;this.isSessionWithInteractiveStep=!1;this._domainName=null;this._processedPages=[];this._ruleHistory=[];this._isStartedFromCP=void 0===b?!1:b};v.prototype.setStatus=function(a){var b=a.getGuid(),c="";switch(a.getState()){case k.READY:c=q.IN_PROGRESS;break;case k.COMPLETED:c=q.SUCCESS;break;case k.FAILED:c=q.FAILURE;break;case k.INTERACTIVE:this.isSessionWithInteractiveStep=!0,c=q.INTERACTIVE}this._guidsStatus[b]=c;this._sendCurrentStatusToContentScript(a.getTabId(),c)};v.prototype._sendCurrentStatusToContentScript=
function(a,c){f(a)||(f(c)?b.debug("_sendCurrentStatusToContentScript received null status"):g.getTab(a,function(a){g.sendMessageToTab(a,{id:l.AUTOCHANGE_BANNER_TYPE,bannerType:c},function(){})}))};v.prototype.getStatus=function(a){return this._guidsStatus[a]};v.prototype.clearStatus=function(a){delete this._guidsStatus[a]};v.prototype._getLoginItem=function(a){a=p.getItemManager(p.constructor.LOGIN_MANAGER).getItem(a);return f(a)?null:a};v.prototype._getMatchingIndexOfSiteNameInLocalizedText=function(a){var b=
[h.getLocalizedString("AutoChange Fail"),h.getLocalizedString("AutoChange Backup")],c=a.indexOf(b[0]);a=a.indexOf(b[1]);return-1!==c?c:-1!==a?a:-1};v.prototype._savePasswordIntoVaultFailedCase=function(c){var d=c.getGuid();if(f(d))b.log("Password succesfully Changed but LoginItem Guid missing, new password is "+c.getNewPassword());else{var e=this._getLoginItem(d);if(f(e))b.log("Password succesfully Changed but LoginItem missing, new password is "+c.getNewPassword());else{d=h.getLocalizedString("AutoChange Fail");
e=e.clone();var g=e.getSiteName(),k=v.prototype._getMatchingIndexOfSiteNameInLocalizedText(g);-1!==k&&(g=g.substring(0,k-1));k=new Date;g=g+" "+d+" "+(k.getMonth()+1)+"/"+k.getDate()+"/"+k.getFullYear()+"/"+k.getHours()+":"+k.getMinutes()+":"+k.getSeconds();e.setPath("{"+a.utils.createNewGuid()+"}");e.setSiteName(g);e.setPassword(c.getNewPassword());e.setLastUpdate((new Date).getTime()/1E3);p.getItemManager(p.constructor.LOGIN_MANAGER).addItem(e,!0)}}};v.prototype._savePasswordIntoVaultSuccessCase=
function(c){var d=c.getGuid();if(f(d))b.log("Password succesfully Changed but LoginItem Guid missing, new password is "+c.getNewPassword());else{var g=this._getLoginItem(d);if(f(g))b.log("Password succesfully Changed but LoginItem missing, new password is "+c.getNewPassword());else{e.passwordChanger.addRecentlyChangedSuccessLogin(g.getPath());d=h.getLocalizedString("AutoChange Backup");var k=g.clone(),l=k.getSiteName(),m=v.prototype._getMatchingIndexOfSiteNameInLocalizedText(l);-1!==m&&(l=l.substring(0,
m-1));m=new Date;l=l+" "+d+" "+(m.getMonth()+1)+"/"+m.getDate()+"/"+m.getFullYear()+"/"+m.getHours()+":"+m.getMinutes()+":"+m.getSeconds();k.setSiteName(l);k.setPath("{"+a.utils.createNewGuid()+"}");g.setPassword(c.getNewPassword());p.getItemManager(p.constructor.LOGIN_MANAGER).addUpdateItems([k,g],!0,function(a){var b=h.getLocalizedStringWithFormat("Your {0} login has been successfully updated.",[g.getSiteName()]);t.reportHttpStatusCode(a,null,b)})}}};v.prototype._getPageManagerForLoginSite=function(a){a=
e.passwordChanger.getPasswordChangerRule().getPasswordChangerJSONRuleForPage(a);return f(a)?null:new e.PasswordChangerPageManager(a)};v.prototype._createTabSession=function(a,d){var h=this,l=this._getLoginItem(a);if(!f(l)){var m=new e.PasswordChangerTabSession,n=(new URI(l.getLoginURL())).domain();if(!f(n)&&(n=this._getPageManagerForLoginSite(n),!f(n))){var p=n.getStartingPage();if(!f(p)){e.passwordChanger.clearCachedTelemetryData();var q=n.getExcludedSymbols();q=e.passwordGenerator.createPassword(12,
!0,!0,!0,!0,q);m.setNewPassword(q);b.log("New Password "+q);n.preparePageRule(l.getUsername(),l.getPassword(),q);m.setState(k.READY);m.setPageManager(n);m.setCurrentPageKey(p);c(d)?(this._mapTapSession[d]=m,g.updateTabUrl(d,n.getURL,function(a){})):g.createTab(n.getURL(),function(b){b=g.getTabID(b);m.setTabId(b);m.setGuid(a);h._mapTapSession[b]=m;h._currentTabID=b});m.setGuid(a);this.setStatus(m)}}}};v.prototype._isPasswordChangerFlowCompleted=function(a){return a!=k.COMPLETED&&a!=k.FAILED?!1:!0};
v.prototype._handleAutoChangeState=function(c,d){if(f(c))b.log("Invalid tab ID found");else{var h=this;setTimeout(function(b,c){g.getAllTabs(function(a){a.forEach(function(a){f(a)||f(a.url)||-1===a.url.indexOf("content/ui/vault-tab-ui.html")||(g.activateTab(g.getTabID(a)),h._sendMessageToDashboardUI(c))});g.closeTab(b)});e.vaultTabUI.controller.showDashboardtModal();a.utils.createCustomHTMLEvent(e.constants.AUTOCHANGE_FINISHED)},5E3,c,d)}};v.prototype._sendMessageToDashboardUI=function(a){f(a)?b.log("Empty status found. Dont any message to dashboard UI"):
g.getAllTabs(function(b){b.forEach(function(b){f(b.url)||-1!==b.url.indexOf("content/ui/vault-tab-ui.html")&&g.sendMessageToTab(b,{type:a},function(a){})})})};v.prototype.processTaskStatus=function(a,d){var h=this;if(!f(a.status)){b.log("processTaskStatus "+JSON.stringify(a));var l=a.status,n=this._mapTapSession[d];if(!f(n))if(this._isPasswordChangerFlowCompleted(a.pageIndex))b.debug("The pageIndex:"+a.pageIndex+" has been discarded: "+JSON.stringify(a));else{if(c(a.pageId)){if(this._processedPages.includes(a.pageId)){b.debug("Page has already been resolved: "+
JSON.stringify(a));a.status!==m.FAILED&&this.preProcessTelemetry("FAILURE_OVERWRITTEN_BY_SUCCESS","Page Index "+a.currentPageKey,"Rule Index "+a.numberOfsuccess);return}this._processedPages.push(a.pageId)}g.getTab(d,function(b){return h._ruleHistory.push({pageKey:a.currentPageKey,url:r(b.url)})});var p=n.getGuid();p=this._getLoginItem(p);c(p)&&p.getLoginURL();switch(l){case m.FAILED:n.getState()!==k.COMPLETED&&n.getState()!==k.FAILED&&(b.log("Change passsword failed"),l=n.getPageManager().getPages(),
l=this.getRuleSelectors(l.Pages),this.handleContentScriptTelemetry(d,l,this._ruleHistory),l=n.getCurrentPageKey(),p=a.numberOfsuccess,n.setLogoutState(k.LOGOUT_INITIATED),n.setCurrentPageKey(m.LOGOUT),this._mapTapSession[d]=n,this.processNextStep(d),n.setLogoutState(k.LOGOUT_COMPLETED),n.setState(k.FAILED),this.setStatus(this._mapTapSession[d]),!0===e.vaultKeys.isLocked()?(this.preProcessTelemetry("ERROR","Page Index "+l,"Rule Index "+p),setTimeout(g.closeTab,5E3,d)):(this._handleAutoChangeState(d,
q.FAILURE),!0===n.getSavePassword()?(this._savePasswordIntoVaultFailedCase(n),this.preProcessTelemetry("FAILED","Page Index "+l,"Rule Index "+p)):this.preProcessTelemetry("ERROR","Page Index "+l,"Rule Index "+p)));break;case m.SUCCESS:n.getState()!==k.COMPLETED&&n.getState()!==k.FAILED&&(b.log("Password Changed success"),n.setLogoutState(k.LOGOUT_INITIATED),n.setCurrentPageKey(m.LOGOUT),this._mapTapSession[d]=n,this.processNextStep(d),n.setLogoutState(k.LOGOUT_COMPLETED),n.setState(k.COMPLETED),this.setStatus(this._mapTapSession[d]),
this._handleAutoChangeState(d,q.SUCCESS),this._savePasswordIntoVaultSuccessCase(n),this.preProcessTelemetry("COMPLETED"));break;case m.NEXT_PAGE:n.setCurrentPageKey(a.pageIndex);l=setTimeout(this.processNextStep.bind(this),5E3,d);n._fallbackTimerId=l;this._mapTapSession[d]=n;this.getStatus(n.getGuid())===q.INTERACTIVE&&(n.setState(k.READY),this.setStatus(this._mapTapSession[d]),this._sendMessageToDashboardUI(q.IN_PROGRESS));break;case m.GET_PAGE:n.setCurrentPageKey(a.pageIndex);this._mapTapSession[d]=
n;this.processNextStep(d);break;case m.INTERACTIVE_STEP:g.activateTab(d);n=this._mapTapSession[d];n.setState(k.INTERACTIVE);this.setStatus(n);this._sendMessageToDashboardUI(q.INTERACTIVE);break;case m.NEW_PASSWORD:n.getPasswordSaved()||(n.setPasswordSaved(!0),n.getNewPassword()!==a.password&&(d=n.getGuid(),d=this._getLoginItem(d),c(d)&&d.getLoginURL(),this.preProcessTelemetry("USER_UPDATED_PASSWORD","Page Index "+n.getCurrentPageKey())),n.setNewPassword(a.password),n.setSavePassword(!0))}}}};v.prototype.startSession=
function(){var b=this._guids[this._currentGuidIndex];f(b)||(this._getLoginItem(b),this.preProcessTelemetry("LAUNCHED"),this._createTabSession(b,this._currentTabID),a.utils.createCustomHTMLEvent(e.constants.AUTOCHANGE_STARTED))};v.prototype.passwordChangerStoppedByUserTelemetry=function(a){var b=a.getGuid();b=this._getLoginItem(b);a.getState();c(b)&&b.getLoginURL();this.preProcessTelemetry("INTERRUPTED","Page Index "+a.getCurrentPageKey())};v.prototype.clearTab=function(a,b){b=void 0===b?null:b;var c=
!1;if(f(a)){c=!0;for(var d in this._mapTapSession)this.handleTabStatus(d,c,b),delete this._mapTapSession[d]}else this.handleTabStatus(a,c,b),delete this._mapTapSession[a],this._currentTabID=null,this._processedPages=[]};v.prototype.handleTabStatus=function(b,d,f){f=void 0===f?null:f;b=this._mapTapSession[b];if(c(b)){var h=b.getState();h!==k.COMPLETED&&h!==k.FAILED&&(b.setState(k.FAILED),this.setStatus(b),f?this.preProcessTelemetry("ERROR","URL_NOT_SUPPORTED:"+r(f)):this.passwordChangerStoppedByUserTelemetry(b),
this._sendMessageToDashboardUI(q.FAILURE),a.utils.createCustomHTMLEvent(e.constants.AUTOCHANGE_FINISHED));c(window.safari)?c(window.safari.application)&&g.getAllWindows(function(a){0!==a.length&&!1===e.vaultKeys.isLocked()&&e.vaultTabUI.controller.showDashboardtModal()}):d||!1!==e.vaultKeys.isLocked()||e.vaultTabUI.controller.showDashboardtModal()}};v.prototype.processNextStep=function(d){var h=this._mapTapSession[d];if(!f(h)){this._sendCurrentStatusToContentScript(d,q.IN_PROGRESS);c(h._timeOut)&&
(b.log("tab session time out cleared"),clearTimeout(h._timeOut));c(h._fallbackTimerId)&&(clearTimeout(h._fallbackTimerId),h._fallbackTimerId=null);var p=h.getGuid();p=this._getLoginItem(p);f(p)?setTimeout(g.closeTab,5E3,d):!0===e.vaultKeys.isLocked()&&h.getLogoutState()!==k.LOGOUT_INITIATED?this.processTaskStatus({status:m.FAILED,numberOfsuccess:"VaultClosed"},d):h._timeOut=setTimeout(function(c){f(c._timeOut)&&(clearTimeout(c._timeOut),c._timeOut=null);if(c.getLogoutState()!==k.LOGOUT_COMPLETED){var e=
c.getCurrentPage();if(!f(e)){var h={};h=e;h.status=c.getState();h.id=l.PAGE_ACTIONS;h.pageId=Date.now();b.log("pushing the rule for the page :"+c.getCurrentPageKey()+" => "+JSON.stringify(h));g.getTab(d,function(b){a.extensionAdapter.sendMessageToTab(b,h,function(a){})})}}},500,h)}};v.prototype.cancelForUserNavigation=function(a,b){var c=this._mapTapSession[b];f(c)||!1!==this.isAllowedUrl(c,a.url)||(this.clearTab(b,a.url),g.closeTab(b))};v.prototype.isAllowedUrl=function(a,b){a=a.getPageManager().getAllowedURL();
var c=new URL(b);return-1!==a.findIndex(function(a){return(new URL(a)).hostname===c.hostname})};v.prototype.notifyAutoChangeRunning=function(a,b){var c=this._mapTapSession[a];return c&&c.getTabId()===a&&this.isAllowedUrl(c,b)};v.prototype.cancelSession=function(){this.clearTab()};v.prototype._getDomainName=function(){if(f(this._domainName)){var a=this._guids[this._currentGuidIndex],b="InvalidURL";if(c(a)&&(a=this._getLoginItem(a),c(a)))try{b=(new URL(a.getLoginURL())).hostname}catch(A){b="InvalidURL"}this._domainName=
b}return this._domainName};v.prototype.getRuleSelectors=function(a){return c(a)?(a=Object.values(a).map(function(a){return a.Actions}).reduce(function(a,b){return a.concat(b)},[]).filter(function(a){return"open"!==a.Action}).map(function(a){return a.Xpath}),Array.from(new Set(a))):[]};v.prototype.handleContentScriptTelemetry=function(a,b,c){b=void 0===b?[]:b;c=void 0===c?[]:c;if(!f(a)){var e=function(a){return Object.keys(a).filter(function(b){return""!=a[b]}).reduce(function(b,c){var d={},f={};return"object"===
typeof a[c]?Object.assign(b,(d[c]=e(a[c]),d)):Object.assign(b,(f[c]=a[c],f))},{})},h=function(a){var b=r(a.pageUrl),f=a.frameUrls.map(function(a){return r(a)}),g=a.selectorsFound;a=a.inputsOnSite.map(function(a){return e(a)});b={urls:[b].concat($jscomp.arrayFromIterable(f)),ruleHistory:c,selectorsFound:g,inputsOnSite:a};d.sendAutochangeErrorTelemetry(JSON.stringify(b))};g.getTab(a,function(a){g.sendMessageToTab(a,{id:l.AUTOCHANGE_CS_TELEMETRY,selectors:b},h)})}};v.prototype.preProcessTelemetry=function(c,
g){for(var h=[],k=1;k<arguments.length;++k)h[k-1]=arguments[k];k=this.isSessionWithInteractiveStep&&"LAUNCHED"!==c?u.INTERACTIVE[c]:u[c];var l=this._getDomainName();h=h.join("-");var m=e.passwordChanger.getPasswordChangerRuleVersion();l=k+"-"+(0<h.length?l+"-"+h:l)+"-"+m;f(k)||f(l)?b.log("invalid telemetry data"):(e.passwordChanger.addTelemetryDataItemIntoCach(JSON.stringify(l)),this._isStartedFromCP?d.autoPasswordChanger(l,{key:a.telemetryConstants.parameters.CUSTOM_DIMENSION4,value:"mot"}):d.autoPasswordChanger(l))};
return v}(e.SymBfw,e.IDSafe)})(executionContext);
(function(e){e.IDSafe.PasswordChangerTabSession=function(a,e){var f=a.utils.isNil;a=function(){this._timeOut=this._newPassword=this._tabID=this._currentPageKey=this._pageManager=this._state=this._guid=null;this._isPasswordSaved=this._savePassword=!1};a.prototype.getPasswordSaved=function(){return this._isPasswordSaved};a.prototype.getSavePassword=function(){return this._savePassword};a.prototype.setSavePassword=function(a){this._savePassword=a};a.prototype.setPasswordSaved=function(a){this._isPasswordSaved=
a};a.prototype.setGuid=function(a){this._guid=a};a.prototype.getGuid=function(){return this._guid};a.prototype.getNewPassword=function(){return this._newPassword};a.prototype.setNewPassword=function(a){this._newPassword=a};a.initialize=function(){};a.prototype.setState=function(a){this._state=a};a.prototype.getLogoutState=function(){return this._state};a.prototype.setLogoutState=function(a){this._state=a};a.prototype.getState=function(){return this._state};a.prototype.setTabId=function(a){this._tabID=
a};a.prototype.getTabId=function(){return this._tabID};a.prototype.setPageManager=function(a){this._pageManager=a};a.prototype.getPageManager=function(){return this._pageManager};a.prototype.getCurrentPage=function(){var a=this.getCurrentPageKey();if(f(a))return null;var b=this._pageManager.getPages();if(b.Pages.hasOwnProperty(a)){var e=b.Pages[a];e.allowedUrl=b.allowedUrl;e.currentPageKey=a;return e}return null};a.prototype.setCurrentPageKey=function(a){this._currentPageKey=a};a.prototype.getCurrentPageKey=
function(){return this._currentPageKey};return a}(e.SymBfw,e.IDSafe)})(executionContext);
(function(e){e.IDSafe.dashboardNotificationHandler=function(a,e,f){var c=a.utils.isNil,b=a.utils.isntNil,g=a.utils.isFunction,k=a.logger,p=a.notificationCenter;e=f.notificationIcon;var l=f.constants.SECURITY_DASHBOARD,m=l.NOTIFICATIONS,d=l.NOTIFICATION_ACTION_RESPONSE,h=f.eventUITelemetryWrapper.constants,q=a.extensionAdapter,r=a.constants.uiConstants.NOTIFICATION.MESSAGES,t={};t.notificationType=[{type:m.NEW_FEATURE_NOTIFICATION,category:"NEW",image:e.getInfoIcon,message:"Visit your vault to see how secure your passwords are."},
{type:m.STRONG_MSG_NOTIFICATION,category:"STRONG",image:e.getGoodIcon,message:"Your vault safety score is strong. {0}."},{type:m.MEDIUM_MSG_NOTIFICATION,category:"MEDIUM",image:e.getAlertIcon,message:"Your vault safety score needs improvement. {0}"},{type:m.WEAK_MSG_NOTIFICATION,category:"WEAK",image:e.getErrorIcon,message:"Your vault safety score is at risk. {0}."}];t._viewDashboard=function(a){k.debug("viewDashboard callback called "+JSON.stringify(a));c(a)||c(a.actionCalback)||!g(a.actionCalback)||
(a.actionCalback(d.VIEW_DASHBOARD,a),a.notificationType!==m.NEW_FEATURE_NOTIFICATION&&f.eventUITelemetryWrapper.sendSecurityAlertPopupEventTelemetry(h.action.CLICK,h.elementId.SECURITY_ALERT_POPUP_VIEW_DASHBOARD,a.notificationType))};t._close=function(a){k.debug("_close callback called "+JSON.stringify(a));c(a)||c(a.actionCalback)||!g(a.actionCalback)||(a.actionCalback(d.CLOSE,a),a.notificationType!==m.NEW_FEATURE_NOTIFICATION&&f.eventUITelemetryWrapper.sendSecurityAlertPopupEventTelemetry(h.action.CLICK,
h.elementId.SECURITY_ALERT_POPUP_CLOSE,a.notificationType))};t._getNotificationDetails=function(a){return t.notificationType.find(function(b){return a===b.type})};t._hideOnAutoChangeTab=function(a){f.passwordChanger.isAutoChangeRunning(a)&&q.sendMessageToTab(a,{id:r.DEFAULT_MESSAGE,payload:{eventID:r.HIDE_NOTIFICATIONS}})};t._handleNotificationShow=function(a,c,d){a=(void 0===a.payload?{}:a.payload).eventID;b(a)&&a===r.NOTIFICATIONS_SHOWN&&t._hideOnAutoChangeTab(d)};t.showSecurityDashboardNotification=
function(b,d){d=void 0===d?"Security DashBoard Default Data":d;k.log("showing alert in progress");var e=t._getNotificationDetails(b);if(!c(e)){var g=e.image(),h=a.localizer.getLocalizedStrings(f.uiConstants.VAULT_TAB.strings),l=h["Visit your vault to see how secure your passwords are."];b===m.NEW_FEATURE_NOTIFICATION?e=h["New Safety Dashboard Available"]:(b=l,l=h[e.message],l=l.replace("{0}",b),e=h["Safety Dashboard Health"]);h=h["View Dashboard"];b=[];b.push(q.getExtensionURL("content/ui/vault-tab-ui.html"));
d=new a.QuestionNotification(l,d,h,t._viewDashboard,g,e,b);d.addCloseButtonAction(t._close);q.addMessageListener(t._handleNotificationShow);p.addNotification(d)}};return t}(e.SymBfw,e.SymO2,e.IDSafe)})(executionContext);
(function(e){e.IDSafe.securityDashboardScore=function(a,e){var f={getweightageForMonth:function(a){return 6>=a?0:8>=a?.1:10>=a?.3:.32},calculateScore:function(a,b,e,k){a=f._ageFactor(b,a);1<e&&1<=k&&(a=f._duplicateFactor(a,e,k));return a},_ageFactor:function(a,b){a=f.getweightageForMonth(a);return b*(1-a)},_duplicateFactor:function(a,b,e){b=1-1/e*b;return a*(b?b:.01)}};return f}(e.SymBfw,e.IDSafe)})(executionContext);
(function(e){e.IDSafe.securityDashboard.securityDashboardNotificationMgr=function(a,e){var f=a.utils.isNil,c=a.utils.isntNil,b=a.utils.isFunction,g=a.utils.isEmptyObject,k=a.settings,p=e.constants,l=a.logger,m=p.SECURITY_DASHBOARD.NOTIFICATIONS,d=p.SECURITY_DASHBOARD.NOTIFICATION_ACTION_RESPONSE,h={WEAK:m.WEAK_MSG_NOTIFICATION,MEDIUM:m.MEDIUM_MSG_NOTIFICATION,STRONG:m.STRONG_MSG_NOTIFICATION},q={_settingsContainer:{},_newFeaturePopupVisible:!1,_dashboardHealthPopupVisible:!1,initialize:function(a){if(!b(a))throw Error("callback must be a function");
k.loadSettingsContainer(p.IDSAFE_SECURITY_DASHBOARD_NOTIFICATION_CONTAINER,!0,function(b,c,d){!1===b||f(c)?(l.error("failed to load IDSAFE_GLOBAL_SETTINGS_CONTAINER"),a(!1)):(q._settingsContainer=c,a(!0))})},_getPopupDisplaySettings:function(a){return f(q._settingsContainer)||f(a)?(l.log("Cannot retrieve elements when key or settings container are null"),null):q._settingsContainer.getObject(a)},_setPopupDisplaySettings:function(a,b){f(q._settingsContainer)||f(a)?l.log("Cannot set to settings container when key or settingsContainer are null"):
q._settingsContainer.setObject(a,b)},_launchNewFeaturePopup:function(){var a=q._getPopupDisplaySettings(p.SECURITY_DASHBOARD_FEATURE_POPUP_SHOWN);if(c(a)&&!0===a)return l.log("Have already displayed New feature popup. Hence exit on display call"),!1;if(!0===q._newFeaturePopupVisible)return l.log("New feature popup already made visible. Dont prompt for another"),!0;e.dashboardNotificationHandler.showSecurityDashboardNotification(m.NEW_FEATURE_NOTIFICATION,{actionCalback:q.handlePopupControls,notificationType:m.NEW_FEATURE_NOTIFICATION});
return q._newFeaturePopupVisible=!0},_launchDashboardHealthStatusPopup:function(){var a=q._getPopupDisplaySettings(p.SECURITY_DASHBOARD_HEALTH_STATUS_POPUP_NEXT_OCCURANCE),b=(new Date).getTime()/6E4;b=Math.round(b);if(f(a))return a=new Date,a=a.setDate(a.getDate()+30)/6E4,a=Math.round(a),q._setPopupDisplaySettings(p.SECURITY_DASHBOARD_HEALTH_STATUS_POPUP_NEXT_OCCURANCE,a),!1;if(a>b)return l.log("Time hasnt been lapsed to display the dashboard health status again"),!1;if(!0===q._dashboardHealthPopupVisible)return l.log("Dashboard health status popup already made visible. Dont prompt for another"),
!0;a=e.securityDashboard.engine.getDashboardStrengthCategory();e.dashboardNotificationHandler.showSecurityDashboardNotification(h[a],{actionCalback:q.handlePopupControls,notificationType:h[a]});return q._dashboardHealthPopupVisible=!0},_handleViewDashboardClickOnPopup:function(a){f(a)?l.log("Cannot handle when popupType is null"):(e.vaultTabUI.controller.showDashboardtModal(),q._handleNextOccuranceOfPopup(a))},_handleNextOccuranceOfPopup:function(a){f(a)?l.log("Cannot handle when popupType is null"):
a===m.NEW_FEATURE_NOTIFICATION?(q._setPopupDisplaySettings(p.SECURITY_DASHBOARD_FEATURE_POPUP_SHOWN,!0),q._newFeaturePopupVisible=!1):a===m.STRONG_MSG_NOTIFICATION||a===m.MEDIUM_MSG_NOTIFICATION||a===m.WEAK_MSG_NOTIFICATION?(a=new Date,a=a.setDate(a.getDate()+30)/6E4,a=Math.round(a),q._setPopupDisplaySettings(p.SECURITY_DASHBOARD_HEALTH_STATUS_POPUP_NEXT_OCCURANCE,a),q._dashboardHealthPopupVisible=!1):l.log("Invalid popup type found")},handlePopupControls:function(a,b){f(b)||f(b.notificationType)||
f(a)?l.log("Custom data cannot be null"):[{actionType:d.CLOSE,handler:q._handleNextOccuranceOfPopup},{actionType:d.VIEW_DASHBOARD,handler:q._handleViewDashboardClickOnPopup}].find(function(b){return a===b.actionType}).handler(b.notificationType)},displayPopupOnVaultUnlock:function(){var a=e.vaultManager.getItemManager(e.vaultManager.constructor.LOGIN_MANAGER).getItems();g(a)?l.log("Found an empty vault and hence exiting from display toaster"):q._launchDashboardHealthStatusPopup()}};return q}(e.SymBfw,
e.IDSafe)})(executionContext);var isNil=SymBfw.utils.isNil,isntNil=SymBfw.utils.isntNil,localizer=SymBfw.localizer,notificationCenter=SymBfw.notificationCenter,timeToShow=6E4,globalSettings=IDSafe.globalSettings,notificationIcon=IDSafe.notificationIcon,idsafeConstants=IDSafe.constants,WelcomeNotification=function(){};
WelcomeNotification.prototype.show=function(){setTimeout(function(){if(!globalSettings.getValue(idsafeConstants.WELCOME_NOTIFICATION_CLICKED)){var e=localizer.getLocalizedStringsWithFormat({"Your {0} extension includes some great new features to help you safely manage your passwords.":["__LONG_PRODUCT_NAME__"],"New {0}":["__LONG_PRODUCT_NAME__"]}),a=e["Your {0} extension includes some great new features to help you safely manage your passwords."];e=e["New {0}"];var k=notificationIcon.getInfoIcon();
a=new SymBfw.QuestionNotification(a,{},localizer.getLocalizedString("Learn More"),function(){IDSafe.mainUI.openSiteDirector(idsafeConstants.WELCOME_LEARNMORE_SSDCAT);IDSafe.telemetryWrapper.sendLearnMoreClicked();globalSettings.setValue(idsafeConstants.WELCOME_NOTIFICATION_CLICKED,"true")},k,e);a.addCloseButtonAction(function(){IDSafe.telemetryWrapper.sendCloseClicked();globalSettings.setValue(idsafeConstants.WELCOME_NOTIFICATION_CLICKED,"true")});notificationCenter.addNotification(a)}},timeToShow)};
IDSafe.welcomeNotification=new WelcomeNotification;
(function(e){e.IDSafe.vaultUnlockManager=function(a,k,f){var c=this,b=a.utils.isNil,g=a.utils.isntNil,B=a.utils.isBoolean,p=k.cryptoUtils,l=k.vaultUnlockSettings,m=k.constants,d=k.vaultKeys,h=a.extensionAdapter,q={},r=k.uiConstants.MOBILE_UNLOCK.messages,t=k.constants.VAULT_UNLOCK,u=k.constants.VAULT_UNLOCK.SETTINGS_KEY,v=a.logger,w=forge.util.encode64,n=f.spocManager,A=f.session,E=f.constants.spoc.internalErrors.SUCCESS,D=k.apiGateWay,x=k.constants.VAULT_UNLOCK.RESPONSE_STATUS,z=e.Buffer.Buffer,
C=k.constants.VAULT_UNLOCK.RESPONSE_STATUS_CODE,y=k.eventUITelemetryWrapper,G=y.constants.action,H=y.constants.elementId,N=k.constants.SPOC_CHANNELS.VAULT_MOBILE_REGISTRATION,O=k.constants.SPOC_CHANNELS.VAULT_MOBILE_UNLOCK;q.naGuid=null;q.spocIdentity=null;q.deviceList=null;q.authorizedDevice=null;q.notificationID=null;q.welcomeNotificationId=null;q.openVaultTabUI=!0;q.automaticMobileUnlockRequest=!1;q.handleMessage=function(a,c,d){if(!b(a)&&!b(a.id))try{switch(a.id){case r.GET_NA_DEVICES:return D.getDeviceList().then(function(a){q.deviceList=
a.getDevice();try{c(q.deviceList)}catch(Y){v.debug(Y)}}).catch(function(a){if(a.hasOwnProperty("status")){v.error("GET_NA_DEVICES failed with status : "+a.status);var b=403===a.status&&a.headers[t.AWS_ERROR_TYPE].toLowerCase()===x.INVALID_SIGNATURE_EXCEPTION?x.INVALID_SIGNATURE_EXCEPTION:x.SOMETING_WENT_WRONG}else b=x.SOMETING_WENT_WRONG,v.error(a);q.showMobileUnlockNotification(b);c(null)}),!0;case r.GET_AUTHORIZED_DEVICE:c(q.authorizedDevice);break;case r.SETUP_MOBILE_UNLOCK:if(b(a.payload)||b(a.payload.deviceId)){q.showMobileUnlockNotification(x.SOMETING_WENT_WRONG);
c({success:!1});break}var e=q._encryptVaultKeys();if(b(e)){q.showMobileUnlockNotification(x.SOMETING_WENT_WRONG);c({success:!1});break}for(var h=d=null,k=a.payload.deviceId,m,p,w=$jscomp.makeIterator(q.deviceList),F=w.next();!F.done;F=w.next()){var z=F.value;if(k===z.id){m=z.getPubKey();p=m.toArrayBuffer();h=z;break}}d=q._encryptWithPublicKey(e,p,h.os);a=!1;g(d)?(l.setEncryptedAESKey(f.utils.createStringBufferFromUint8Buffer(d)),a=!0,l.setRegisteredDevice(h.toBase64())):q.showMobileUnlockNotification(x.SOMETING_WENT_WRONG);
c({success:a});break;case r.REMOVE_REGISTERED_DEVICE:l.removeRegisteredDevice();c({success:!0});break;case r.GET_DEVICES_UPON_REGISTRATION_SPOC:var y=A.getNAGUID(),C=function(a,b){a.status.code===E&&D.getDeviceList().then(function(a){q.deviceList=a.getDevice();try{c(q.deviceList)}catch(ea){v.debug(ea)}g(q.spocIdentity)&&0!=q.deviceList.length&&(n.cancelSPOCRequest(q.spocIdentity),q.spocIdentity=null)}).catch(function(a){if(a.hasOwnProperty("status"))if(403===a.status&&a.headers[t.AWS_ERROR_TYPE].toLowerCase()===
x.INVALID_SIGNATURE_EXCEPTION)var b=x.INVALID_SIGNATURE_EXCEPTION;else b=x.SOMETING_WENT_WRONG,v.error(a.status);else b=x.SOMETING_WENT_WRONG,v.error(a);q.showMobileUnlockNotification(b);c(null)});return!1};n.poll(y,N,function(a,b){g(b)&&v.error(b);try{g(q.spocIdentity)&&(n.cancelSPOCRequest(q.spocIdentity),q.spocIdentity=null),q.spocIdentity=n.makeSpocRequest(y,N,C,a)}catch(Z){v.error(Z)}});return!0;case u.AUTO_MOBILE_UNLOCK_REQUEST:return B(a.payload)&&l.setAutoMobileUnlockRequest(a.payload),!1;
case r.SEND_UNLOCK_VAULT_TO_MOBILE:return q.openVaultTabUI=!0,q.unlockVaultWithMobile(function(a){try{c(a)}catch(Y){v.debug(Y)}}),!0}}catch(T){v.debug(T)}};q.unlockVaultWithMobile=function(d){try{if(k.vaultKeys.isLocked()){if(b(d))throw Error("callback is must required for unlockVaultWithMobile");var e=l.getRegisteredDevice();if(b(e))throw Error("No device registered for unlockVaultWithMobile");e=k.proto.devices.Device.decode64(e);var h=e.getPubKey().toArrayBuffer(),m=e.os,p=e.id,r=forge.random.getBytesSync(32),
u=forge.random.getBytesSync(16),A=w(r+u),z=q._encryptWithPublicKey(A,h,m);if(b(z))throw Error("Failed to encrypt session key with public key");var y=l.getEncryptedAESKey();y=f.utils.createUInt8BufferFromStringBuffer(y);if(b(y))throw Error("Failed to get encrypted AES key");var B=a.utils.createNewGuid().toString(),C=Date.now(),D=new k.proto.unlock.UnlockRequest;if(b(D))throw Error("Failed to create object for unlock request proto");D.setEncKey(y);D.setEncSessionkey(z);D.setBumpSessionid(B);D.setDeviceID(p);
D.setUTime(Date.now());D.setDesktopinfo(new k.proto.unlock.DesktopInfo);v.debug("Sending unlock request with sessionID : "+B+" and deviceId : "+p);var E=0,J=function(a){window.removeEventListener(B,c);0!==E&&clearTimeout(E);d(a.detail)};k.apiGateWay.unlockRequest(D.toBase64()).then(function(a){window.addEventListener(B,J);var b=q._startSPOC(B,r,u,m,C);E=setTimeout(function(){n.cancelSPOCRequest(b);window.removeEventListener(B,J);E=0;d(t.RESPONSE_STATUS.UNLOCK_REQUEST_TIMED_OUT)},t.UNLOCK_REQUEST_TIMEOUT)}).catch(function(a){a.hasOwnProperty("status")&&
(v.error("unlockRequest to apiGateway failed with status "+a.status),403===a.status&&a.headers[t.AWS_ERROR_TYPE].toLowerCase()===x.INVALID_SIGNATURE_EXCEPTION&&q.showMobileUnlockNotification(x.INVALID_SIGNATURE_EXCEPTION));g(d)&&d(t.RESPONSE_STATUS.UNLOCK_REQUEST_FAILED)})}}catch(Z){v.error(Z.message),g(d)&&d()}};q._startSPOC=function(c,d,e,h,m){if(b(c)||b(d)||b(e))throw Error("Cannot start spoc without entityID and sessionKeyIV");return n.makeSpocRequest(c,O,function(c,p){n.cancelSPOCRequests();
if(!k.vaultKeys.isLocked())return!1;if(c.status.code!==E)return v.log("VMU response spoc callback stopped"),!1;if(b(c.payload))return!1;p=c.payload.toArrayBuffer();p=new Uint8Array(p);p=f.utils.createStringBufferFromUint8Buffer(p);var r=JSON.parse(p);p=r.encKey;r=r.statusCode;var u=Date.now()-m;k.telemetryWrapper.sendVaultMobileUnlockResponselTime(u.toString());if(b(r)||r===C.INVALID_PUBLIC_KEY||r===C.KEY_PAIR_NOT_EXSISTS)return a.utils.createCustomHTMLEvent(c.entityID,t.RESPONSE_STATUS.UNLOCK_REQUEST_FAILED),
l.removeRegisteredDevice(),!1;if(b(p))return a.utils.createCustomHTMLEvent(c.entityID,t.RESPONSE_STATUS.UNLOCK_REQUEST_CANCELED),!1;q.mobileUnlockResponse(p,d,e,h,function(b){g(c.entityID)&&(!0===b.status?(b=Date.now()-m,k.telemetryWrapper.sendVaultMobileUnlockSuccessTime(b.toString()),b=t.RESPONSE_STATUS.UNLOCK_REQUEST_COMPLETE,y.sendUnlockSuccessFromUITelemetry(G.SHOW,H.VU_UNLOCK_SUCCESS_UI)):b=t.RESPONSE_STATUS.UNLOCK_REQUEST_FAILED,a.utils.createCustomHTMLEvent(c.entityID,b))});return!1},1)};
q.unlockVaultNotificationCallback=function(a){k.vaultUnlockManager.showMobileUnlockNotification(a)};q.showMobileUnlockNotification=function(b){if(!a.utils.isNil(b)){var c=null,d=null,e=c=null;switch(b){case x.INVALID_SIGNATURE_EXCEPTION:c=k.notificationIcon.getErrorIcon();d=a.localizer.getLocalizedString("Vault access denied. Adjust your device to the correct time then retry.");c=new a.TimedNotification(d,c,e);break;case x.UNLOCK_REQUEST_SENT:q.openVaultTabUI=!1;c=k.notificationIcon.getInfoIcon();
e=a.localizer.getLocalizedString("Mobile Unlock request sent");d=a.localizer.getLocalizedString("Please approve the request on your device to unlock your vault.");c=new a.TimedNotification(d,c,e);y.sendRequestSentNotificationTelemetry(G.SHOW,H.VU_UNLOCK_REQUEST_SENT);break;case x.UNLOCK_REQUEST_COMPLETE:c=k.notificationIcon.getGoodIcon();d=a.localizer.getLocalizedString("Your vault has been unlocked.");c=new a.TimedNotification(d,c);break;case x.UNLOCK_REQUEST_TIMED_OUT:case x.UNLOCK_REQUEST_CANCELED:case x.UNLOCK_REQUEST_FAILED:var f=
function(){y.sendUnlockRequestNotificationResendTelemetry(G.CLICK,H.VU_NOTIFICATION_RESEND);k.vaultUnlockManager.unlockVaultWithMobile(q.unlockVaultNotificationCallback)},g=function(){y.sendUnlockRequestNotificationEnterVaultPasswordTelemetry(G.CLICK,H.VU_NOTIFICATION_ENTER_VAULT_PASSWORD);k.signIn.openVaultLoginPage(!1)};c=k.notificationIcon.getAlertIcon();e=a.localizer.getLocalizedString("Mobile Unlock request sent");var h=a.localizer.getLocalizedString("Resend"),m=a.localizer.getLocalizedString("Enter vault password");
b===x.UNLOCK_REQUEST_TIMED_OUT?(d=a.localizer.getLocalizedString("We didn't get your approval confirmation."),y.sendRequestTimeoutNotificationTelemetry(G.SHOW,H.VU_UNLOCK_REQUEST_TIMEOUT)):b===x.UNLOCK_REQUEST_CANCELED?(d=a.localizer.getLocalizedString("You canceled our request. Resend the unlock approval to try again."),y.sendRequestCanceledNotificationTelemetry(G.SHOW,H.VU_UNLOCK_REQUEST_CANCELED)):b===x.UNLOCK_REQUEST_FAILED&&(d=a.localizer.getLocalizedString("The request sent to your mobile device failed"),
h=m,f=g,y.sendRequestNotSentNotificationTelemetry(G.SHOW,H.VU_UNLOCK_REQUEST_NOT_SENT));c=new a.QuestionNotification(d,{},h,f,c,e);b!=x.UNLOCK_REQUEST_FAILED&&c.addSecondaryLink(m,g);q.notificationID=c.getID();break;case x.SOMETING_WENT_WRONG:c=k.notificationIcon.getErrorIcon();d=a.localizer.getLocalizedString("Sorry, something went wrong. Please try again.");c=new a.TimedNotification(d,c);break;case x.UNLOCK_WELCOME:g=function(){y.sendVuWelcomenotificationRemindMeLaterTelemetry(G.CLICK,H.VU_WELCOME_NOTIFICATION_REMIND_ME_LATER);
q.welcomeNotificationId=null},c=k.notificationIcon.getInfoIcon(),e=a.localizer.getLocalizedString("Unlock Your Vault Faster"),f=a.localizer.getLocalizedString("OK"),m=a.localizer.getLocalizedString("Remind me later"),d=a.localizer.getLocalizedString("Learn how to use our mobile app to unlock your vault faster."),c=new a.QuestionNotification(d,{},f,function(){k.vaultTabUI.controller.openVaultTabUI();y.sendVuWelcomenotificationOkTelemetry(G.CLICK,H.VU_WELCOME_NOTIFICATION_OK);q.welcomeNotificationId=
null},c,e),q.welcomeNotificationId=c.getID(),c.addCloseButtonAction(function(){y.sendVuWelcomenotificationCloseTelemetry(G.CLICK,H.VU_WELCOME_NOTIFICATION_CLOSE);q.welcomeNotificationId=null}),1<l.getUnlockNotificationCount()&&c.addSecondaryLink(m,g),l.decrementUnlockNotificationCount()}(b!=x.UNLOCK_REQUEST_TIMED_OUT||k.vaultKeys.isLocked())&&a.utils.isntNil(c)&&a.notificationCenter.addNotification(c)}};q._encryptVaultKeys=function(){var a=forge.random.getBytesSync(32),c=forge.random.getBytesSync(16),
e=d.getChallengeKey(),h=f.utils.createStringBufferFromUint8Buffer(d.getEncryptionKey()),k=d.getEncodedVaultPassword();if(!(b(e)||b(h)||b(k))){e={challengeKey:e,vaultKey:h,passwordHash:k};try{var n=p.encryptData(m.AES_ALGORITHM.GCM,a,c,JSON.stringify(e));if(g(n))return n.data=f.utils.createStringBufferFromUint8Buffer(n.data),n.tag=f.utils.createStringBufferFromUint8Buffer(n.tag),l.setUnlockDerivedKeys(n),w(a+c)}catch(P){v.error(P.message)}}};q._encryptWithPublicKey=function(a,b,c){var d=null;try{switch(c){case t.ANDROID:d=
p.asymmetricEncryption(b,a);break;case t.IOS:var e=z.from("00000000000000000000000000000000","hex");d=p.hybridEncryption("prime256v1",b,"sha256",16,"aes-128-gcm",e,a)}}catch(I){v.error(I.message)}return d};q.mobileUnlockResponse=function(c,e,g,h,n){if(b(c))throw Error("encAesWithIV cannot be null");if(b(e))throw Error("sessionKey cannot be null");if(b(g))throw Error("sessionIV cannot be null");if(b(h))throw Error("osType data cannot be null");if(!a.utils.isFunction(n))throw Error("callback should be a function");
try{var q=forge.util.decode64(c),r=f.utils.createUInt8BufferFromStringBuffer(q);switch(h){case t.ANDROID:var u=r.slice(r.length-16,r.length),w=r.slice(0,r.length-u.length);var x=p.decryptData(m.AES_ALGORITHM.GCM,e,g,w,u);break;case t.IOS:var A=r.slice(0,32),z=r.slice(32,r.length),y=forge.hmac.create();y.start("sha256",e);y.update(f.utils.createStringBufferFromUint8Buffer(z));if(y.digest().getBytes()!==f.utils.createStringBufferFromUint8Buffer(A))throw Error("Incorrect HMAC");x=p.decryptData(m.AES_ALGORITHM.CBC,
e,g,z)}var B=forge.util.decode64(f.utils.createStringBufferFromUint8Buffer(x)),C=B.slice(0,32),D=B.slice(32,B.length),E=l.getUnlockDerivedKeys(),F=p.decryptData(m.AES_ALGORITHM.GCM,C,D,f.utils.createUInt8BufferFromStringBuffer(E.data),f.utils.createUInt8BufferFromStringBuffer(E.tag)),G=f.utils.createStringBufferFromUint8Buffer(F),H=JSON.parse(G);d.setChallengeKey(H.challengeKey);d.setEncryptionKey(f.utils.createUInt8BufferFromStringBuffer(H.vaultKey));d.storeEncodedVaultPassword(H.passwordHash);d.setUnlockUsingMobileFlag(!0);
k.session.openVault(null,function(a,b){a.state===k.vaultManager.constructor.state.CLIENT_UNAUTHORIZED&&b.message===m.vaultManager.stateInfo.INCORRECT_DECRYPT_KEY_ERROR&&l.removeNAGuidSettings();k.chromeGlobal.sendVaultStatus(a,b,n)})}catch(W){k.chromeGlobal.sendVaultStatus({state:k.vaultManager.constructor.state.CLIENT_UNAUTHORIZED},W,n),v.error(W.message)}};q.removeWelcomeNotification=function(b){g(b)&&a.notificationCenter.removeNotification(b)};h.addMessageListener(q.handleMessage);return q}(e.SymBfw,
e.IDSafe,e.SymO2)})(executionContext);var extensionAdapter=SymBfw.extensionAdapter,createVaultMessages=IDSafe.uiConstants.CREATE_VAULT.messages,changeVaultPasswordMessages=IDSafe.uiConstants.CHANGE_PASSWORD.MESSAGES,IDS_CONSTANTS=IDSafe.constants,extension=IDSafe.extension,PasswordStrength=function(){this.handlePasswordMeterRequests=this.handlePasswordMeterRequests.bind(this);this.openPasswordMeterKB=this.openPasswordMeterKB.bind(this)};
PasswordStrength.prototype.handlePasswordMeterRequests=function(e,a,k){var f=e.id;extensionAdapter.getTabID(k);switch(f){case createVaultMessages.CREATE_VAULT_PASSWORD:e=e.payload.password;k=IDSafe.securityDashboard.utils.getPasswordInfo(e);a({password:e,passwordInfo:k});break;case changeVaultPasswordMessages.PASSWORD_METER_LEARN_MORE_COMMON:this.openPasswordMeterKB(IDS_CONSTANTS.COMMON);break;case changeVaultPasswordMessages.PASSWORD_METER_LEARN_MORE_GUESSABLE:this.openPasswordMeterKB(IDS_CONSTANTS.GUESSABLE)}};
PasswordStrength.prototype.openPasswordMeterKB=function(e){e=e===IDS_CONSTANTS.COMMON?IDS_CONSTANTS.COMMONLY_USED_PASSWORD:IDS_CONSTANTS.GUESSABLE_PASSWORD;var a=SymBfw.localizer.getNavigatorLanguage().split("-"),k=a[0];a=a[1];SymBfw.utils.isNil(a)&&"ja"===k&&(a="JP");SymBfw.utils.isNil(a)&&(a="US");k=["product="+IDS_CONSTANTS.NORTON_IDENTITY_SAFE,"version="+extension.getVersion(),"language="+k,"country="+a];e=encodeURI(e+k.join("&"));extensionAdapter.createTab(e)};IDSafe.passwordStrength=new PasswordStrength;
(function(e){e.IDSafe.cspUIFlow=function(a,e){var f=e.constants,c=a.utils,b=a.extensionAdapter,g={_init:function(){b.addOnBeforeRequestEventListener(g._onBeforeRequest,[f.CSP_UI_FLOW_URL],["blocking"])},_onBeforeRequest:function(a){c.urlWithoutQueryParameters(a.url,!0)===f.CSP_UI_FLOW_URL&&(e.vaultKeys.isLocked()?e.signIn.openLoginFlow():e.vaultTabUI.controller.openVaultTabUI(),b.closeTab(a.tabId))}};g._init();return g}(e.SymBfw,e.IDSafe)})(executionContext);
