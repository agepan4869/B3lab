(function(c){c.IDSafe.notificationCenterProxy=function(e,c){var k=e.utils.isNil,h=e.utils.isntNil,l=e.logger,b=c.uiConstants.NOTIFICATION,f=c.uiUtils,m=e.utils.isArray,g=e.extensionAdapter,a={timeoutShowNotification:null,closeNotifications:function(){var a=document.getElementById(b.IFRAME_ID);h(a)&&document.documentElement.removeChild(a)},handleMessage:function(d){switch(d.eventID){case b.MESSAGES.NOTIFICATION_QUEUE_MESSAGE:if(!m(d.notificationArray)){l.log("unexpected payload for NOTIFICATION_QUEUE_MESSAGE");
break}h(a.timeoutShowNotification)&&clearTimeout(a.timeoutShowNotification);a.timeoutShowNotification=setTimeout(function(){a.notificationArray=d.notificationArray;0===a.notificationArray.length?a.closeNotifications():(a.showNotifications(),a.timeoutShowNotification=null)},100);break;case b.MESSAGES.HIDE_NOTIFICATIONS:a.closeNotifications()}},showNotifications:function(){a.closeNotifications();var d=g.getExtensionURL(b.HTML),c=g.getExtensionURL(b.STYLE);f.injectStyle(c);f.createFrame(b.IFRAME_ID,
d,b.HEIGHT,b.WIDTH)},addEventListener:function(){g.addContentScriptMessageListener(function(d,c,e){switch(d.id){case b.MESSAGES.DEFAULT_MESSAGE:if(k(d.payload))break;return a.handleMessage(d.payload);case b.MESSAGES.UI_INIT:return c({notifications:a.notificationArray,direction:f.getDirection()})}})},initialize:function(){f.isTopLevelWindow()&&(a.addEventListener(),g.sendMessage({id:b.MESSAGES.DEFAULT_MESSAGE,payload:{eventID:b.MESSAGES.NOTIFICATION_QUEUE_MESSAGE}}))}};window.addEventListener("pageshow",
function(b){a.initialize()});return a}(c.SymBfw,c.IDSafe)})(executionContext);
