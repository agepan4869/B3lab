(function(c){(c.IDSafe=c.IDSafe||{}).portalInstallFlowCS=function(c,e){var g=e.IDSPortalUtils.getCurrentWindowLocation();if(e.IDSPortalUtils.isLandingPageURL(g)){var a={},f=c.utils.isNil;a.constants={load:"71c5234a-6dae-48a0-b5c0-7a088e1ca022",close:"803eefc4-40ef-445e-8a6e-a072e5db04f3",updateStoreURL:"e0681b81-a1c6-457f-9c1a-bfab5b301924",closeStoreURL:"51b7334f-2168-4ba9-a60a-104af553b98e"};a._sendMessageToBGAndRemoveListener=function(b){f(b)||(c.extensionAdapter.sendMessage(b),window.removeEventListener("message",
a._handleEventFromPortal))};a._handleEventFromPortal=function(b){if(e.IDSPortalUtils.isLandingPageURL(b.origin)&&!f(b.data)){var d=a.constants;switch(b.data.action){case d.load:case "load":b=b.data.url;c.utils.isStorePageURL(b)?a._sendMessageToBGAndRemoveListener({name:d.updateStoreURL,message:b}):window.removeEventListener("message",a._handleEventFromPortal);break;case d.close:case "close":a._sendMessageToBGAndRemoveListener({name:d.closeStoreURL})}}};window.addEventListener("message",a._handleEventFromPortal);
return a}}(c.SymBfw,c.IDSafe)})(executionContext);
